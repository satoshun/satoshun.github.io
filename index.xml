<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
      <title>stsnãƒ–ãƒ­ã‚°</title>
      <generator uri="https://hugo.spf13.com">Hugo</generator>
    <link>https://satoshun.github.io/</link>
    <language>ja</language>
    <author>Sato Shun</author>
    <copyright>2018 Sato Shun</copyright>
    <updated>Sun, 23 Dec 2018 09:14:43 UTC</updated>
    
    
    <item>
      <title>Coroutine &#43; AutoDisposeã‚’ä½œã£ã¦ã¿ãŸ</title>
      <link>https://satoshun.github.io/2018/12/coroutine_autodispose/</link>
      <pubDate>Sun, 23 Dec 2018 09:14:43 UTC</pubDate>
      <author>Sato Shun</author>
      <guid>https://satoshun.github.io/2018/12/coroutine_autodispose/</guid>
      <description>

&lt;p&gt;Coroutine + AutoDisposeã®å®Ÿè£…ã«ã¤ã„ã¦è€ƒãˆã¦ã¿ã¾ã—ãŸã€‚çµè«–ã‹ã‚‰è¨€ã†ã¨ã€&lt;code&gt;ContinuationInterceptor&lt;/code&gt;ã‚’ä½¿ãˆã°ä¸Šæ‰‹ãã„ããã†ã§ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;continuationinterceptorã¨ã¯&#34;&gt;ContinuationInterceptorã¨ã¯?&lt;/h2&gt;

&lt;p&gt;ContinuationInterceptorã¯æ¬¡ã®ã‚ˆã†ãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;/**
 * Marks coroutine context element that intercepts coroutine continuations.
 * The coroutines framework uses [ContinuationInterceptor.Key] to retrieve the interceptor and
 * intercepts all coroutine continuations with [interceptContinuation] invocations.
 */
@SinceKotlin(&amp;quot;1.3&amp;quot;)
public interface ContinuationInterceptor : CoroutineContext.Element {
  public fun &amp;lt;T&amp;gt; interceptContinuation(continuation: Continuation&amp;lt;T&amp;gt;): Continuation&amp;lt;T&amp;gt;
  public fun releaseInterceptedContinuation(continuation: Continuation&amp;lt;*&amp;gt;)
  ...
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;interceptContinuation&lt;/code&gt;ã‹ã‚‰Continuationã‚’å—ã‘å–ã‚‹ã“ã¨ãŒã§ãã€Continuationã¯è‡ªèº«ã®CoroutineContextã‚’æŒã£ã¦ã„ã‚‹ã®ã§ã€ãã“ã‹ã‚‰Jobã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚ãã‚Œã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§Android Lifecycleã¨å”èª¿ã—ã¦å‹•ãContinuationInterceptorã‚’å®Ÿè£…ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;class LifecycleContinuationInterceptor(
  private val lifecycle: Lifecycle
) : ContinuationInterceptor {
  override val key: CoroutineContext.Key&amp;lt;*&amp;gt;
    get() = ContinuationInterceptor

  override fun &amp;lt;T&amp;gt; interceptContinuation(continuation: Continuation&amp;lt;T&amp;gt;): Continuation&amp;lt;T&amp;gt; {
    // Continuationã‹ã‚‰Jobã‚’å–å¾—
    val job = continuation.context[Job]
    if (job != null) {
      lifecycle.addJob(job)
    }
    return continuation
  }
}

fun LifecycleOwner.addJob(job: Job) {
  lifecycle.addJob(job)
}

fun Lifecycle.addJob(job: Job) {
  val state = this.currentState
  val event = when (state) {
      ...
  }
  val observer = LifecycleJobObserver(job, event, this)
  this.addObserver(observer)
  job.invokeOnCompletion(observer)
}

private class LifecycleJobObserver(
  private val job: Job,
  private val event: Lifecycle.Event,
  private val lifecycle: Lifecycle
) : LifecycleObserver, CompletionHandler {
  @OnLifecycleEvent(Lifecycle.Event.ON_ANY)
  fun onEvent(owner: LifecycleOwner, event: Lifecycle.Event) {
    if (event == this.event) {
      owner.lifecycle.removeObserver(this)
      job.cancel()
    }
  }

  override fun invoke(cause: Throwable?) {
    lifecycle.removeObserver(this)
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã“ã‚Œã§ã€Android Lifecycleã¨å”èª¿ã—ã¦å‹•ãContinuationInterceptorãŒå‡ºæ¥ã¾ã—ãŸã€‚&lt;/p&gt;

&lt;p&gt;ãƒ•ãƒ«ã‚³ãƒ¼ãƒ‰ã¯&lt;a href=&#34;https://github.com/satoshun-android-example/AutoDisposeExample/blob/master/autodispose/src/main/java/com/github/satoshun/coroutine/autodispose/lifecycle/LifecycleContinuationInterceptor.kt&#34;&gt;ã“ã“ã«&lt;/a&gt;ã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ä½¿ã„æ–¹&#34;&gt;ä½¿ã„æ–¹&lt;/h2&gt;

&lt;p&gt;ä½¿ã„æ–¹ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;abstract class BaseActivity : AppCompatActivity(),
  CoroutineScope {

  private val job = Job()
  override val coroutineContext get() = job +
      Dispatchers.Main +
      LifecycleContinuationInterceptor(this) // ã“ã“ã§Interceptorã‚’ç™»éŒ²
}

class MainActivity : BaseActivity() {
  override fun onCreate(savedInstanceState: Bundle?) {
    super.onCreate(savedInstanceState)

    // onCreateã§launchã—ã¦ã„ã‚‹ã®ã§ã€onDestroyã§è‡ªå‹•çš„ã«ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã•ã‚Œã‚‹
    launch {
      ...
    }
  }

  override fun onResume() {
    super.onResume()

    // onResumeã§launchã—ã¦ã„ã‚‹ã®ã§ã€onPauseã§è‡ªå‹•çš„ã«ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã•ã‚Œã‚‹
    launch {
      ...
    }
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã¨ãªã‚Šã¾ã™ã€‚&lt;a href=&#34;https://github.com/uber/AutoDispose&#34;&gt;Rx-AutoDispose&lt;/a&gt;ã®ã‚ˆã†ã«å®Ÿè¡Œã—ãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã«å¿œã˜ã¦ã€ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã™ã‚‹å ´æ‰€ã‚’è‡ªå‹•çš„ã«ç™»éŒ²ã—ã¦ãã‚Œã¾ã™!!&lt;/p&gt;

&lt;h2 id=&#34;ã¾ã¨ã‚&#34;&gt;ã¾ã¨ã‚&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;ã‚‚ã£ã¨è‰¯ã„æ›¸ãæ–¹ãŒå‡ºæ¥ã‚‹ã‹æ¨¡ç´¢ã—ã¦ã„ã‚‹ã®ã§ã€ã‚ˆã‚Šé©ã—ãŸAPIç­‰ã‚’çŸ¥ã£ã¦ã„ã‚‹äººãŒã„ã‚Œã°æ•™ãˆã¦ãã‚Œã‚‹ã¨å¬‰ã—ã„ã§ã™ğŸ˜ŠğŸ˜ŠğŸ˜Š&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/satoshun-android-example/AutoDisposeExample&#34;&gt;ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ã“ã“ã«ã‚ã‚Šã¾ã™&lt;/a&gt;ğŸ˜ƒ&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>Fragmentã¨getViewLifecycleã®è©±</title>
      <link>https://satoshun.github.io/2018/12/view_lifecycle/</link>
      <pubDate>Fri, 21 Dec 2018 07:08:34 UTC</pubDate>
      <author>Sato Shun</author>
      <guid>https://satoshun.github.io/2018/12/view_lifecycle/</guid>
      <description>

&lt;p&gt;ã“ã®è¨˜äº‹ã§ã¯Fragmentã§LiveDataã«Observerã‚’ç™»éŒ²ã™ã‚‹ã¨ãã¯&lt;code&gt;Fragment#getViewLifecycle&lt;/code&gt;ã‚’ä½¿ã†ã¨è‰¯ã„ã¨ã„ã†è©±ã‚’ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã¾ãšã€Fragmentã®ãŠãŠã¾ã‹ãªãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã¯æ¬¡ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;onAttach&lt;/li&gt;
&lt;li&gt;onCreate

&lt;ul&gt;
&lt;li&gt;onCreateView&lt;/li&gt;
&lt;li&gt;onViewCreated

&lt;ul&gt;
&lt;li&gt;&amp;hellip;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;onDestoryView&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;onDestroy&lt;/li&gt;
&lt;li&gt;onDetach&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ã“ã“ã§é‡è¦ãªã®ã¯ã€&lt;code&gt;onDestroy&lt;/code&gt;ãŒå‘¼ã°ã‚Œã‚‹ã“ã¨ãªãã€è¤‡æ•°å›&lt;code&gt;onCreateView&lt;/code&gt;ãŒå‘¼ã°ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ç‚¹ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;ä¾‹ãˆã°ã€æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã¯é–“é•ã£ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;class MainFragment: Fragment() {
    ...
    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)
        viewModel.data.observe(this, Observer {
            ...
        })
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ãªãœãªã‚‰ã€LiveDataã«æ¸¡ã—ãŸthisï¼ˆLifecycleOwnerï¼‰ã¯ã€è‡ªèº«ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã«é§†å‹•ã™ã‚‹ãŸã‚ã§ã™ã€‚
ã“ã®ObserverãŒé–‹æ”¾ã•ã‚Œã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¯ã€Fragment#onDestroyãŒã‚³ãƒ¼ãƒ«ã•ã‚ŒãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã«ãªã‚Šã¾ã™ã€‚
ã—ã‹ã—å‰è¿°ã—ãŸã¨ãŠã‚Šã€Fragment#onDestroyãŒã‚³ãƒ¼ãƒ«ã•ã‚Œãšã«ã€è¤‡æ•°å›onCreateViewãŒã‚³ãƒ¼ãƒ«ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚ã€å‰ã®ObserverãŒé–‹æ”¾ã•ã‚Œãšã«æ®‹ã£ã¦ã—ã¾ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;å‰è¿°ã®ã‚³ãƒ¼ãƒ‰ã®Observerã¯Fragmentæœ¬ä½“ã®Lifecycleã«é§†å‹•ã•ã‚Œã‚‹ã®ã§ã¯ãªãã€Fragmentã®Viewã«é§†å‹•ã™ã‚‹ãŸã‚ã€ã“ã®å•é¡ŒãŒèµ·ã“ã‚Šã¾ã™ã€‚
ã‚ˆã£ã¦ã€Fragmentã«ã¯Viewç”¨ã®LifecycleãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚ãã‚ŒãŒã€&lt;code&gt;Fragment#getViewLifecycle&lt;/code&gt;ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;å‰è¿°ã®ã‚³ãƒ¼ãƒ‰ã¯æ¬¡ã®ã‚ˆã†ã«æ›¸ãã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;class MainFragment: Fragment() {
    ...
    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)
        // Viewã®LifecycleOwnerã‚’æ¸¡ã™
        viewModel.data.observe(viewLifecycleOwner, Observer {
            ...
        })
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã“ã®ã‚ˆã†ã«æ›¸ãã“ã¨ã§ã€ObserverãŒViewã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã«é§†å‹•ã™ã‚‹ãŸã‚ã€è¤‡æ•°ã®ObserverãŒç™»éŒ²ã•ã‚Œã‚‹å•é¡Œã‚’å›é¿ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ï¼ï¼&lt;/p&gt;

&lt;h2 id=&#34;è£œè¶³1&#34;&gt;è£œè¶³1&lt;/h2&gt;

&lt;p&gt;ObserverãŒé–‹æ”¾ã•ã‚Œã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¯onDestroyãŒã‚³ãƒ¼ãƒ«ã•ã‚Œã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¨ã¯åˆ¥ã«ã‚‚ã†1ã¤ã‚ã‚Šã¾ã™ã€‚
ãã‚Œã¯ã€Observerã¸ã®å‚ç…§ãŒãªããªã£ãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã™ã€‚å†…éƒ¨çš„ã«Observerã¯WeakReferenceã§ä¿æŒã•ã‚Œã¦ãŠã‚Šã€å‚ç…§ãŒç„¡ããªã£ãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§GCã•ã‚Œã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;è£œè¶³2&#34;&gt;è£œè¶³2&lt;/h2&gt;

&lt;p&gt;Observerã®é‡è¤‡ç™»éŒ²å•é¡Œã¯attach/detachã‚’ç¹°ã‚Šè¿”ã™å ´åˆã«ãŠã“ã‚Šã¾ã™ã€‚
ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;while (true) {
    delay(3000)
    supportFragmentManager.commitNow {
        if (fragment.isDetached) attach(fragment)
        else detach(fragment)
ã€€  }
}
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    
    
    <item>
      <title>Dagger &#43; ViewModelã®åŸºæœ¬ç·¨ &#43; å®Ÿä¾‹ç·¨</title>
      <link>https://satoshun.github.io/2018/12/dagger_with_viewmodel/</link>
      <pubDate>Wed, 19 Dec 2018 09:59:20 UTC</pubDate>
      <author>Sato Shun</author>
      <guid>https://satoshun.github.io/2018/12/dagger_with_viewmodel/</guid>
      <description>

&lt;p&gt;ã“ã®è¨˜äº‹ã¯Daggerã¨Jetpackã®ViewModelã‚’ã‚ã‚‹ç¨‹åº¦çŸ¥ã£ã¦ã„ã‚‹å‰æã§é€²ã‚“ã§ã„ãã¾ã™ğŸ˜ƒ&lt;/p&gt;

&lt;h2 id=&#34;åŸºæœ¬ç·¨&#34;&gt;åŸºæœ¬ç·¨&lt;/h2&gt;

&lt;p&gt;Dagger + ViewModelã‚’åŒæ™‚ã«ä½¿ã†ã®ã¯å°‘ã—ãƒ„ãƒ©ãƒŸãŒã‚ã‚Šã¾ã™ã€‚ãã‚Œã¯ã€ViewModelã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã¯ViewModelProviderã‚’ä»‹ã—ã¦è¡Œã†å¿…è¦ãŒã‚ã‚‹ãŸã‚ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;ä¾‹ãˆã°ã€æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã¯é–“é•ã£ã¦ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;class MainViewModel @Inject constructor(...): ViewModel()

class MainActivity {
    @Inject lateinit var viewModel: MainViewModel

    ...
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã“ã®æ›¸ãæ–¹ã ã¨MainViewModelã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã¯ViewModelProviderã‚’ä»‹ã—ã¦è¡Œã‚ã‚Œã¾ã›ã‚“ã€‚ã‚ˆã£ã¦æ¬¡ã®ã‚ˆã†ã«æ›¸ãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;class MainViewModel(...): ViewModel()

@Module
class MainActivityModule {
    @Provides
    fun provideMainViewModel(...) : MainViewModel {
        // ViewModelProviderã‚’ä»‹ã—ã¦è¡Œã†
        return ViewModelProviders.of(...).get(MainViewModel::class.java)
    }
}

class MainActivity {
    @Inject lateinit var viewModel: MainViewModel

    ...
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;@Provides&lt;/code&gt;ã‚’ä½¿ã„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã®æ–¹æ³•ã‚’æ˜ç¤ºçš„ã«è¨˜è¿°ã—ã¾ã™ã€‚ã“ã‚Œã§ã€ViewModelProviderã‚’ä»‹ã—ã¦ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã‚’ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã¾ãŸã€ViewModelã‚’ç›´æ¥æ³¨å…¥ã›ãšã«ã€ViewModelProvider.Factoryã‚’æ³¨å…¥ã—ã€ViewModelã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã¯Activityï¼ˆor Fragmentï¼‰ã«ä»»ã›ã‚‹æ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚
ã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ã¨ãã¯ã€activity-ktxï¼ˆor fragment-ktxï¼‰ã«è¿½åŠ ã•ã‚ŒãŸæ‹¡å¼µé–¢æ•°ã¨çµ„ã¿åˆã‚ã›ã‚‹ã¨ã„ã„æ„Ÿã˜ã«æ›¸ã‘ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;class MainViewModel(...): ViewModel()
or
class MainViewModel @Inject constructor(...): ViewModel()

@Module
class MainActivityModule {
    @Provides
    fun provideViewModelFactory(...) : ViewModelProvider.Factory {
        return object: ViewModelProvider.Factory {
            // ã“ã“ã§MainViewModelã‚’ç”Ÿæˆã™ã‚‹
            ...
        }
    }
}

class MainActivity : AppCompatActivity() {
    // ViewModelã§ã¯ãªãã€Factoryã‚’æ³¨å…¥ã™ã‚‹
    @Inject lateinit var factory: ViewModelProvider.Factory
    // activity-ktxã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹æ‹¡å¼µé–¢æ•°ã‚’ä½¿ã†
    private val viewModel: MainViewModel by viewModels { factory }

    ...
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;activity-ktxã«ã‚ã‚‹&lt;code&gt;viewModels&lt;/code&gt;æ‹¡å¼µé–¢æ•°ã‚’ä½¿ã£ã¦ViewModelã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã—ã¾ã™ã€‚ã“ã‚Œã§ViewModelã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚’ä¿ã¤ã“ã¨ãŒã§ãã¾ã™ï¼ï¼&lt;/p&gt;

&lt;p&gt;Dagger + ViewModelã¯ã€å¤§ããã“ã®2ã¤ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒãŒã‚ã‚‹ã‹ãªã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;å®Ÿä¾‹ç·¨&#34;&gt;å®Ÿä¾‹ç·¨&lt;/h2&gt;

&lt;p&gt;&lt;code&gt;@Provides&lt;/code&gt;ã‚’ä½¿ã†ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã€Factoryã‚’ä½¿ã†ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ã©ã£ã¡ã®æ›¸ãæ–¹ãŒã„ã„ã®ï¼Ÿã£ã¦è©±ã«ãªã‚‹ã¨æ€ã†ã‚“ã§ã™ãŒã€ä¸€é•·ä¸€çŸ­ã‹ãªã¨æ€ã£ã¦ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ä¸¡æ–¹ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¨ã‚‚ã«ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã€ãƒã‚¦ãƒã‚¦ãŒå‡ºã¦ã„ã‚‹ã®ã§å‚è€ƒãƒªãƒ³ã‚¯ã‚’å¼µã£ã¦ãŠãã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/nickbutcher/plaid/blob/master/dribbble/src/main/java/io/plaidapp/dribbble/dagger/DribbbleModule.kt#L43&#34;&gt;plaid&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;@Provides&lt;/code&gt; + ViewModelã‚’ç›´æ¥Injectã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³&lt;/li&gt;
&lt;li&gt;å„ViewModelã”ã¨ã«Factoryã‚¯ãƒ©ã‚¹ã‚’å®šç¾©ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§è¨˜è¿°é‡ã¯å¤šã„&lt;/li&gt;
&lt;li&gt;ViewModelãŒæä¾›ã•ã‚Œã¦ã„ãªã‹ã£ãŸã‚‰ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹

&lt;ul&gt;
&lt;li&gt;ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãƒã‚§ãƒƒã‚¯ãŒã†ã¾ãå‹•ã&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;ViewModelã‚’ç›´æ¥Injectå‡ºæ¥ã‚‹ã®ã§ä½¿ã„å´ã‹ã‚‰ã™ã‚‹ã¨é–“é•ã£ãŸä½¿ã„æ–¹ã¯å‡ºæ¥ãªã„ï¼ˆã¯ãšï¼‰&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href=&#34;https://medium.com/@marco_cattaneo/android-viewmodel-and-factoryprovider-good-way-to-manage-it-with-dagger-2-d9e20a07084c&#34;&gt;Android ViewModel and FactoryProvider: good way to manage it with Dagger Multibindings&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Daggerã®multibindings + ViewModel Factoryã‚’Injectã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³&lt;/li&gt;
&lt;li&gt;æœ€åˆã«ä»•çµ„ã¿ã‚’å…¥ã‚Œã¦ã—ã¾ãˆã°ã€ã®ã¡ã®ã¡ã®è¨˜è¿°é‡ã¯å°‘ãªã„&lt;/li&gt;
&lt;li&gt;multibindingsã‚’ä½¿ã£ã¦ã„ã‚‹ã®ã§ãƒ©ãƒ³ã‚¿ã‚¤ãƒ æ™‚ã«è½ã¡ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹&lt;/li&gt;
&lt;li&gt;ViewModelã‚’ç›´æ¥æ³¨å…¥ã™ã‚‹æ›¸ãæ–¹ãŒå¯èƒ½ã ãŒã€ãã®æ›¸ãæ–¹ã‚’ã™ã‚‹ã¨ViewModelProviderã‚’ä»‹ã•ãªã„ã®ã§æ­£ã—ããªã„ã€‚é–“é•ã£ãŸæ›¸ãæ–¹ãŒå‡ºæ¥ã‚‹&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/satoshun-android-example/ActivityKtxDaggerExample/tree/master/app/src/main/java/com/github/satoshun/example/sample&#34;&gt;Activity-Ktx + Dagger Example&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Factoryç”¨ã®ã‚«ã‚¹ã‚¿ãƒ ã‚¯ãƒ©ã‚¹ + ViewModel Factoryã‚’Injectã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³

&lt;ul&gt;
&lt;li&gt;åƒ•ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã§ã™ğŸ˜ƒ&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;æœ€åˆã«æ±ç”¨ã‚¯ãƒ©ã‚¹ã‚’å…¥ã‚Œã¦ã—ã¾ãˆã°ã€ã®ã¡ã®ã¡ã®è¨˜è¿°é‡ã¯å°‘ãªã„&lt;/li&gt;
&lt;li&gt;ViewModelãŒæä¾›ã•ã‚Œã¦ã„ãªã‹ã£ãŸã‚‰ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹

&lt;ul&gt;
&lt;li&gt;ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãƒã‚§ãƒƒã‚¯ãŒã†ã¾ãå‹•ã&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;ViewModelã‚’ç›´æ¥æ³¨å…¥ã™ã‚‹æ›¸ãæ–¹ãŒå¯èƒ½ã ãŒã€ãã®æ›¸ãæ–¹ã‚’ã™ã‚‹ã¨ViewModelProviderã‚’ä»‹ã•ãªã„ã®ã§æ­£ã—ããªã„ã€‚é–“é•ã£ãŸæ›¸ãæ–¹ãŒå‡ºæ¥ã‚‹&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å€‹äººçš„ã«ã¯ä¸€ç•ªæœ€å¾Œã®è‡ªåˆ†ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æŠ¼ã—ãŸã„ã¨ã“ã‚ã§ã™ãŒã€ä¸Šè¨˜ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ãã‚Œãã‚Œãƒ¡ãƒªãƒƒãƒˆ/ãƒ‡ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚‹ã¨æ€ã†ã®ã§ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚ˆã£ã¦ä½¿ã„åˆ†ã‘ã‚‹ã®ãŒã‚ˆã„ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ã¾ã¨ã‚&#34;&gt;ã¾ã¨ã‚&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;ä¸€ç•ªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«é©ã—ãŸãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’é©ç”¨ã™ã‚‹ã®ãŒè‰¯ã„ã¨æ€ã„ã¾ã™ğŸ˜ƒ&lt;/li&gt;
&lt;li&gt;Daggerã§ViewModelã‚µãƒãƒ¼ãƒˆã®&lt;a href=&#34;https://github.com/google/dagger/issues/1271&#34;&gt;ISSUE&lt;/a&gt;ãŒç«‹ã£ã¦ãŠã‚Šã€ViewModel + Daggerã®è¨ˆç”»ãŒã‚ã‚Šã¾ã™

&lt;ul&gt;
&lt;li&gt;ãªã®ã§å‰è¿°ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯éå»ã®ã‚‚ã®ã¨ãªã‚‹å¯èƒ½æ€§ãŒé«˜ã„ã§ã™ğŸ˜­&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    
    
    <item>
      <title>Gradleã®Matching repositories to dependenciesã‚’ä½¿ã£ã¦ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å…ˆã‚’æŒ‡å®šã™ã‚‹</title>
      <link>https://satoshun.github.io/2018/12/gradle_deps_match/</link>
      <pubDate>Thu, 13 Dec 2018 11:16:06 UTC</pubDate>
      <author>Sato Shun</author>
      <guid>https://satoshun.github.io/2018/12/gradle_deps_match/</guid>
      <description>

&lt;p&gt;&lt;code&gt;JitPack&lt;/code&gt;ã‹ã‚‰ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã‹ã£ãŸã¨ã“ã‚ã€JCenterã‹ã‚‰ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã—ã¾ã†äº‹ä»¶ãŒã‚ã‚Šã¾ã—ãŸã€‚
è©³ã—ãã¯æ¬¡ã®ãƒªãƒ³ã‚¯ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚&lt;a href=&#34;https://blog.autsoft.hu/a-confusing-dependency/&#34;&gt;A Confusing Dependency&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å¾“æ¥ã®Gradle4ç³»ã§ã¯ãŠãã‚‰ãã€ä¸Šè¨˜ã®å•é¡Œã‚’è§£æ±ºã™ã‚‹ã“ã¨ã¯å‡ºæ¥ãªã„ã€ã‚‚ã—ãã¯éå¸¸ã«å›°é›£ã§ã—ãŸã€‚ã—ã‹ã—æ–°ã—ãGradle5.1ã« &lt;a href=&#34;https://docs.gradle.org/5.1-rc-1/userguide/declaring_repositories.html#sec::matching_repositories_to_dependencies&#34;&gt;Matching repositories to dependencies&lt;/a&gt; ãŒå°å…¥ã•ã‚Œã€ä¸Šè¨˜ã®å•é¡Œã‚’è§£æ±ºã§ãã¾ã™ã€‚ï¼ˆGradle5.1ã¯ã¾ã rcã§ã™ï¼‰&lt;/p&gt;

&lt;p&gt;ã¾ãšæœ€åˆã«å¾“æ¥ã®æ›¸ãæ–¹ã‚’èª¬æ˜ã—ã¦ã€æ¬¡ã«æ–°æ©Ÿèƒ½ã‚’ä½¿ã£ãŸæ›¸ãæ–¹ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚ä»Šå›ã¯ä¾‹ã¨ã—ã¦ã€&lt;code&gt;cloudflare&lt;/code&gt;ã®SDKã‚’ä¾å­˜é–¢ä¿‚ã«å…¥ã‚Œã‚‹ã“ã¨ã‚’ç›®æŒ‡ã—ã¾ã™ã€‚
ã¾ãŸã€ä»Šå›ã®æ¤œè¨¼ã«ã¯Gradle 5.1-rc-1ã‚’ä½¿ã„ã¾ã—ãŸã€‚&lt;a href=&#34;https://github.com/satoshun-android-example/GradleDependencyMatchingExample&#34;&gt;ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ã“ã“ã«ã‚ã‚Šã¾ã™&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ã¾ãšã¯å¾“æ¥ã®æ›¸ãæ–¹ã§ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-groovy&#34;&gt;// topã®build.gradle
allprojects {
    repositories {
        ...

        maven {
            url &amp;quot;https://storage.googleapis.com/cloudflare-maven/public/&amp;quot;
        }
    }
}

---

// projectã®build.gradle
dependencies {
    ...

    implementation &amp;quot;com.cloudflare:cloudflare-mobile-sdk:2.1.0@aar&amp;quot;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã“ã‚Œã ã¨å…¨ã¦ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«å¯¾ã—ã¦ã€repositoriesã§æŒ‡å®šã—ãŸ&lt;code&gt;https://storage.googleapis.com/cloudflare-maven/public/&lt;/code&gt;ã¸ãƒã‚§ãƒƒã‚¯ã‚’ã—ã«ã„ãã¾ã™ã€‚ã“ã®Urlã¯cloudflareã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã—ã‹ä½¿ã‚ã‚Œãªã„ã“ã¨ãŒæƒ³å®šã•ã‚Œã‚‹ã®ã§ã€ä»–ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«å¯¾ã—ã¦ã¯ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰åˆ¶é™ã‚’ã‹ã‘ãŸã„ã¨ã“ã‚ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;æ¬¡ã«æ–°æ©Ÿèƒ½ã‚’ä½¿ã£ãŸæ›¸ãæ–¹ã§ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-groovy&#34;&gt;// topã®build.gradle
allprojects {
    repositories {
        ...

        maven {
            url &amp;quot;https://storage.googleapis.com/cloudflare-maven/public/&amp;quot;
            content {
                // group idãŒcom.cloudflareã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã ã‘ã“ã®URLãŒæœ‰åŠ¹ã«ãªã‚‹
                includeGroup &amp;quot;com.cloudflare&amp;quot;
            }
        }
    }
}

---

// projectã®build.gradleã¯ä¸€ç·’
dependencies {
    ...

    implementation &amp;quot;com.cloudflare:cloudflare-mobile-sdk:2.1.0@aar&amp;quot;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ–°ã—ãcontentãƒ–ãƒ­ãƒƒã‚¯ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚ã“ã“ã§ã€ã“ã®URLãŒã©ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§æœ‰åŠ¹ã«ãªã£ã¦æ¬²ã—ã„ã‹ã‚’è¨˜è¿°ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚ä»Šå›ã®URLã¯&lt;code&gt;com.cloudflare:cloudflare-mobile-sdk&lt;/code&gt;ã§ã®ã¿æœ‰åŠ¹ã«ãªã£ã¦æ¬²ã—ã„ã®ã§ã€&lt;code&gt;includeGroup &amp;quot;com.cloudflare&amp;quot;&lt;/code&gt;ã¨group idæŒ‡å®šã™ã‚‹ã“ã¨ã§é”æˆã§ãã¾ã™ã€‚ã“ã‚Œã§cloudflareã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«å¯¾ã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰åˆ¶é™ã‚’ã‹ã‘ã‚‰ã‚Œã¾ã™!!&lt;/p&gt;

&lt;p&gt;ã¾ãŸä»Šå›ã®äº‹ä»¶ã®å ´åˆã€JCenterã«æ‚ªæ„ã®ã‚ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸã®ãŒå•é¡Œãªã®ã§ã€JCenterã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®group idã‚’&lt;code&gt;includeGroup&lt;/code&gt;ã§æŒ‡å®šã—ã¦ã‚ã’ã‚Œã°è‰¯ã„ã§ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-groovy&#34;&gt;repositories {
    ...
    jcenter().mavenContent {
        includeGroup &amp;quot;org.jetbrains.kotlin&amp;quot;
        includeGroup &amp;quot;org.jetbrains.kotlinx&amp;quot;
        includeGroup &amp;quot;com.google.dagger&amp;quot;
        includeGroup &amp;quot;org.jetbrains&amp;quot;
        includeGroup &amp;quot;javax.inject&amp;quot;
        ...
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã“ã‚Œã§ã€JCenterã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«åˆ¶é™ã‚’ã‹ã‘ã‚‰ã‚Œã¾ã™ğŸ˜ƒ&lt;/p&gt;

&lt;h2 id=&#34;è£œè¶³&#34;&gt;è£œè¶³&lt;/h2&gt;

&lt;p&gt;Androidã ã¨Gradle5ç³»ã‚’ä½¿ãˆã‚‹ã®ãŒAndroid Gradle Plugin3.4ã‹ã‚‰ã«ãªã‚‹ã¨æ€ã†ã®ã§ã€ã¾ã å…ˆã¯é•·ã„ğŸ˜‚&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>Truthã®ãƒ¡ãƒªãƒƒãƒˆã€ç‰¹å¾´ã«ã¤ã„ã¦</title>
      <link>https://satoshun.github.io/2018/12/truth_getting_started/</link>
      <pubDate>Wed, 12 Dec 2018 00:21:12 UTC</pubDate>
      <author>Sato Shun</author>
      <guid>https://satoshun.github.io/2018/12/truth_getting_started/</guid>
      <description>

&lt;p&gt;&lt;a href=&#34;http://google.github.io/truth/&#34;&gt;Truth&lt;/a&gt;ã¯GoogleãŒé–‹ç™ºã‚’ã—ã¦ã„ã‚‹ãƒ†ã‚¹ãƒˆã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;å¾“æ¥ã®JUnitã‚¹ã‚¿ã‚¤ãƒ«ã®ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ã«æ¯”ã¹ã€å¤§ãã2ã¤ã®åˆ©ç‚¹ãŒã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;readableã«ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãŒæ›¸ã‘ã‚‹&lt;/li&gt;
&lt;li&gt;ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®å¤±æ•—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒã‚ã‹ã‚Šã‚„ã™ã„&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ãã‚Œãã‚Œã«ã¤ã„ã¦èª¬æ˜ã—ã¦ã„ãã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;readableã«ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãŒæ›¸ã‘ã‚‹&#34;&gt;readableã«ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãŒæ›¸ã‘ã‚‹&lt;/h2&gt;

&lt;p&gt;ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®benefitã«ã‚ã‚‹ã‚µãƒ³ãƒ—ãƒ«ã‚’å–ã‚Šä¸Šã’èª¬æ˜ã—ã¾ã™ã€‚
&lt;a href=&#34;http://google.github.io/truth/benefits&#34;&gt;http://google.github.io/truth/benefits&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ã¾ãšå¾“æ¥ã®JUnitã‚¹ã‚¿ã‚¤ãƒ«ã‚’ä½¿ã£ã¦æ›¸ãã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;Optional&amp;lt;String&amp;gt; middleName = user.getMiddleName();
assertFalse(middleName.isPresent());
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;assertFalseã€isPresentã‚’ä½¿ã£ã¦ãŠã‚Šã€å¦å®šã®ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãªã®ã§ç›´æ„Ÿçš„ã§ãªãç†è§£ã™ã‚‹ã®ã«å°‘ã—æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™ã€‚ï¼ˆå€‹äººå·®ã¯ã‚ã‚Šã¾ã™ï¼‰&lt;/p&gt;

&lt;p&gt;ã“ã‚ŒãŒTruthã‚’ä½¿ã†ã¨æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;Optional&amp;lt;String&amp;gt; middleName = user.getMiddleName();
assertThat(middleName).isAbsent();
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;assertThatã¯Truthã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã§ã™ã€‚&lt;code&gt;middleName&lt;/code&gt;ãŒabsentã€å€¤ãŒå­˜åœ¨ã—ãªã„ã“ã¨ã‚’ãƒ†ã‚¹ãƒˆã—ã¦ã„ã‚‹ã“ã¨ãŒã€JUnitã‚¹ã‚¿ã‚¤ãƒ«ã‚ˆã‚Šå¼·ãä¼ã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ä¸Šè¨˜ã®&lt;code&gt;isAbsent&lt;/code&gt;ã¯Optionalã®ãŸã‚ã«ç”¨æ„ã•ã‚ŒãŸã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ã‚½ãƒƒãƒ‰ã§ã™ã€‚assertThatã«æ¸¡ã—ãŸå¼•æ•°ã«é©ã—ãŸã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ã†ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
ä¾‹ãˆã°Iterableã«ã¯ã€&lt;code&gt;containsAnyIn&lt;/code&gt;ã‚„&lt;code&gt;isEmpty&lt;/code&gt;ãªã©ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚å‹ã”ã¨ã«ä¸€èˆ¬çš„ãªãƒ†ã‚¹ãƒˆã§è¡Œã†ã§ã‚ã‚ã†ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãŒç”¨æ„ã•ã‚Œã¦ãŠã‚Šã€readableã«conciseã«æ›¸ãã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;å¤±æ•—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒã‚ã‹ã‚Šã‚„ã™ã„&#34;&gt;å¤±æ•—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒã‚ã‹ã‚Šã‚„ã™ã„&lt;/h2&gt;

&lt;p&gt;ã“ã¡ã‚‰ã‚‚benefitã«ã‚ã‚‹ã‚µãƒ³ãƒ—ãƒ«ã‚’å–ã‚Šä¸Šã’ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã¾ãšã¯å¾“æ¥ã«JUnitã‚¹ã‚¿ã‚¤ãƒ«ã‹ã‚‰ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;assertTrue(googleColors.contains(PINK));
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã“ã®å ´åˆã€å¤±æ•—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯ç‰¹ã«ã‚ã‚Šã¾ã›ã‚“ã€‚ã€Œtrueã‚’è¡¨æ˜ã—ã¦ã‚‹éƒ¨åˆ†ã«falseãŒæ¥ãŸã€ç¨‹åº¦ã®ã‚‚ã®ã—ã‹ãªãã€åŸå› ç‰¹å®šã™ã‚‹ã®ãŒå¤§å¤‰ã§ã™ã€‚
å¤±æ•—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚«ã‚¹ã‚¿ãƒ ã™ã‚‹ã“ã¨ã¯å‡ºæ¥ã¾ã™ãŒã€ã™ã¹ã¦ã®ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ã«å¯¾ã—ã¦å®šç¾©ã™ã‚‹ã®ã¯éª¨ãŒæŠ˜ã‚Œã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;æ¬¡ã«Truthã‚¹ã‚¿ã‚¤ãƒ«ã§ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;assertThat(googleColors).contains(PINK);
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;&amp;lt;[BLUE, RED, YELLOW, BLUE, GREEN, RED]&amp;gt; should have contained &amp;lt;PINK&amp;gt;&lt;/code&gt; ã®ã‚ˆã†ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå‡ºã¾ã™ã€‚ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹æƒ…å ±ã‚„ã€ã“ã†ãªã‚‹ã¹ãã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå«ã¾ã‚Œã¦ãŠã‚ŠåŸå› ç‰¹å®šãŒã—ã‚„ã™ããªã£ã¦ã„ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®æ®µéšã§ã‹ãªã‚Šè¦‹ã‚„ã™ã„ã€ã‚ã‹ã‚Šã‚„ã™ã„å¤±æ•—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‡ºåŠ›ã—ã¦ãã‚Œã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ä»¥ä¸ŠãŒTruthã®ãƒ¡ãƒªãƒƒãƒˆã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;è£œè¶³&#34;&gt;è£œè¶³&lt;/h2&gt;

&lt;h3 id=&#34;truth-androidãƒ©ã‚¤ãƒ–ãƒ©ãƒª&#34;&gt;Truth-Androidãƒ©ã‚¤ãƒ–ãƒ©ãƒª&lt;/h3&gt;

&lt;p&gt;JetPackã«Truth + Androidç”¨ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚ã“ã‚Œã‚’ä½¿ã†ã“ã¨ã§Bundleã€Intentãªã©ã®Androidå›ºæœ‰ã®ã‚¯ãƒ©ã‚¹ã®ãƒ†ã‚¹ãƒˆãŒæ›¸ãã‚„ã™ããªã‚Šã¾ã™ã€‚
ä¾‹ãˆã°ã€Intentã«ã¯ä»¥ä¸‹ã®ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;hasComponent
hasComponentClass
hasComponentPackage
hasPackage
hasAction
hasNoAction
hasData
hasType
extras
categories
hasFlags
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Intentã®ä¸­èº«ã‚’ç¢ºèªã™ã‚‹ä¾¿åˆ©ãƒ¡ã‚½ãƒƒãƒ‰ãŒå®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚Truth-Androidã‚’ä½¿ã†ã“ã¨ã§ã€ã‚ˆã‚ŠAndroidç’°å¢ƒã§ãƒ†ã‚¹ãƒˆãŒæ›¸ãã‚„ã™ããªã‚‹ã“ã¨ãŒæœŸå¾…å‡ºæ¥ã¾ã™ã€‚&lt;/p&gt;

&lt;h3 id=&#34;assertjã¨ã®æ¯”è¼ƒ&#34;&gt;AssertJã¨ã®æ¯”è¼ƒ&lt;/h3&gt;

&lt;p&gt;ã“ã‚Œã‚‚å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã¾ã¨ã‚ã¦ã‚ã‚Šã¾ã™ã€‚&lt;a href=&#34;http://google.github.io/truth/comparison&#34;&gt;http://google.github.io/truth/comparison&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ç¾çŠ¶ã®ä¸»ã ã£ãŸå·®åˆ†ã¯æ¬¡ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Truhtã¯ã¾ã 1.0.0ã«ãªã£ã¦ã„ãªã„ã®ã§APIãŒå¤‰ã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹&lt;/li&gt;
&lt;li&gt;Truthã¯Chainã‚¹ã‚¿ã‚¤ãƒ«ã§æ›¸ãã“ã¨ã‚’æƒ³å®šã—ã¦ã„ãªã„

&lt;ul&gt;
&lt;li&gt;ã“ã‚Œã¯ç¾çŠ¶ã®Truthå“²å­¦ã ãŒã€AssertJã®ã‚ˆã†ãªChainã‚¹ã‚¿ã‚¤ãƒ«ã‚‚æ™®åŠã—ã¦ããŸã®ã§ã€ã©ã¡ã‚‰ãŒä¾¿åˆ©ã‹ã¯ã‚ã‹ã‚‰ãªã„&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å¤šå°‘ã®å·®ç•°ã¯ã‚ã‚Œã©ã€AssertJã¨Truthã¯ã¨ã¦ã‚‚ä¼¼ã¦ã„ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚ã©ã¡ã‚‰ã‹ä¸€æ–¹ã‚’ä½¿ã£ã¦ã„ã‚‹ãªã‚‰ã€ä¹—ã‚Šæ›ãˆã‚‹ãƒ¡ãƒªãƒƒãƒˆã¯ãŠãã‚‰ããªã„ã ã‚ã†ã¨ã„ã†æ—¨ã®å†…å®¹ã§ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ã¾ã¨ã‚&#34;&gt;ã¾ã¨ã‚&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Truthã‚’ä½¿ã†ã¨å¤±æ•—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒã‚ã‹ã‚Šã‚„ã™ããªã‚‹ã€ä¾¿åˆ©!&lt;/li&gt;
&lt;li&gt;AssertJã‚’ä½¿ã£ã¦ã„ã‚‹ãªã‚‰ä¹—ã‚Šæ›ãˆã‚‹ãƒ¡ãƒªãƒƒãƒˆã¯ãªã„ã‹ã‚‚&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    
    
    <item>
      <title>Kotlin: Resultã®ç°¡å˜ãªã¾ã¨ã‚</title>
      <link>https://satoshun.github.io/2018/12/result/</link>
      <pubDate>Tue, 11 Dec 2018 00:00:00 UTC</pubDate>
      <author>Sato Shun</author>
      <guid>https://satoshun.github.io/2018/12/result/</guid>
      <description>

&lt;p&gt;&lt;a href=&#34;https://github.com/Kotlin/KEEP/blob/master/proposals/stdlib/result.md&#34;&gt;Result KEEP&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;code&gt;Result&lt;/code&gt;ãŒ1.3ã‹ã‚‰stdlibã«å…¥ã£ãŸã®ã§ç´¹ä»‹ã‚’ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;Resultã¯&lt;code&gt;Success T | Failure Throwable&lt;/code&gt;ã®2çŠ¶æ…‹ã®ã„ãšã‚Œã‹ã‚’è¡¨ç¾å‡ºæ¥ã¾ã™ã€‚æˆåŠŸçŠ¶æ…‹ã®ã¨ãã¯Successã‚’ã€å¤±æ•—çŠ¶æ…‹ã®ã¨ãã¯Failureã‚’å†…åŒ…ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;åŸºæœ¬çš„ãªä½¿ã„æ–¹&#34;&gt;åŸºæœ¬çš„ãªä½¿ã„æ–¹&lt;/h2&gt;

&lt;p&gt;ä½¿ã„æ–¹ã‚’è¦‹ã¦ã„ãã¾ã™ã€‚ã¾ãšã€Resultã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ç”Ÿæˆã¯ã€successã€failureãƒ¡ã‚½ãƒƒãƒ‰ã‚’é€šã—ã¦è¡Œã„ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;val i: Result&amp;lt;Int&amp;gt; = Result.success(10)
val t: Result&amp;lt;Int&amp;gt; = Result.failure(IOException())
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã¾ãŸã€&lt;code&gt;runCatching&lt;/code&gt;é–¢æ•°ã‚’ä½¿ã†ã“ã¨ã§ã€failã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã‚’Resultå‹ã«ä¸¸ã‚ã‚‹ã“ã¨ã‚‚å‡ºæ¥ã¾ã™ã€‚runCathinngã®ã»ã†ãŒã‚ˆãä½¿ã†ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;val a = runCatching { doSomeThing() }
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Resultã«å¯¾ã™ã‚‹æ“ä½œã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;// successã«å¯¾ã—ã¦æ“ä½œ
val i = Result.success(10)
i.getOrNull() // 10
i.isSuccess // true
i.exceptionOrNull() // null
i.map { 10 * 10 }.getOrNull() // 100
i.onSuccess { println(&amp;quot;success&amp;quot;) }.onFailure { println(&amp;quot;failure&amp;quot;) }
i.recover { 1111 }.getOrNull() // 10

// failureã«å¯¾ã—ã¦æ“ä½œ
val t = Result.failure(IOException())
t.getOrNull() // null
t.isFailure // true
t.exceptionOrNull() // IOException
t.map { 10 * 10 }.getOrNull() // null
t.onSuccess { println(&amp;quot;success&amp;quot;) }.onFailure { println(&amp;quot;failure&amp;quot;) }
t.recover { 1111 }.getOrNull() // 1111
t.getOrThrow() // throw IOException
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å€¤successã«å¯¾ã—ã¦ã®æ“ä½œã¨ã€failureã«å¯¾ã—ã¦ã®æ“ä½œã‚’ãã‚Œãã‚Œã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã¾ãŸã€Resultã‚’ä½¿ã†ã“ã¨ã§ã€functionalã£ã½ãæ›¸ãã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;try {
    val data = doSomethingSync()
    processData(data)
} catch(e: Throwable) {
    showErrorDialog(e)
}

--&amp;gt;

runCatching { doSomethingSync() }
    .onFailure { showErrorDialog(it) }
    .onSuccess { processData(it) }
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‹ã‚‰è¦‹ãŸã¨ãã¯ã€functionalã£ã½ãæ›¸ã‘ã‚‹ç‚¹ãŒãƒ¡ãƒªãƒƒãƒˆã ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;è£œè¶³&#34;&gt;è£œè¶³&lt;/h2&gt;

&lt;h3 id=&#34;resultã¯æˆ»ã‚Šå€¤ã¨ã—ã¦è¿”ã›ãªã„&#34;&gt;Resultã¯æˆ»ã‚Šå€¤ã¨ã—ã¦è¿”ã›ãªã„&lt;/h3&gt;

&lt;p&gt;ã“ã‚Œã¯ã€Resultã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‹ã‚‰å¤–ã•ãªã„ãŸã‚ã®åˆ¶ç´„ã§ã™ã€‚ãªãœãªã‚‰ã€Resultã¯ãã®é–¢æ•°å†…ã§å‡¦ç†ã™ã¹ãä¾‹å¤–ã§ã‚ã‚Šã€é–¢æ•°ã®å‘¼ã³å‡ºã—å´ã§å‡¦ç†ã•ã›ã‚‹ã¹ãã§ã¯ãªã„ãŸã‚ã§ã™ã€‚
ä¾‹ãˆã°ã€ã‚ã‚‹é–¢æ•°ã®è¿”ã‚Šå€¤ãŒ&lt;code&gt;Result&amp;lt;User&amp;gt;&lt;/code&gt;ã¨ãªã£ã¦ã„ãŸã¨ãã«ã€å¤±æ•—ã™ã‚‹å¯èƒ½æ€§ã¯å‘¼ã³å‡ºã—å´ã«ä¼ã‚ã‚Šã¾ã™ãŒã€ã©ã®ã‚ˆã†ãªå¤±æ•—ãŒèµ·ã“ã‚‹ã‹åˆ†ã‹ã‚Šã¾ã›ã‚“ã€‚ã©ã®ã‚ˆã†ã«ã‚¨ãƒ©ãƒ¼ã‚’å‡¦ç†ã™ã‚‹ã‹ã¯ã“ã®é–¢æ•°å†…ã§å®Œçµã™ã¹ããªã®ã§ã€è¿”ã‚Šå€¤ã¨ã—ã¦Resultã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã¯å‡ºæ¥ã¾ã›ã‚“ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ã¾ã¨ã‚&#34;&gt;ã¾ã¨ã‚&lt;/h2&gt;

&lt;p&gt;ç°¡å˜ã«ã¾ã¨ã‚ã¾ã—ãŸã€‚ã‚ˆã‚Šè©³ç´°ãªå†…å®¹ã¯&lt;a href=&#34;https://github.com/Kotlin/KEEP/blob/master/proposals/stdlib/result.md&#34;&gt;Result KEEP&lt;/a&gt;ã‚’è¦‹ã¦ãã ã•ã„ğŸ˜Š&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>Android: namespacedRClassãƒ•ãƒ©ã‚°ã§Rã‚¯ãƒ©ã‚¹ã‚’å°ã•ãä¿ã¤</title>
      <link>https://satoshun.github.io/2018/12/namespacedrclass/</link>
      <pubDate>Sun, 09 Dec 2018 00:00:00 UTC</pubDate>
      <author>Sato Shun</author>
      <guid>https://satoshun.github.io/2018/12/namespacedrclass/</guid>
      <description>

&lt;p&gt;Android Gradle Pluginï¼ˆä»¥ä¸‹AGPï¼‰3.3ã®alphaã®ã©ã“ã‹ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§&lt;code&gt;namespacedRClass&lt;/code&gt;ãƒ•ãƒ©ã‚°ãŒæ–°ã—ãè¿½åŠ ã•ã‚ŒãŸã®ã§ç´¹ä»‹ã—ã¾ã™ã€‚
æœ¬è¨˜äº‹ã§ã¯&lt;code&gt;3.4.0-alpha07&lt;/code&gt;ã§è©¦ã—ã¾ã—ãŸã€‚&lt;/p&gt;

&lt;p&gt;ã¾ãšç¾çŠ¶ã®å•é¡Œç‚¹ã¨ã—ã¦ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®Rã‚¯ãƒ©ã‚¹ã®ã‚µã‚¤ã‚ºãŒå¤§ãããªã‚‹èª²é¡ŒãŒã‚ã‚Šã¾ã™ã€‚ãã‚Œã¯ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®Rã‚¯ãƒ©ã‚¹ã¯ä¾å­˜é–¢ä¿‚ã«ã‚ã‚‹Rã‚¯ãƒ©ã‚¹ãŒã©ã‚“ã©ã‚“ãƒãƒ¼ã‚¸ã•ã‚Œã¦ã„ããŸã‚ã§ã™ã€‚
ãã‚Œã‚’è§£æ±ºã™ã‚‹ãŸã‚ã«&lt;code&gt;namespacedRClass&lt;/code&gt;ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚ä½¿ã„æ–¹ã¯ç°¡å˜ã§ã€æ¬¡ã®è¨˜è¿°ã‚’&lt;code&gt;gradle.properties&lt;/code&gt;ã«è¿½åŠ ã™ã‚‹ã ã‘ã§ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-txt&#34;&gt;android.namespacedRClass=true
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã§ã¯ã€ã“ã‚Œã‹ã‚‰ã“ã®ãƒ•ãƒ©ã‚°ãŒtrueã¨falseã§ã©ã®ã‚ˆã†ã«Rã‚¯ãƒ©ã‚¹ã®å†…å®¹ãŒå¤‰ã‚ã‚‹ã‹è¦‹ã¦ã„ãã¾ã™ã€‚
ä¾‹ã¨ã—ã¦ã€appcompatã«ä¾å­˜ã—ã¦ã„ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ç”¨æ„ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã¾ãšã¯ã€&lt;code&gt;namespacedRClass=false&lt;/code&gt;ã®æ™‚ã®Rã‚¯ãƒ©ã‚¹ã§ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public final class R {
    private R() {}

    public static final class anim {
        private anim() {}

        public static final int abc_fade_in = 0x7f010000;
        public static final int abc_fade_out = 0x7f010001;
        public static final int abc_grow_fade_in_from_bottom = 0x7f010002;
        public static final int abc_popup_enter = 0x7f010003;
    ...
    ...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¾å­˜é–¢ä¿‚ã«ã‚ã‚‹appcompatã®Rã‚¯ãƒ©ã‚¹ã®å†…å®¹ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã§ã¯æ¬¡ã«ã€&lt;code&gt;namespacedRClass=true&lt;/code&gt;ã®æ™‚ã§ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public final class R {
    private R() {}

    public static final class color {
        private color() {}

        public static final int red3 = 0x7f04004b;
    }
    public static final class id {
        private id() {}

        public static final int title = 0x7f0700b1;
    }
    public static final class layout {
        private layout() {}

        public static final int base3 = 0x7f09001d;
    }
    public static final class string {
        private string() {}

        public static final int base_string3 = 0x7f0b002a;
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§å®šç¾©ã—ãŸãƒªã‚½ãƒ¼ã‚¹ã®å†…å®¹ã—ã‹å«ã¾ã‚Œã¦ã„ãªã„ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚appcompatã®Rã‚¯ãƒ©ã‚¹ã¯å«ã¾ã‚Œã¦ã„ã¾ã›ã‚“ã€‚
ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®Rã‚¯ãƒ©ã‚¹ã®ã‚µã‚¤ã‚ºãŒã‹ãªã‚Šå°ã•ãã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã—ãŸ!!&lt;/p&gt;

&lt;p&gt;ä»Šå¾Œã€ä¸­ã€å¤§è¦æ¨¡ãªAndroidé–‹ç™ºã¯ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«å¼·ãä¾å­˜ã™ã‚‹ã“ã¨ã«ãªã‚‹ã¨æ€ã†ã®ã§ã€ã“ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ã¤ã‘ã‚‹ã“ã¨ã§ã€ãƒ‡ãƒãƒƒã‚°æ™‚ã®apkã‚µã‚¤ã‚ºã‚’æŠ‘ãˆã‚‹ã“ã¨ãŒæœŸå¾…ã§ãã¾ã™ã€‚ï¼ˆãƒªãƒªãƒ¼ã‚¹æ™‚ã¯R8/Proguardã‚’ä½¿ã†ã¨æ€ã†ã®ã§ç‰¹ã«å½±éŸ¿ã¯ãªã„ï¼‰&lt;/p&gt;

&lt;h2 id=&#34;æ³¨æ„ç‚¹&#34;&gt;æ³¨æ„ç‚¹&lt;/h2&gt;

&lt;p&gt;ãŸã ã—ã€æ³¨æ„ç‚¹ã¨ã—ã¦ã€ä¾å­˜é–¢ä¿‚ã«ã‚ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®Rã‚¯ãƒ©ã‚¹ã®ãƒãƒ¼ã‚¸ãŒè¡Œã‚ã‚Œãªã„ãŸã‚ã€appcompatãªã©ã®Rã‚¯ãƒ©ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã„ã¨ãã¯ã€æ˜ç¤ºçš„ã«Rã‚¯ãƒ©ã‚¹ã‚’importã‚’ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;import androidx.appcompat.R as AppCompatR
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä»Šã¾ã§ã ã¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®Rã‚¯ãƒ©ã‚¹ã‹ã‚‰ã™ã¹ã¦ã®ãƒªã‚½ãƒ¼ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããŸã®ã§ã™ãŒã€ãã‚ŒãŒã§ããªããªã‚Šã¾ã™ã€‚ãªã®ã§ã€ã“ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’trueã—ãŸã¨ãã¯ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§Rã‚¯ãƒ©ã‚¹ã®importãƒ‘ã‚¹ã‚’å¤‰æ›´ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ã¾ã¨ã‚&#34;&gt;ã¾ã¨ã‚&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ™‚ä»£ã«é©ã—ãŸæ©Ÿèƒ½ã ã¨æ€ã†

&lt;ul&gt;
&lt;li&gt;ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®Rã‚¯ãƒ©ã‚¹ã®ã‚µã‚¤ã‚ºå¤§ãããªã‚‹å•é¡Œã‚’è§£æ±ºã§ãã‚‹&lt;/li&gt;
&lt;li&gt;ãƒ‡ãƒãƒƒã‚°æ™‚ã®apkã‚µã‚¤ã‚ºã‚’ã‚„ã‚„å°ã•ãå‡ºæ¥ã‚‹&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    
    
    <item>
      <title>Gradle: Dagger2ã§apiã¨implementationã©ã¡ã‚‰ã‚’ä½¿ã†ã‹è­°è«–ã•ã‚Œã¦ã„ã‚‹</title>
      <link>https://satoshun.github.io/2018/12/gradle-api_vs_implementation/</link>
      <pubDate>Sat, 08 Dec 2018 00:00:00 UTC</pubDate>
      <author>Sato Shun</author>
      <guid>https://satoshun.github.io/2018/12/gradle-api_vs_implementation/</guid>
      <description>

&lt;p&gt;&lt;strong&gt;æ³¨æ„&lt;/strong&gt; ã“ã®è¨˜äº‹ã¯apiã¨implementationã®èª¬æ˜ã‚’ã™ã‚‹é¡ã®è¨˜äº‹ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚&lt;/p&gt;

&lt;p&gt;Gradleã§&lt;code&gt;compile&lt;/code&gt;ãŒDeprecatedã«ãªã‚Šã€implementationã¾ãŸã¯apiã‚’ä½¿ã†ã“ã¨ãŒæ¨å¥¨ã•ã‚Œã¦ã„ã¾ã™ã€‚
ãã‚Œã«åˆã‚ã›ã¦å¤šãã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®READMEã®compileãŒimplementationã¾ãŸã¯apiã«ç½®ãæ›ã‚ã‚Šã¾ã—ãŸã€‚&lt;/p&gt;

&lt;p&gt;Dagger2ã§ã‚‚compileã‚’implementationã«ç½®ãæ›ãˆã‚‹PRãŒå‡ºã•ã‚Œã¾ã—ãŸã€‚&lt;a href=&#34;https://github.com/google/dagger/pull/1130&#34;&gt;https://github.com/google/dagger/pull/1130&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å†…å®¹ãŒèˆˆå‘³æ·±ã‹ã£ãŸã®ã§ã¾ã¨ã‚ã¦ã¿ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã¾ãšæœ€åˆã®PRã¯æ¬¡ã®å·®åˆ†ã«ãªã£ã¦ã„ã¾ã—ãŸã€‚compileã‚’implementationã«ç½®ãæ›ãˆã¦ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;// Add Dagger dependencies
dependencies {
  - compile &#39;com.google.dagger:dagger:2.x&#39;
  + implementation &#39;com.google.dagger:dagger:2.x&#39;
  annotationProcessor &#39;com.google.dagger:dagger-compiler:2.x&#39;
}

- compile &#39;com.google.dagger:dagger-android:2.x&#39;
- compile &#39;com.google.dagger:dagger-android-support:2.x&#39; // if you use the support libraries
+ implementation &#39;com.google.dagger:dagger-android:2.x&#39;
+ implementation &#39;com.google.dagger:dagger-android-support:2.x&#39; // if you use the support libraries
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã“ã“ã§jakeã•ã‚“ãŒ&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;I think this one is somewhat debatable, but you&amp;rsquo;re likely to mark it as implementation in every module that contains the compiler so it&amp;rsquo;s probably a non-problem.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ã¨ã‚³ãƒ¡ãƒ³ãƒˆã—ã¾ã—ãŸã€‚ã€ŒDaggerã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã®ä¾å­˜ã¯ã™ã¹ã¦ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§æ˜ç¤ºçš„ã«æ›¸ãã ã‚ã†ã‹ã‚‰ã€å¤šåˆ†implementationã§å•é¡Œãªã„ã‘ã©ã€è­°è«–ã®ä½™åœ°ã¯ã‚ã‚‹ã€‚ã€ã¨ã€‚&lt;/p&gt;

&lt;p&gt;ã“ã®è­°è«–ã‚’ç”Ÿã‚“ã è¦å› ã¨ã—ã¦ã€Daggerãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ€§è³ªãŒã‚ã‚Šã¾ã™ã€‚
Daggerã‚’ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ä½¿ã£ãŸã¨ãã«ã€ãã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå†…ã§ã¯Componentã‚„Moduleã‚’ä½¿ã†ãŸã‚ã€å½“ç„¶Daggerã®APIã‚’ä½¿ã†ã“ã¨ã«ãªã‚Šã¾ã™ã€‚
ã—ã‹ã—ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§ã¯Componentã¨Moduleãªã©ã®Daggerã®APIã‚’ä½¿ã†å¿…è¦ã¯å¿…ãšã—ã‚‚ã‚ã‚Šã¾ã›ã‚“ã€‚ãŸã ã€Daggerã§ã¯Lazyã€Providerãªã©ã®APIã‚‚å®šç¾©ã•ã‚Œã¦ãŠã‚Šã€ã“ã‚Œã‚‰ã®APIã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§ä½¿ã†ã“ã¨ãŒäºˆæƒ³ã•ã‚Œã¾ã™ã€‚
ãªã®ã§ã€çµå±€ã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä¾å­˜ã«æŒã¤ã‚ˆã†ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯Lazyã€Providerã‚’ä½¿ã†ã“ã¨ã«ãªã‚‹ã®ã§ã€æœ€çµ‚çš„ã«Daggerã«ä¾å­˜ã™ã‚‹ã“ã¨ãŒç¢ºå®šã—ã¦ã„ã‚‹ãªã‚‰ã€implementationã§ã¯ãªãã€apiã§æŒ‡å®šã—ãŸã»ã†ãŒè‰¯ã„ã®ã§ã¯ã¨ã„ã†è©±ã§ã™ã€‚ãŸã ã—ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆã«ã‚ˆã£ã¦ã¯implementationã®ã»ã†ãŒãµã•ã‚ã—ã„å ´åˆã‚‚ã‚ã‚‹ã®ã§ã€ãã®å ´åˆã¯implementationã«ç½®ãæ›ãˆã‚‹ã“ã¨ãŒæœŸå¾…ã•ã‚Œã¦ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;æœ€çµ‚çš„ãªã“ã®è­°è«–ã®ç€åœ°ã¨ã—ã¦ã€implementationã‚’ä½¿ã†ã‹apiã‚’ä½¿ã†ã‹ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å¼·ãä¾å­˜ã™ã‚‹ã®ã§ã©ã¡ã‚‰ãŒæ­£ã—ã„ã‹ã¯ãªã„ã€‚ãã®ãŸã‚ã€ä»Šå›ç½®ãæ›ãˆãŸã„compileã¯apiã¨ã»ã¼åŒç­‰ã®æ„å‘³ã‚’æŒã¤ã®ã§ã€ç½®ãæ›ãˆã‚‹ãªã‚‰apiã®ã»ã†ãŒãµã•ã‚ã—ã„ã‚“ã˜ã‚ƒãªã„ã‹ã€ä»Šã¾ã§ã¨åŒã˜å‹•ä½œã‚’ã™ã‚‹ã®ã§å®‰å…¨ã˜ã‚ƒãªã„ã‹ã¨ã„ã†æ„Ÿã˜ã§ã¾ã¨ã¾ã‚Šã¾ã—ãŸã€‚&lt;/p&gt;

&lt;p&gt;ç¾çŠ¶ã®å·®åˆ†ã¯ä»¥ä¸‹ã§ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-text&#34;&gt;-  compile &#39;com.google.dagger:dagger:2.x&#39;
+  api &#39;com.google.dagger:dagger:2.x&#39;
  annotationProcessor &#39;com.google.dagger:dagger-compiler:2.x&#39;
}

+ For more information on api vs implementation please see https://developer.android.com/studio/build/gradle-plugin-3-0-0-migration?utm_source=android-studio#new_configurations

- compile &#39;com.google.dagger:dagger-android:2.x&#39;
- compile &#39;com.google.dagger:dagger-android-support:2.x&#39; // if you use the support libraries
+ implementation &#39;com.google.dagger:dagger-android:2.x&#39;
+ implementation &#39;com.google.dagger:dagger-android-support:2.x&#39; // if you use the support libraries
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;dagger-androidãŒimplementationã®ã¾ã¾ãªã®ã¯ã€ã“ã¡ã‚‰ã«ã¯Lazyã‚„Providerãªã©ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒä½¿ã†ã§ã‚ã‚ã†APIãŒå«ã¾ã‚Œã¦ã„ãªã„ãŸã‚ã ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ã¾ã¨ã‚&#34;&gt;ã¾ã¨ã‚&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;READMEã‚’æ›´æ–°ã™ã‚‹ã®ã«ã‹ãªã‚Šç†±ã„è­°è«–ã‚’ã—ã¦ã„ã‚‹ã®ãŒã™ã”ã„å°è±¡çš„ã§ã—ãŸ

&lt;ul&gt;
&lt;li&gt;æ‰‹ã‚’æŠœã‹ãªã„ã£ã¦å¤§äº‹ãªã‚“ã ãªã£ã¦&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;ã‚ˆã‚Šè©³ã—ã„è­°è«–ã¯ã€&lt;a href=&#34;https://github.com/google/dagger/pull/1130&#34;&gt;ISSUE&lt;/a&gt;ã‚’è¦‹ã¦ä¸‹ã•ã„ğŸ˜ƒ&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    
    
    <item>
      <title>Data Bindingã®ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ãŒ3.4.0-alpha07ã‹ã‚‰è¦‹ã‚„ã™ããªã‚‹</title>
      <link>https://satoshun.github.io/2018/12/databinding_decrease_error_log/</link>
      <pubDate>Fri, 07 Dec 2018 00:00:00 UTC</pubDate>
      <author>Sato Shun</author>
      <guid>https://satoshun.github.io/2018/12/databinding_decrease_error_log/</guid>
      <description>

&lt;p&gt;Data Bindingã¨Dagger2ãªã©ã®ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ç³»ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’çµ„ã‚ã›ã¦ä½¿ã†ã¨ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ãŒè†¨å¤§ã«ãªã‚‹å•é¡ŒãŒã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ãã‚ŒãŒ&lt;code&gt;3.4.0-alpha07&lt;/code&gt;ä»¥é™ã§æ”¹å–„ã•ã‚Œã‚‹è¦‹è¾¼ã¿ã§ã™ğŸ‰&lt;/p&gt;

&lt;p&gt;è©³ç´°ã¯ã“ã“ã«ã‚ã‚Šã¾ã™ã€‚&lt;a href=&#34;https://issuetracker.google.com/issues/116541301&#34;&gt;https://issuetracker.google.com/issues/116541301&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ã“ã®è¨˜äº‹ã§ã¯ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’ãƒ™ãƒ¼ã‚¹ã«ã€ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã®å¤‰åŒ–ãŒã©ã®ã‚ˆã†ã«å¤‰ã‚ã£ãŸã‹ã‚’ç´¹ä»‹ã—ã€å®Ÿéš›ã«ã‚¢ãƒ—ãƒªå´ã®ã‚³ãƒ¼ãƒ‰ã‚’ã©ã®ã‚ˆã†ã«å¤‰æ›´ã™ã‚‹ã‹ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/satoshun-android-example/DataBindingApiDeprecateExample&#34;&gt;ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ã“ã“&lt;/a&gt;ã«ã‚ã‚Šã¾ã™ğŸ˜ƒ&lt;/p&gt;

&lt;h2 id=&#34;ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã®å¤‰åŒ–&#34;&gt;ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã®å¤‰åŒ–&lt;/h2&gt;

&lt;p&gt;ã¾ãšã©ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã‚‹ã‹ã‚’è¦‹ã¦ã„ãã¾ã™ã€‚
é©å½“ã«ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã—ã€Daggerå‘¨ã‚Šã®ã‚³ãƒ¼ãƒ‰ã§ã‚¨ãƒ©ãƒ¼ã‚’å‡ºã—ã¦ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã¾ãšã¯Data Binding 3.2.1ã‹ã‚‰ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-txt&#34;&gt;&amp;gt; Task :app:kaptGenerateStubsDebugKotlin
e: /Users/stsn/git/github.com/satoshun-android-example/DataBindingApiDeprecateExample/app/build/generated/data_binding_base_class_source_out/debug/dataBindingGenBaseClassesDebug/out/com/github/satoshun/example/sample/databinding/MainAct79Binding.java:17: error: cannot find symbol
  protected MainAct79Binding(DataBindingComponent _bindingComponent, View _root,
                             ^
  symbol:   class DataBindingComponent
  location: class MainAct79Binding
e: /Users/stsn/git/github.com/satoshun-android-example/DataBindingApiDeprecateExample/app/build/generated/data_binding_base_class_source_out/debug/dataBindingGenBaseClassesDebug/out/com/github/satoshun/example/sample/databinding/MainAct79Binding.java:31: error: cannot find symbol
      boolean attachToRoot, @Nullable DataBindingComponent component) {
                                      ^
...
...
...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Data Bindingå‘¨ã‚Šã®ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ãŒç„¡é™ã«å‡ºã¾ã™ã€‚æ‚²ã—ã„ğŸ˜‚&lt;/p&gt;

&lt;p&gt;æ¬¡ã«3.4.0-alpha07ã§ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;gt; Task :app:kaptGenerateStubsDebugKotlin
e: /Users/stsn/git/github.com/satoshun-android-example/DataBindingApiDeprecateExample/app/build/tmp/kapt3/stubs/debug/com/github/satoshun/example/sample/MainActivityBuilder.java:6: error: incompatible types: NonExistentClass cannot be converted to Annotation
@error.NonExistentClass()
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã¡ã‚ƒã‚“ã¨å•é¡ŒãŒã‚ã‚‹ã‚³ãƒ¼ãƒ‰ç®‡æ‰€ã®ã¿ã§ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ãŒå‡ºã¾ã—ãŸï¼ï¼Data Bindingå‘¨ã‚Šã®ã‚¨ãƒ©ãƒ¼ã¯å‡ºã¦ã„ã¾ã›ã‚“ï¼ï¼å¬‰ã—ã„ğŸ˜ƒ&lt;/p&gt;

&lt;h2 id=&#34;ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®å¯¾å¿œ&#34;&gt;ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®å¯¾å¿œ&lt;/h2&gt;

&lt;p&gt;ã“ã‚Œã«ä¼´ã„ã€ä¸€éƒ¨APIãŒdeprecatedã«ãªã‚Šã¾ã™ã€‚ä¾‹ãˆã°ã€&lt;code&gt;main_act.xml&lt;/code&gt;ã¯æ¬¡ã®ã‚ˆã†ã«APIãŒå¤‰æ›´ã•ã‚Œã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public abstract class MainActBinding extends ViewDataBinding {
  @NonNull
  public static MainActBinding inflate(@NonNull LayoutInflater inflater,
      @Nullable ViewGroup root,
      boolean attachToRoot
  )

  @NonNull
  @Deprecated
  public static MainActBinding inflate(@NonNull LayoutInflater inflater,
      @Nullable ViewGroup root, boolean attachToRoot, @Nullable Object component
  )

  @NonNull
  public static MainActBinding inflate(@NonNull LayoutInflater inflater)

  @NonNull
  @Deprecated
  public static MainActBinding inflate(@NonNull LayoutInflater inflater, @Nullable Object component)

  public static MainActBinding bind(@NonNull View view)

  @Deprecated
  public static MainActBinding bind(@NonNull View view, @Nullable Object component)
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä½¿ã†å´ã®ä½œæ¥­ã¨ã—ã¦ã¯ã€ä¸Šè¨˜ã®deprecatedã«ãªã£ãŸAPIã‚’ç½®ãæ›ãˆã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãŸã ã€ã™ãã«æ¶ˆãˆã‚‹ã‚ã‘ã§ã¯ãªã„ã®ã§ã€æ€¥ã„ã§ç½®ãæ›ãˆã‚‹å¿…è¦ã¯ãªã„ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;è£œè¶³&#34;&gt;è£œè¶³&lt;/h2&gt;

&lt;p&gt;AGPã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã¯æ°—è»½ã«å‡ºæ¥ãªã„ã®ã§ã€
Data Bindingã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã ã‘ã‚’ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã‚ˆã†ã¨æ€ã£ãŸã‚“ã§ã™ãŒã€ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã—ã¾ã„å‡ºæ¥ã¾ã›ã‚“ã§ã—ãŸã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-groovy&#34;&gt;kapt &amp;quot;androidx.databinding:databinding-compiler:3.4.0-alpha07&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-txt&#34;&gt;ERROR: Data Binding annotation processor version needs to match the Android Gradle Plugin version. You can remove the kapt dependency androidx.databinding:databinding-compiler:3.4.0-alpha07 and Android Gradle Plugin will inject the right version.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;AGPã¨Data Bindingã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ç´ä»˜ã„ã¦ã„ã‚‹ãŸã‚ã€ç‰‡æ–¹ã ã‘ã‚’ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ã‚ˆã†ã¨ã—ã¦ã‚‚ç„¡ç†ãªã‚ˆã†ã§ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ã¾ã¨ã‚&#34;&gt;ã¾ã¨ã‚&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;AGPã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’ã™ã‚Œã°Data Bindingã®ãƒ„ãƒ©ãƒŸã®1ã¤ã§ã‚ã£ãŸã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã‹ã‚‰è§£æ”¾ã•ã‚Œã‚‹ï¼ˆã‹ã‚‚ï¼‰&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/satoshun-android-example/DataBindingApiDeprecateExample&#34;&gt;ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ã“ã“&lt;/a&gt;ã«ã‚ã‚Šã¾ã™ğŸ˜ƒ&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Happy Data Binding LifeğŸ‰ğŸ‰ğŸ‰&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>Kotlin Coroutineã‚’å°å…¥ã—ãŸã‚‰ã©ã‚Œã ã‘ãƒ“ãƒ«ãƒ‰ã‚¿ã‚¤ãƒ ãŒå¢—ãˆãã†ã‹æ¤œè¨¼ã—ãŸ</title>
      <link>https://satoshun.github.io/2018/12/coroutine_build_perf/</link>
      <pubDate>Wed, 05 Dec 2018 00:00:00 UTC</pubDate>
      <author>Sato Shun</author>
      <guid>https://satoshun.github.io/2018/12/coroutine_build_perf/</guid>
      <description>

&lt;p&gt;&lt;strong&gt;æ³¨æ„&lt;/strong&gt;: è¨ˆæ¸¬æ–¹æ³•ã¯å®Ÿç’°å¢ƒã«å…¨ãå³ã—ã¦ã„ãªã„ã®ã§æ„å‘³ãŒãªã„å¯èƒ½æ€§ãŒé«˜ã„ã§ã™ã€‚&lt;/p&gt;

&lt;h3 id=&#34;ç’°å¢ƒ&#34;&gt;ç’°å¢ƒ&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;AGP3.4.0-alpha06&lt;/li&gt;
&lt;li&gt;Kotlin 1.3.10&lt;/li&gt;
&lt;li&gt;Kotlinx.coroutine 1.0.1&lt;/li&gt;
&lt;li&gt;Gradle 5.0&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;æ¯”è¼ƒå¯¾è±¡&#34;&gt;æ¯”è¼ƒå¯¾è±¡&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;kotlinx.coroutineã‚’ä½¿ã£ãŸã‚µãƒ³ãƒ—ãƒ«

&lt;ul&gt;
&lt;li&gt;ã‚¯ãƒ©ã‚¹æ•° 300&lt;/li&gt;
&lt;li&gt;å„ã‚¯ãƒ©ã‚¹ã¯7ã¤ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒã¡ã€ãã®ä¸­ã§coroutine builderã‚„suspendé–¢æ•°ã‚’ã‚³ãƒ¼ãƒ«ã—ã¦ã„ã‚‹&lt;/li&gt;
&lt;li&gt;300 * 7ã®2100ç®‡æ‰€ãŒCoroutineé–¢é€£ã®ã‚³ãƒ¼ãƒ‰ã«ãªã‚Šã¾ã™&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;kotlinx.coroutineã‚’ä½¿ã‚ãªã„ã‚µãƒ³ãƒ—ãƒ«

&lt;ul&gt;
&lt;li&gt;ã‚¯ãƒ©ã‚¹æ•° 300&lt;/li&gt;
&lt;li&gt;å„ã‚¯ãƒ©ã‚¹ã¯7ã¤ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒã¡ã€ãã®ä¸­ã§é©å½“ãªãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆ&lt;code&gt;Handler().post {}&lt;/code&gt;ï¼‰ã‚’ã‚³ãƒ¼ãƒ«ã—ã¦ã„ã‚‹&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/satoshun-android-example/CoroutineBuildPerfExample&#34;&gt;ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&#34;è¨ˆæ¸¬ã‚³ãƒãƒ³ãƒ‰&#34;&gt;è¨ˆæ¸¬ã‚³ãƒãƒ³ãƒ‰&lt;/h3&gt;

&lt;p&gt;Build Scanã‚’ä½¿ã£ã¦è¨ˆæ¸¬ã—ã¾ã™ã€‚ãã®éš›ã€‚build-cacheã¯offã«ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-command&#34;&gt;./gradlew clean
./gradlew build --no-build-cache --scan
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¸¡ã‚µãƒ³ãƒ—ãƒ«ã®ã‚¯ãƒ©ã‚¹æ•°ã€ãƒ¡ã‚½ãƒƒãƒ‰æ•°ã‚’åˆã‚ã›ãŸã ã‘ãªã®ã§ã€å…¨ãæ­£å½“ãªæ¯”è¼ƒã§ãªã„ã“ã¨ã‚’ç•™æ„ãã ã•ã„ã€‚
ã¾ãŸè©¦è¡Œå›æ•°ã¯10å›ç¨‹åº¦ã§ã€æœ€çµ‚çµæœã®ã¿ã‚’ä»¥ä¸‹ã«æ²è¼‰ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;kotlinx-coroutineã‚’ä½¿ã†&#34;&gt;kotlinx.coroutineã‚’ä½¿ã†&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;Time spent executing tasks 1m 16.034s
    All tasks	207	2m 42.833s
    Tasks avoided	12 (09.7%)	0.062s
    From cache	0 (00.0%)	0.000s
    Up-to-date	12 (09.7%)	0.062s
    Tasks executed	112 (90.3%)	2m 42.739s
    Cacheable	0 (00.0%)	0.000s
    Not cacheable	112 (90.3%)	2m 42.739s
    Lifecycle	45	0.023s
    No source	38	0.009s
    Skipped	0	0.000s
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æœ€çµ‚å®Ÿè¡Œæ™‚é–“ã¯&lt;code&gt;1m 16.034s&lt;/code&gt;ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;kotlinx-coroutineã‚’ä½¿ã‚ãªã„&#34;&gt;kotlinx.coroutineã‚’ä½¿ã‚ãªã„&lt;/h2&gt;

&lt;p&gt;æ¬¡ã«ä½¿ã‚ãªã„ä¾‹ã§ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Time spent executing tasks 1m 1.520s
    All tasks	207	1m 57.416s
    Tasks avoided	12 (09.7%)	0.015s
    From cache	0 (00.0%)	0.000s
    Up-to-date	12 (09.7%)	0.015s
    Tasks executed	112 (90.3%)	1m 57.356s
    Cacheable	0 (00.0%)	0.000s
    Not cacheable	112 (90.3%)	1m 57.356s
    Lifecycle	45	0.021s
    No source	38	0.024s
    Skipped	0	0.000s
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æœ€çµ‚å®Ÿè¡Œæ™‚é–“ã¯&lt;code&gt;1m 1.520s&lt;/code&gt;ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ã¾ã¨ã‚&#34;&gt;ã¾ã¨ã‚&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;ä¸Šè¨˜ã®ã‚ˆã†ãªçµæœã«ãªã‚Šã¾ã—ãŸã€‚ã—ã‹ã—ã€ç¹°ã‚Šè¿”ã—ã«ãªã‚Šã¾ã™ãŒã€ã“ã®æ¯”è¼ƒã¯å®Ÿç’°å¢ƒã«å³ã—ã¦ç„¡ã„ã€ãã‚‚ãã‚‚ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ãŒåŒç­‰ã§ãªã„ãŸã‚æ­£å½“ã˜ã‚ƒãªã„ã§ã™

&lt;ul&gt;
&lt;li&gt;ãŸã ã€Coroutineã‚’å…¥ã‚Œã¦ã‚ã‚‹ç¨‹åº¦ã®è¦æ¨¡ã¾ã§è¡Œãã¨ã€ãƒ•ãƒ«ãƒ“ãƒ«ãƒ‰æ™‚ã®ãƒ“ãƒ«ãƒ‰æ™‚é–“ã®å¢—åŠ ã¯é¡•è‘—ã«ãªã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“&lt;/li&gt;
&lt;li&gt;iMac Proã‚’è²·ã£ã¦ã‚‚ã‚‰ã„ã¾ã—ã‚‡ã†ğŸ’»s&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ã‚‚ã£ã¨ã“ã†ã„ã†ãµã†ã«æ¯”è¼ƒã—ã¦ã»ã—ã„ã§ã‚ã£ãŸã‚Šã€é–“é•ã£ã¦ã„ã‚‹éƒ¨åˆ†ãŒã‚ã‚Œã°ã”æŒ‡æ‘˜ã„ãŸã ã‘ã‚Œã°å¹¸ã„ã§ã™ğŸ˜ƒ&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/satoshun-android-example/CoroutineBuildPerfExample&#34;&gt;ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ã“ã“ã«ã‚ã‚Šã¾ã™&lt;/a&gt;ğŸ˜ƒ&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>MutableãªLiveDataã‚’ç‰¹å®šã®ã‚¯ãƒ©ã‚¹å¤–ã‹ã‚‰æ›´æ–°ã§ããªãã™ã‚‹</title>
      <link>https://satoshun.github.io/2018/12/livedata_helper/</link>
      <pubDate>Sat, 01 Dec 2018 00:00:00 UTC</pubDate>
      <author>Sato Shun</author>
      <guid>https://satoshun.github.io/2018/12/livedata_helper/</guid>
      <description>

&lt;p&gt;LiveDataã®å€¤ã‚’æ›´æ–°ã—ãŸã„æ™‚ã€&lt;code&gt;MutableLiveData&lt;/code&gt;ã‚’ä½¿ã†ã®ãŒä¸€èˆ¬çš„ã ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;class MainViewModel {
    val hoge = MutableLiveData&amp;lt;Int&amp;gt;()
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã“ã®æ›¸ãæ–¹ã ã¨ã€å¤–ã®ã‚¯ãƒ©ã‚¹ã‹ã‚‰å€¤ã‚’æ›´æ–°ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;val viewModel = MainViewModel()

// ok
viewModel.hoge.postValue(10000)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¤–ã®ã‚¯ãƒ©ã‚¹ã‹ã‚‰ã¯æ›´æ–°å‡ºæ¥ãªã„ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã«ã¯&lt;code&gt;LiveData&lt;/code&gt;ã«å‹å¤‰æ›ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ä¾‹ãˆã°æ¬¡ã®ã‚ˆã†ã«æ›¸ãã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;class MainViewModel {
    private val _hoge = MutableLiveData&amp;lt;Int&amp;gt;()
    val hoge: LiveData&amp;lt;Int&amp;gt; = _hoge // ã“ã“ã§LiveDataã«å‹å¤‰æ›
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã“ã†ã™ã‚‹ã“ã¨ã§ã€å¤–ã®ã‚¯ãƒ©ã‚¹ã‹ã‚‰ã¯&lt;code&gt;MutableLiveData&lt;/code&gt;ãŒç›´æ¥è¦‹ãˆãªããªã‚Šã€æ˜ç¤ºçš„ã«å‹å¤‰æ›ã‚’ã—ãªã„é™ã‚Š&lt;code&gt;LiveData&lt;/code&gt;ã®å€¤ã‚’æ›´æ–°ã§ããªããªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ãŸã ã“ã®æ›¸ãæ–¹ã¯ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å®šç¾©ãŒå¢—ãˆã‚‹ã®ã§ã¨ã¦ã‚‚ã‚ã‚“ã©ãã•ã„ã§ã™ã€‚
ãªã®ã§ã€ãã‚Œã®è§£æ±ºç­–ã‚’ä»¥ä¸‹ã§ç´¹ä»‹ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ãã®1&#34;&gt;ãã®1&lt;/h2&gt;

&lt;p&gt;ã¾ãšã‚³ãƒ¼ãƒ‰ã‚’ã®ã›ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;abstract class ViewModel2 {
  protected fun &amp;lt;T&amp;gt; ViewModelLiveData2&amp;lt;T&amp;gt;.postValue(value: T) {
    postValue(value)
  }

  protected fun &amp;lt;T&amp;gt; ViewModelLiveData2&amp;lt;T&amp;gt;.setValue(value: T) {
    setValue(value)
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;// ViewModel2ã¨åŒã˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«å®šç¾©
public class ViewModelLiveData2&amp;lt;T&amp;gt; extends LiveData&amp;lt;T&amp;gt; {
  @Override
  protected void postValue(T value) {
    super.postValue(value);
  }

  @Override
  protected void setValue(T value) {
    super.setValue(value);
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ãŒå®šç¾©ã«ãªã‚Šã¾ã™ã€‚æ¬¡ã«ä½¿ã„æ–¹ã§ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;class MainViewModel2 : ViewModel2() {
  val userName = ViewModelLiveData2&amp;lt;String&amp;gt;()

  fun update() {
    userName.setValue(&amp;quot;test&amp;quot;)
    userName.postValue(&amp;quot;test2&amp;quot;)
  }
}

fun main2() {
  val viewModel = MainViewModel2()

  // compile error!!
  // viewModel.userName.setValue(&amp;quot;&amp;quot;)

  viewModel.update()
  viewModel.userName.observeForever { }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;ViewModelLiveData2&lt;/code&gt;ã¨&lt;code&gt;ViewModel2&lt;/code&gt;ã‚’ä½œã‚Šã¾ã—ãŸï¼ˆåå‰ã¯é©å½“ã§ã™ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;ViewModelLiveData2ã‚¯ãƒ©ã‚¹ã§postValueãƒ¡ã‚½ãƒƒãƒ‰ã¨setValueãƒ¡ã‚½ãƒƒãƒ‰ã‚’ã‚ªãƒ¼ãƒãƒ¼ãƒ©ã‚¤ãƒ‰ã—ã€
ViewModel2ã‚¯ãƒ©ã‚¹ã¨åŒã˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«å…¥ã‚Œã‚‹ã“ã¨ã§ã€ViewModel2ã‹ã‚‰ãã‚Œã‚‰ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ã‚³ãƒ¼ãƒ«å‡ºæ¥ã‚‹ã‚ˆã†ã«ãªã‚Šã€
ViewModel2ã‚’ç¶™æ‰¿ã—ãŸã‚¯ãƒ©ã‚¹ã‹ã‚‰ã®ã¿LiveDataã®å€¤ã‚’æ›´æ–°ã§ãã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code&gt;viewModel.userName.setValue(&amp;quot;&amp;quot;)&lt;/code&gt;ã¨ã‚¯ãƒ©ã‚¹å¤–ã‹ã‚‰setValueãƒ¡ã‚½ãƒƒãƒ‰ã‚’ã‚³ãƒ¼ãƒ«ã™ã‚‹ã¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;protectedãƒ¡ã‚½ãƒƒãƒ‰ãŒåŒä¸€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å†…ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹ã“ã¨ã‚’åˆ©ç”¨ã—ãŸã‚³ãƒ¼ãƒ‰ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ãã®2&#34;&gt;ãã®2&lt;/h2&gt;

&lt;p&gt;ã“ã¡ã‚‰ã‚‚ã¾ãšã‚³ãƒ¼ãƒ‰ã‚’ã®ã›ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;abstract class ViewModel3 {
  protected fun &amp;lt;T&amp;gt; ViewModelLiveData3&amp;lt;T&amp;gt;.postValue(value: T) {
    internalPostValue(value)
  }

  protected fun &amp;lt;T&amp;gt; ViewModelLiveData3&amp;lt;T&amp;gt;.setValue(value: T) {
    internalSetValue(value)
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;class ViewModelLiveData3&amp;lt;T&amp;gt; : LiveData&amp;lt;T&amp;gt;() {
  internal fun internalPostValue(value: T) {
    postValue(value)
  }

  internal fun internalSetValue(v: T) {
    value = v
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ãŒå®šç¾©ã«ãªã‚Šã¾ã™ã€‚æ¬¡ã«ä½¿ã„æ–¹ã§ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;class MainViewModel3 : ViewModel3() {
  val userName = ViewModelLiveData3&amp;lt;String&amp;gt;()

  fun update() {
    userName.setValue(&amp;quot;test&amp;quot;)
    userName.postValue(&amp;quot;test2&amp;quot;)
  }
}

fun main3() {
  val viewModel = MainViewModel3()

  // compile error
  // viewModel.userName.setValue(&amp;quot;&amp;quot;)

  viewModel.update()
  viewModel.userName.observeForever { }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;ViewModelLiveData3&lt;/code&gt;ã¨&lt;code&gt;ViewModel3&lt;/code&gt;ã‚’ä½œã‚Šã¾ã—ãŸï¼ˆåå‰ã¯é©å½“ã§ã™ï¼‰ã€‚&lt;/p&gt;

&lt;p&gt;ViewModelLiveData3ã‚¯ãƒ©ã‚¹ã¨ViewModel3ã‚¯ãƒ©ã‚¹ã‚’é©å½“ãªã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å†…ã§å®šç¾©ã—ã¾ã™ã€‚
ãã—ã¦ã€Kotlinã®internalã‚’ä¿®é£¾å­ã‚’ä½¿ã†ã“ã¨ã§ã€å¤–ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‹ã‚‰ã¯ç›´æ¥å€¤ã‚’æ›´æ–°ã™ã‚‹ã“ã¨ãŒã§ããªããªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code&gt;viewModel.userName.setValue(&amp;quot;&amp;quot;)&lt;/code&gt;ã¨ã‚¯ãƒ©ã‚¹å¤–ã‹ã‚‰setValueãƒ¡ã‚½ãƒƒãƒ‰ã‚’ã‚³ãƒ¼ãƒ«ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;è£œè¶³&#34;&gt;è£œè¶³&lt;/h2&gt;

&lt;p&gt;abstract classã‚’interfaceã«ã—ã¦ä¸Šè¨˜ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ¡ã‚½ãƒƒãƒ‰ã«ã™ã‚‹ã¨æ¬¡ã®ã‚ˆã†ã«æ›¸ãã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;interface ViewModel2 {
  fun &amp;lt;T&amp;gt; ViewModelLiveData1&amp;lt;T&amp;gt;.setValue(value: T) {
    this.value = value
  }

  fun &amp;lt;T&amp;gt; ViewModelLiveData1&amp;lt;T&amp;gt;.postValue(value: T) {
    postValue(value)
  }
}

fun main() {
  ...

  // compile error
  // viewModel.userName.setValue(&amp;quot;&amp;quot;)

  // ok
  with(viewModel) {
    userName.setValue(&amp;quot;&amp;quot;)
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;applyã‚„withã‚’ä½¿ã£ã¦ViewModel2ãŒreceiverã«ãªã‚‹ã¨ã€setValueãƒ¡ã‚½ãƒƒãƒ‰ãŒã‚³ãƒ¼ãƒ«å‡ºæ¥ã‚‹ãŸã‚ã€å¤–ã‹ã‚‰å€¤ã‚’æ›´æ–°ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¦ã—ã¾ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ã¾ã¨ã‚&#34;&gt;ã¾ã¨ã‚&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;ãŠãã‚‰ãLiveDataã®å€¤ã‚’æ›´æ–°ã™ã‚‹éƒ¨åˆ†ã¯ã€&lt;code&gt;ViewModel&lt;/code&gt;ã‚„&lt;code&gt;Store&lt;/code&gt;ã‚¯ãƒ©ã‚¹ã«é›†ä¸­ã™ã‚‹ã¨æ€ã†ã®ã§ã€ãã‚Œã‚‰ã®Baseã‚¯ãƒ©ã‚¹ã§ä¸Šè¨˜ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©ã™ã‚‹ã“ã¨ã§æ¥½ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã¨æ€ã„ã¾ã™ã€‚&lt;/li&gt;
&lt;li&gt;ã‚‚ã£ã¨è‰¯ã„ã€æ¥½ã§ãã‚‹æ›¸ãæ–¹ãŒã‚ã‚Œã°ãœã²æ•™ãˆã¦ãã ã•ã„!!&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä»Šå›ã®æ¤œè¨¼ã«ç”¨ã„ãŸ&lt;a href=&#34;https://github.com/satoshun-android-example/LiveDataRemoveUnderScoreExample&#34;&gt;ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ã“ã“ã«ã‚ã‚Šã¾ã™&lt;/a&gt;ğŸ˜ƒ&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>Retrofitã§ã‚«ã‚¹ã‚¿ãƒ ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ã†</title>
      <link>https://satoshun.github.io/2018/11/retrofit_custom_annotation/</link>
      <pubDate>Fri, 23 Nov 2018 00:00:00 UTC</pubDate>
      <author>Sato Shun</author>
      <guid>https://satoshun.github.io/2018/11/retrofit_custom_annotation/</guid>
      <description>

&lt;p&gt;&lt;a href=&#34;https://github.com/square/retrofit/blob/master/CHANGELOG.md#version-250-2018-11-18&#34;&gt;Retrofit 2.5.0&lt;/a&gt;ã‹ã‚‰ã‚«ã‚¹ã‚¿ãƒ ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãŒä½¿ãˆã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€ãã‚Œã®ç´¹ä»‹ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;ä¾‹ã‚’ã‚ã’ã¦èª¬æ˜ã—ã¾ã™ã€‚ç‰¹å®šã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ãƒ˜ãƒƒãƒ€ãƒ¼ã«èªè¨¼æƒ…å ±ã‚’ä»˜ä¸ã—ãŸã„ã¨ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã¾ãšæœ€åˆã«ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®šç¾©ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;annotation class RequireAuth
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ¬¡ã«ã€ä¸Šè¨˜ã§å®šç¾©ã—ãŸã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ã„ã€Apiã‚’å®šç¾©ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;interface ApiService {
  @RequireAuth
  @GET(&amp;quot;login&amp;quot;)
  fun login(: retrofit2.Call&amp;lt;Unit&amp;gt;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ¬¡ã«ã€&lt;code&gt;RequireAuth&lt;/code&gt;ã‚’å‡¦ç†ã™ã‚‹ãŸã‚ã®&lt;code&gt;okhttp3.Interceptor&lt;/code&gt;ã‚’å®šç¾©ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;class AuthInterceptor : Interceptor {
  override fun intercept(chain: Interceptor.Chain): Response {
    var request = chain.request()

    val invocation = request.tag(Invocation::class.java)
    val authAnnotation = invocation?.method()?.getAnnotation(RequireAuth::class.java)
    if (authAnnotation != null) {
      request = request
        .newBuilder()
        .addHeader(&amp;quot;Authorization&amp;quot;, &amp;quot;Basic AAAAA&amp;quot;).build()
    }
    return chain.proceed(request)
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã“ã“ã§ã®ãƒã‚¤ãƒ³ãƒˆã¯ã€&lt;code&gt;val invocation = request.tag(Invocation::class.java)&lt;/code&gt;ã§ã™ã€‚
Retrofit 2.5.0ã‹ã‚‰&lt;code&gt;Invocation&lt;/code&gt;ãŒè¿½åŠ ã•ã‚Œã€&lt;code&gt;Request&lt;/code&gt;ã‹ã‚‰&lt;code&gt;Invocation&lt;/code&gt;ãŒå–å¾—ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚
&lt;code&gt;Invocation&lt;/code&gt;ã«ã¯ã€å‡¦ç†ã—ã¦ã„ã‚‹&lt;code&gt;Request&lt;/code&gt;ã®&lt;code&gt;java.lang.reflect.Method&lt;/code&gt;ãŒæ ¼ç´ã•ã‚Œã¦ãŠã‚Šã€
ãã“ã‹ã‚‰ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã®æƒ…å ±ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code&gt;val authAnnotation = invocation?.method()?.getAnnotation(RequireAuth::class.java)&lt;/code&gt;ã§ã€
ãƒ¡ã‚½ãƒƒãƒ‰ã«&lt;code&gt;RequireAuth&lt;/code&gt;ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãŒä»˜ä¸ã•ã‚Œã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’çŸ¥ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
&lt;code&gt;RequireAuth&lt;/code&gt;ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãŒã¤ã„ã¦ã„ã‚Œã°ã€&lt;code&gt;Request&lt;/code&gt;ã®ãƒ˜ãƒƒãƒ€ãƒ¼ã«èªè¨¼æƒ…å ±ã‚’è¿½åŠ ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;æœ€å¾Œã«ã€ä¸Šè¨˜ã®&lt;code&gt;Interceptor&lt;/code&gt;ã‚’OkHttpã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«ä»˜ä¸ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;val client = OkHttpClient.Builder()
    .addInterceptor(AuthInterceptor())
    .build()
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã“ã‚Œã§Retrofitã§ã‚«ã‚¹ã‚¿ãƒ ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ã†ã“ã¨ãŒå‡ºæ¥ã¾ã™!!&lt;/p&gt;

&lt;h2 id=&#34;invocationä»¥å‰ã®å ´åˆ&#34;&gt;Invocationä»¥å‰ã®å ´åˆ&lt;/h2&gt;

&lt;p&gt;Invocationä»¥å‰ã¯ã€&lt;code&gt;Headers&lt;/code&gt;ã‚’ä½¿ã„èªè¨¼æƒ…å ±ã‚’ä»˜ä¸ã™ã‚‹ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ãŒã‚ã‚Šã¾ã—ãŸã€‚
è©³ã—ãã¯&lt;a href=&#34;https://speakerdeck.com/jakewharton/making-retrofit-work-for-you-ohio-devfest-2016?slide=39&#34;&gt;Making Retrofit Work For You&lt;/a&gt;ã«ã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;@Headers(&amp;quot;Auth: true&amp;quot;)
@GET(&amp;quot;useheaderlogin&amp;quot;)
fun login(): retrofit2.Call&amp;lt;Unit&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;class Auth2Interceptor : Interceptor {
  override fun intercept(chain: Interceptor.Chain): Response {
    var request = chain.request()

    if (request.header(&amp;quot;Auth&amp;quot;) != null) {
      request = request
        .newBuilder()
        .addHeader(&amp;quot;Authorization&amp;quot;, &amp;quot;Basic BBBBB&amp;quot;).build()
    }
    return chain.proceed(request)
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã“ã®ã‚³ãƒ¼ãƒ‰ã§ã‚‚å‹•ãã®ã§ã™ãŒã€ã‚«ã‚¹ã‚¿ãƒ ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®šç¾©ã™ã‚‹ã‚„ã‚Šæ–¹ã®ã»ã†ãŒæ„å‘³ãŒä¼ã‚ã‚Šã‚„ã™ã„ã¨æ€ã†ã®ã§ã€ã‚ˆã‚Šã‚ˆã„ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ã¾ã¨ã‚&#34;&gt;ã¾ã¨ã‚&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Retrofit 2.5.0ã§InvocationãŒè¿½åŠ ã•ã‚Œã¦ã‚«ã‚¹ã‚¿ãƒ ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãŒä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸ

&lt;ul&gt;
&lt;li&gt;ã•ã‚‰ã«Invocationã¯ãƒ¡ã‚½ãƒƒãƒ‰ã®å¼•æ•°ãƒªã‚¹ãƒˆã‚’æŒã£ã¦ãŠã‚Šã€ãƒ­ã‚°ã‚„ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹ãªã©ã«æœ‰åŠ¹ã«ä½¿ã†ã“ã¨ãŒã§ãã¾ã™&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä»Šå›ã®æ¤œè¨¼ã«ç”¨ã„ãŸã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯&lt;a href=&#34;https://github.com/satoshun-android-example/RetrofitCustomAnnotationExample&#34;&gt;ã“ã“ã«&lt;/a&gt;ã‚ã‚Šã¾ã™ğŸ˜ƒ&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>Activityã€Fragmentã€Viewã«ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã™ã‚‹</title>
      <link>https://satoshun.github.io/2018/11/android_all_inject_ctor/</link>
      <pubDate>Fri, 16 Nov 2018 00:00:00 UTC</pubDate>
      <author>Sato Shun</author>
      <guid>https://satoshun.github.io/2018/11/android_all_inject_ctor/</guid>
      <description>

&lt;p&gt;Daggerãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã„ã€Androidãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒæä¾›ã™ã‚‹Activityãªã©ã®ã‚¯ãƒ©ã‚¹ã«ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã—ãŸã„ã€
ãã‚“ãªå¤¢ã‚’ã¿ãŸAndroidã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¯æ•°å¤šãã„ã‚‹ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã“ã®è¨˜äº‹ã§ã¯ãã‚“ãªå¤¢ã‚’å¶ãˆã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/satoshun-android-example/ConstructorInjectionExample&#34;&gt;ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ã“ã“ã«&lt;/a&gt;ã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;fragmentfactory&#34;&gt;FragmentFactory&lt;/h2&gt;

&lt;p&gt;Fragmentã«ä¾å­˜é–¢ä¿‚ã‚’æ³¨å…¥ã™ã‚‹æ™‚ã€æ™®é€šã«ã‚„ã‚‹ã¨ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã«ãªã‚‹ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;class MainFragment : Fragment() {
  @Inject lateinit var userHandler: UserHandler
  ...
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã“ã‚Œã‚’ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã«ã—ãŸã„ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;class MainFragment @Inject constructor(
  private val userHandler: UserHandler
) : Fragment() {
  ...
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;androidx.fragment:fragment:1.1.0-alpha01&lt;/code&gt;ã‹ã‚‰ã€FragmentFactoryãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸ!!
ã“ã‚Œã‚’ä½¿ã†ã“ã¨ã§ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;MainFragmentã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã™ã‚‹&lt;code&gt;FragmentFactory&lt;/code&gt;ã‚’ä½œæˆã—ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;class MainFragmentFactory @Inject constructor(
  private val fragment: Provider&amp;lt;MainFragment&amp;gt;
) : FragmentFactory() {
  override fun instantiate(
    classLoader: ClassLoader,
    className: String,
    args: Bundle?
  ): Fragment {
    if (className == MainFragment::class.java.name) {
      return fragment.get()
    }
    return super.instantiate(classLoader, className, args)
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;FragmentFactory.instantiate&lt;/code&gt;ã‚’overrideã—ã€ãã“ã§MainFragmentã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã—ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;æœ€å¾Œã«ã€ä½œæˆã—ãŸ&lt;code&gt;MainFragmentFactory&lt;/code&gt;ã‚’Activityã®&lt;code&gt;FragmentManager&lt;/code&gt;ã«ç™»éŒ²ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;class MainActivity : AppCompatActivity() {
  @Inject lateinit var fragmentFactory: MainFragmentFactory

  override fun onCreate(savedInstanceState: Bundle?) {
    DaggerAppComponent.create().inject(this)
    supportFragmentManager.fragmentFactory = fragmentFactory

    super.onCreate(savedInstanceState)
    ...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;SupportFragmentManager.fragmentFactory&lt;/code&gt;ã«ç™»éŒ²ã—ã¾ã™ã€‚
ã“ã‚Œã§ã€FragmentãŒç”Ÿæˆã•ã‚Œã‚‹ã¨ã&lt;code&gt;MainFragmentFactory&lt;/code&gt;ãŒãƒ•ãƒƒã‚¯ã•ã‚Œã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code&gt;SupportFragmentManager.fragmentFactory&lt;/code&gt;ã«Factoryã‚’ç™»éŒ²ã™ã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¯&lt;code&gt;super.onCreate(savedInstanceState)&lt;/code&gt;ã®å‰ãŒè‰¯ã„ã¨æ€ã„ã¾ã™ã€‚
ãã‚Œã¯&lt;code&gt;super.onCreate&lt;/code&gt;ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ä»¥å‰ã®FragmentãŒå¾©å…ƒã•ã‚Œã‚‹ãŸã‚ã§ã™ã€‚
å¾©å…ƒã•ã‚Œã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§é©åˆ‡ãªFactoryãŒãªã„ã¨ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã™ã‚‹ã®ã§ã€å¾©å…ƒã™ã‚‹å‰ã§ç™»éŒ²ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;layoutinflater-factory&#34;&gt;LayoutInflater.Factory&lt;/h2&gt;

&lt;p&gt;æ¬¡ã«Viewã§ã™ã€‚&lt;code&gt;LayoutInflater.Factory&lt;/code&gt;ãŒå®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚
ã“ã‚Œã‚’ä½¿ã†ã“ã¨ã§ã‚«ã‚¹ã‚¿ãƒ ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’æŒã£ãŸViewã‚’å®šç¾©ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;class MainTextView(
  context: Context,
  private val userHandler: UserHandler
) : TextView(context) {
  class Factory @Inject constructor(private val userHandler: UserHandler) {
    fun create(context: Context): MainTextView {
      return MainTextView(context, userHandler)
    }
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã‚«ã‚¹ã‚¿ãƒ ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’æŒã£ãŸViewã¯é€šå¸¸ã®æ–¹æ³•ã§ã¯ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã§ãã¾ã›ã‚“ãŒã€
&lt;code&gt;LayoutInflater.Factory&lt;/code&gt;ã‚’ä½¿ã†ã“ã¨ã§ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;class MainLayoutInflaterFactory @Inject constructor(
  private val factory: MainTextView.Factory
) : LayoutInflater.Factory {
  override fun onCreateView(name: String, context: Context, attrs: AttributeSet?): View? {
    if (name == MainTextView::class.java.name) {
      return factory.create(context)
    }
    return null
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;LayoutInflater.Factory.onCreateView&lt;/code&gt;ã‚’overrideã—ã€&lt;code&gt;MainTextView&lt;/code&gt;ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã—ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;æœ€å¾Œã«ã€ä½œæˆã—ãŸ&lt;code&gt;MainLayoutInflaterFactory&lt;/code&gt;ã‚’Activityã®&lt;code&gt;layoutInflater.factory&lt;/code&gt;ã«ç™»éŒ²ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;class MainActivity : AppCompatActivity() {
  private lateinit var layoutInflaterFactory: MainLayoutInflaterFactory

  override fun onCreate(savedInstanceState: Bundle?) {
    DaggerAppComponent.create().inject(this)
    layoutInflater.factory = layoutInflaterFactory

    super.onCreate(savedInstanceState)
    ...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Activityã®&lt;code&gt;LayoutInflater.factory&lt;/code&gt;ã«ç™»éŒ²ã—ã¾ã™ã€‚ç™»éŒ²ã™ã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¯setContentViewã®å‰ãŒè‰¯ã„ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;appcomponentfactory&#34;&gt;AppComponentFactory&lt;/h2&gt;

&lt;p&gt;æ¬¡ã«Activityã§ã™ã€‚
Activityã«ä¾å­˜é–¢ä¿‚ã‚’æ³¨å…¥ã™ã‚‹æ™‚ã€æ™®é€šã«ã‚„ã‚‹ã¨ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã«ãªã‚‹ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;class MainActivity : Activity() {
  @Inject lateinit var presenter: UserPresenter
  @Inject lateinit var analytics: Analytics
  ...
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã“ã‚Œã‚’ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã«ã—ãŸã„ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;class MainActivity @Inject constructor(
  private val presenter: UserPresenter,
  private val analytics: Analytics
): Activity() {
  ...
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã—ã‹ã—ã€ã“ã®æ›¸ãæ–¹ã¯ã†ã¾ãã„ãã¾ã›ã‚“ã€‚ãªãœãªã‚‰Activityã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¯ã‚·ã‚¹ãƒ†ãƒ å´ã§è‡ªå‹•çš„ã«ç”Ÿæˆã•ã‚Œã‚‹ãŸã‚ã§ã™ã€‚
ã‚«ã‚¹ã‚¿ãƒ å®šç¾©ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã ã¨ã€ã‚·ã‚¹ãƒ†ãƒ å´ã§ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã›ã‚“ã€‚&lt;/p&gt;

&lt;p&gt;ã“ã‚Œã‚’è§£æ±ºã™ã‚‹ã¹ãã€API28ã‹ã‚‰AppComponentFactoryã¨ã„ã†ã‚¯ãƒ©ã‚¹ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸ!!&lt;/p&gt;

&lt;p&gt;MainActivityã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã™ã‚‹&lt;code&gt;AppComponentFactory&lt;/code&gt;ã‚’ä½œæˆã—ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;@Suppress(&amp;quot;unused&amp;quot;)
class MainAppComponentFactory : AppComponentFactory() {
  private lateinit var application: App

  override fun instantiateActivityCompat(
    cl: ClassLoader,
    className: String,
    intent: Intent?
  ): Activity {
    if (className == MainActivity::class.java.name) {
      return application.appComponent.mainActivity
    }
    return super.instantiateActivityCompat(cl, className, intent)
  }

  override fun instantiateApplicationCompat(cl: ClassLoader, className: String): Application {
    application = super.instantiateApplicationCompat(cl, className) as App
    return application
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ¬¡ã«Androidãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã«&lt;code&gt;MainAppComponentFactory&lt;/code&gt;ã‚’ç™»éŒ²ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-xml&#34;&gt;...
  &amp;lt;application
    android:allowBackup=&amp;quot;true&amp;quot;
    android:name=&amp;quot;.App&amp;quot;
    android:appComponentFactory=&amp;quot;com.github.satoshun.example.sample.MainAppComponentFactory&amp;quot;
    android:icon=&amp;quot;@mipmap/ic_launcher&amp;quot;
    android:label=&amp;quot;@string/app_name&amp;quot;
    android:roundIcon=&amp;quot;@mipmap/ic_launcher_round&amp;quot;
    android:supportsRtl=&amp;quot;true&amp;quot;
    android:theme=&amp;quot;@style/AppTheme&amp;quot;
    tools:replace=&amp;quot;android:appComponentFactory&amp;quot;&amp;gt;
    ...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;AppComponentFactory.instantiateActivityCompat&lt;/code&gt;ã‚’overrideã—ã€&lt;code&gt;MainActivity&lt;/code&gt;ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã—ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã“ã‚Œã§ã€ã‚«ã‚¹ã‚¿ãƒ ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’æŒã£ãŸActivityã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™!!&lt;/p&gt;

&lt;h2 id=&#34;ã¾ã¨ã‚&#34;&gt;ã¾ã¨ã‚&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Fragmentã€Viewã¯ä»Šã‹ã‚‰ã§ã‚‚ä½¿ã„å§‹ã‚ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚Daggerãªã©ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨çµ„ã¿åˆã‚ã›ã‚‹ã¨æœ€é«˜â˜†&lt;/li&gt;
&lt;li&gt;AppComponentFactoryã¯API28ã‹ã‚‰ãªã®ã§&amp;hellip;5å¹´å¾Œãã‚‰ã„ã§ã—ã‚‡ã†ã‹ğŸ˜¢&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/satoshun-android-example/ConstructorInjectionExample&#34;&gt;ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ã“ã“ã§ã™&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä½•ã‹ç–‘å•ç‚¹ãŒã‚ã‚Œã°ã€twitterã‚„ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã®ISSUEãªã©ã§èã„ã¦ãã ã•ã„ğŸ˜ƒ&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>Kotlin: Contracts &#43; æ‹¡å¼µé–¢æ•°ã§ã‚ˆã‚Šä¾¿åˆ©ã«</title>
      <link>https://satoshun.github.io/2018/11/more_convenient_contracts/</link>
      <pubDate>Sun, 11 Nov 2018 00:00:00 UTC</pubDate>
      <author>Sato Shun</author>
      <guid>https://satoshun.github.io/2018/11/more_convenient_contracts/</guid>
      <description>

&lt;p&gt;Kotlin 1.3.0ã‹ã‚‰ContractsãŒå®Ÿè£…ã•ã‚Œã¾ã—ãŸã€‚
Contractsã‚’ä½¿ã†ã“ã¨ã§ã€é–¢æ•°ãŒã©ã®ã‚ˆã†ãªæŒ¯ã‚‹èˆã„ã‚’ã™ã‚‹ã‹ã€ã©ã†ã„ã†åŠ¹æœã‚’ã‚‚ãŸã‚‰ã™ã‹ã‚’å®šç¾©ï¼ˆå¥‘ç´„ï¼‰ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ä¾‹ãˆã°ã€&lt;code&gt;isNullOrEmpty&lt;/code&gt;ãƒ¡ã‚½ãƒƒãƒ‰ãŒfalseè¿”ã™ãªã‚‰ã€
Contractsã«ã‚ˆã‚Šnullã§ãªã„ã“ã¨ãŒä¿è¨¼ã•ã‚Œã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;val a: String? = ...
if (!a.isNullOrEmpty()) {
    println(a.length) // !!ãŒå¿…è¦ãªã„
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ContractsãŒãªã„æ™‚ä»£ã ã¨å‘¼ã³å‡ºã—å…ƒã§&lt;code&gt;isNullOrEmpty&lt;/code&gt;ãŒã©ã‚“ãªæŒ¯ã‚‹èˆã„ã‚’ã™ã‚‹ã‹ã‚’çŸ¥ã‚‹ã™ã¹ãŒãªã‹ã£ãŸã®ã§ã€
&lt;code&gt;!!&lt;/code&gt;ã‚’ã¤ã‘ã‚‹å¿…è¦ãŒã‚ã£ãŸã®ã§ã™ãŒã€Contractsã«ã‚ˆã‚Šnullã§ãªã„ã“ã¨ãŒä¿è¨¼ã§ãã‚‹ã®ã§ã€&lt;code&gt;!!&lt;/code&gt;ã‚’çœç•¥ã§ãã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code&gt;isNullOrEmpty&lt;/code&gt;ã®å®Ÿè£…ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;@kotlin.internal.InlineOnly
public inline fun CharSequence?.isNullOrEmpty(): Boolean {
    contract {
        returns(false) implies (this@isNullOrEmpty != null)
    }

    return this == null || this.length == 0
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;contract&lt;/code&gt;ã¯DSLï¼ˆé–¢æ•°ï¼‰ã¨ã—ã¦å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚
ã“ã‚Œã‚’å‘¼ã³å‡ºã—ã€ãã®ãƒ–ãƒ­ãƒƒã‚¯ã®ä¸­ã§ã“ã®é–¢æ•°ãŒæº€ãŸã™æŒ¯ã‚‹èˆã„ã‚’å®šç¾©ã™ã‚‹äº‹ãŒã§ãã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;&lt;code&gt;isNullOrEmpty&lt;/code&gt;ã®å ´åˆã¯&lt;code&gt;returns(false) implies (this@isNullOrEmpty != null)&lt;/code&gt;ãŒå¥‘ç´„ã¨ã—ã¦å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã“ã‚Œã¯ã€&lt;code&gt;ã€Œreturns(false)&lt;/code&gt;: falseã‚’è¿”ã™ãªã‚‰ &lt;code&gt;(this@isNullOrEmpty != null)&lt;/code&gt;: è‡ªåˆ†è‡ªèº«ãŒnullã˜ã‚ƒãªã„ã€ã¨ã„ã†æ„å‘³ã«ãªã‚Šã¾ã™ã€‚
ãªã®ã§å‘¼ã³å‡ºã—å…ƒã§ã¯falseãŒè¿”ã£ã¦ããŸã‚‰ã€nullã§ã¯ãªã„ã“ã¨ãŒä¿è¨¼ã•ã‚Œã‚‹ã®ã§ã€smartcastã«ã‚ˆã‚Š&lt;code&gt;!!&lt;/code&gt;ã‚’ã¤ã‘ã‚‹å¿…è¦ãŒãªããªã‚‹ã‚ã‘ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;ãªã®ã§ã€ä¾‹ãˆã°&lt;code&gt;T.isEmpty(t: T?): Boolean&lt;/code&gt;ã®ã‚ˆã†ãªãƒ¡ã‚½ãƒƒãƒ‰ãŒã‚ã‚Šã€ã¤ã„ã§ã«nullãƒã‚§ãƒƒã‚¯ã‚‚ã“ã®é–¢æ•°ã®ä¸­ã§ã‚„ã£ã¦ã„ã‚‹ã‚ˆã†ãªã¨ãã¯ã€
contractã‚’å®šç¾©ã™ã‚‹ã“ã¨ã§ã‚ˆã‚Šä½¿ã„ã‚„ã™ã„é–¢æ•°ã«ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ä»–ã®ä¾‹ã‚’è¦‹ã¦ã¿ã¾ã™ã€‚ã‚¹ã‚³ãƒ¼ãƒ—é–¢æ•°&lt;code&gt;apply&lt;/code&gt;ã®å®Ÿè£…ã¯æ¬¡ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;@kotlin.internal.InlineOnly
public inline fun &amp;lt;T&amp;gt; T.apply(block: T.() -&amp;gt; Unit): T {
    contract {
        callsInPlace(block, InvocationKind.EXACTLY_ONCE)
    }
    block()
    return this
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;apply&lt;/code&gt;é–¢æ•°å†…ã§ã¯ã€&lt;code&gt;callsInPlace(block, InvocationKind.EXACTLY_ONCE)&lt;/code&gt;ãŒå¥‘ç´„ã¨ã—ã¦å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚
ã“ã‚Œã¯ã€&lt;code&gt;block&lt;/code&gt;é–¢æ•°ãŒå¿…ãš1åº¦å‘¼ã³å‡ºã•ã‚Œã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚
ã“ã‚Œã«ã‚ˆã‚Šã€ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ãã“ã¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;val a: String
hoge.apply {
    a = &amp;quot;hoge&amp;quot;
}
println(a)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;apply&lt;/code&gt;é–¢æ•°ã¯1åº¦ã—ã‹å‘¼ã³å‡ºã•ã‚Œãªã„ã®ã§&lt;code&gt;val a: String&lt;/code&gt;ã®åˆæœŸåŒ–ãŒã€&lt;code&gt;apply&lt;/code&gt;é–¢æ•°å†…ã§æ­£ã—ãè¡Œã‚ã‚Œã‚‹ã“ã¨ãŒä¿è¨¼ã•ã‚Œã¾ã™ã€‚
Kotlin 1.3.0ä»¥å‰ã®contractãŒå†…æ™‚ä»£ã§ã¯ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ãªã£ã¦ã„ãŸã®ã§ã™ãŒã€
contractã«ã‚ˆã‚Šã€å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã—ãŸã€‚&lt;/p&gt;

&lt;p&gt;ä»Šã¾ã§è¦‹ã¦ããŸã®ã¯Kotlinã®ã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«å…¥ã£ã¦ã„ãŸé–¢æ•°ã§ã™ãŒã€ã‚«ã‚¹ã‚¿ãƒ ã§å®šç¾©ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚
ä»Šå›ã¯ä¾‹ã¨ã—ã¦ã€&lt;code&gt;ActivityScenario.onActivity&lt;/code&gt;ãƒ¡ã‚½ãƒƒãƒ‰ã‚’contract + æ‹¡å¼µé–¢æ•°ã‚’ä½¿ã£ã¦ã‚ˆã‚Šä¾¿åˆ©ã«ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/android/android-test/blob/f2f3589c9d6e2ff5740117192cb7e13bd8873a0f/core/java/androidx/test/core/app/ActivityScenario.java#L500&#34;&gt;ActivityScenario.onActivity&lt;/a&gt;ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€callbackã‚’ç™»éŒ²ã™ã‚‹ã¨ã€Activityã®æº–å‚™ãŒã§ããŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§callbackãŒå©ã‹ã‚Œã¾ã™ã€‚ãã—ã¦ã€ã“ã®&lt;code&gt;onActivity&lt;/code&gt;ãƒ¡ã‚½ãƒƒãƒ‰ã¯ä¸€åº¦ã—ã‹ã‚³ãƒ¼ãƒ«ã•ã‚Œãšã€å®Ÿè¡Œã—ãŸã‚¹ãƒ¬ãƒƒãƒ‰ã‚’ãƒ–ãƒ­ãƒƒã‚¯ã—ã¾ã™ã€‚ãªã®ã§ã€å‰è¿°ã—ãŸ&lt;code&gt;apply&lt;/code&gt;é–¢æ•°ã¨åŒã˜contractã‚’æ›¸ãã“ã¨ãŒå¯èƒ½ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;ä»¥ä¸‹ã®ã‚ˆã†ã«æ‹¡å¼µé–¢æ•°ã‚’æ›¸ãã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;@UseExperimental(ExperimentalContracts::class)
fun &amp;lt;T : Activity&amp;gt; ActivityScenario&amp;lt;T&amp;gt;.onActivity2(block: (T) -&amp;gt; Unit) {
  contract {
    callsInPlace(block, InvocationKind.EXACTLY_ONCE)
  }
  onActivity {
    block(it)
  }
}


// ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ãªã‚‰ãªã„!!
val activity: Activity
scenario.onActivity2 {
    activity = it
}
println(activity)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;@UseExperimental(ExperimentalContracts::class)&lt;/code&gt;ã‚’ã¤ã‘ã‚‹ã“ã¨ã§ã€ãƒ¦ãƒ¼ã‚¶å®šç¾©ã®contractã‚’å®šç¾©ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ã¾ã¨ã‚&#34;&gt;ã¾ã¨ã‚&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;1åº¦ã—ã‹ã‚³ãƒ¼ãƒ«ã•ã‚Œãªã„callbackã‚„ã€é–¢æ•°å†…ã§nullãƒã‚§ãƒƒã‚¯ã‚’ã™ã‚‹å ´åˆã¯contractã‚’ä½¿ã†ã¨è¶…ä¾¿åˆ©ã«ãªã‚‹ã‹ã‚‚&lt;/li&gt;
&lt;li&gt;æ‹¡å¼µé–¢æ•°ã‚’æ–°ã—ãå®šç¾©ã™ã‚‹ã“ã¨ã§ã€æ—¢å­˜ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ã‚ˆã‚Škotlin-friendlyãªãƒ¡ã‚½ãƒƒãƒ‰ã«ã§ãã‚‹ã‹ã‚‚!?&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&#34;å‚è€ƒ&#34;&gt;å‚è€ƒ&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/Kotlin/KEEP/blob/master/proposals/kotlin-contracts.md&#34;&gt;https://github.com/Kotlin/KEEP/blob/master/proposals/kotlin-contracts.md&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    
    
    <item>
      <title>Android: ãƒ‡ãƒãƒƒã‚°æ™‚ã«Moshiã€Daggerãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã„ãƒ“ãƒ«ãƒ‰æ™‚é–“ã‚’çŸ­ç¸®ã™ã‚‹</title>
      <link>https://satoshun.github.io/2018/11/debug_reflection/</link>
      <pubDate>Sat, 10 Nov 2018 00:00:00 UTC</pubDate>
      <author>Sato Shun</author>
      <guid>https://satoshun.github.io/2018/11/debug_reflection/</guid>
      <description>

&lt;p&gt;ãƒ“ãƒ«ãƒ‰æ™‚é–“ã®çŸ­ç¸®ã¯é–‹ç™ºåŠ¹ç‡ã‚’ä¸Šã’ã‚‹å¤§ããªè¦ç´ ã§ã™ã€‚
æ¥µåŠ›kaptï¼ˆã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ï¼‰ã‚’ä½¿ã‚ãªãã™ã‚‹ã“ã¨ã§ã€ãƒ“ãƒ«ãƒ‰æ™‚é–“ã‚’çŸ­ç¸®å‡ºæ¥ã¾ã™ã€‚
ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã‚’ä½¿ã£ãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ã€ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã‚’ä½¿ã‚ãªã„ã€
ãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç”¨ã„ãŸãƒ‡ãƒãƒƒã‚°ç”¨ã®æ©Ÿèƒ½ã‚’æä¾›ã—ã¦ã„ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ä»Šå›ã¯ã€Moshiã¨Daggerãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ç´¹ä»‹ã‚’ã—ã¾ã™ã€‚
Daggerãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã¯çµ¶è³›é–‹ç™ºä¸­ + å…¬å¼ã§ã¯ãªã„ã®ã§ã€æ©Ÿèƒ½ãŒã‹ãªã‚Šåˆ¶é™ã•ã‚Œã¦ã„ã‚‹ã€ã©ã†ã„ã†æœªæ¥ãŒå¾…ã£ã¦ã„ã‚‹ã‹ã‚ã‹ã‚‰ãªã„ç‚¹ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚&lt;/p&gt;

&lt;p&gt;æ¤œè¨¼ã«ç”¨ã„ãŸ&lt;a href=&#34;https://github.com/satoshun-android-example/DebugReflectExample&#34;&gt;ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ã“ã“&lt;/a&gt;ã«ã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;moshiãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³&#34;&gt;Moshiãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³&lt;/h2&gt;

&lt;p&gt;Moshiã«ã¯moshi-codegenã¨å‘¼ã°ã‚Œã‚‹ã€ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã§ã‚³ãƒ¼ãƒ‰ç”Ÿæˆã—ã¦ãã‚Œã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚ã‚Šã¾ã™ã€‚
ã“ã‚Œã¯å®Ÿè¡Œæ™‚ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«ã¯å„ªã‚Œã¦ã„ã‚‹ã®ã§ã™ãŒã€ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã‚’ä½¿ã£ã¦ã„ã‚‹ãŸã‚ã€ãƒ“ãƒ«ãƒ‰ã«æ™‚é–“ãŒã‹ã‹ã£ã¦ã—ã¾ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ãã“ã§ã€Moshiã§ã¯moshi-reflectionã¨å‘¼ã°ã‚Œã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’æä¾›ã—ã¦ãŠã‚Šã€ã“ã‚Œã¯ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã‚’ä½¿ã†ã“ã¨ãªãã€
moshi-codegenã¨åŒç­‰ã®æ©Ÿèƒ½ã‚’æä¾›ã—ã¦ãã‚Œã¾ã™ã€‚
ãŸã ã—ã€moshi-reflectionã¯å†…éƒ¨ã§ãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½¿ã£ã¦ã„ã‚‹ãŸã‚ã€å®Ÿè¡Œæ™‚ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«ã¯å„ªã‚Œã¦ã„ã¾ã›ã‚“ã€‚ã‚ãã¾ã§ãƒ‡ãƒãƒƒã‚°ç”¨ã€ã¨ã„ã†ç«‹ã¡ä½ç½®ã ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ãƒ‡ãƒãƒƒã‚°æ™‚ã«moshi-reflectionã‚’ä½¿ã„ã€ãƒªãƒªãƒ¼ã‚¹æ™‚ã«moshi-codegenã‚’ä½¿ã†ã“ã¨ã§ã€ãƒ“ãƒ«ãƒ‰é€Ÿåº¦ã¨å®ŸåŠ¹é€Ÿåº¦ã®å¤©ç§¤ã‚’å‹ã¡å–ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;å…·ä½“çš„ã«ã¯ã€ãƒ‡ãƒãƒƒã‚°æ™‚ã€ãƒªãƒªãƒ¼ã‚¹æ™‚ã«&lt;code&gt;build.gradle&lt;/code&gt;ã§æŒ‡å®šã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã€Moshiã«ç™»éŒ²ã™ã‚‹Adapterã‚’å¤‰æ›´ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-groovy&#34;&gt;// bulid.gradle

implementation &amp;quot;com.squareup.moshi:moshi:1.8.0&amp;quot;
debugImplementation &amp;quot;com.squareup.moshi:moshi-kotlin:1.8.0&amp;quot;
kaptRelease &amp;quot;com.squareup.moshi:moshi-kotlin-codegen:1.8.0&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;// debugæ™‚
fun createMoshiBuilder() = Moshi.Builder()
    .add(KotlinJsonAdapterFactory()) // KotlinJsonAdapterFactoryã‚’æŒ‡å®šã™ã‚‹
    .build()

// releaseæ™‚
fun createMoshiBuilder() = Moshi.Builder()
    .build()
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã“ã®ã‚ˆã†ã«æ›¸ãã“ã¨ã§ã€ãƒªãƒªãƒ¼ã‚¹æ™‚ã®ã¿kaptã‚’å®Ÿè¡Œã™ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;daggerãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³&#34;&gt;Daggerãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³&lt;/h2&gt;

&lt;p&gt;ã“ã‚Œã¯SdkSearchå†…ã§é–‹ç™ºãŒè¡Œã‚ã‚Œã¦ã„ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚æœ‰åãªAndroidã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã§ã‚ã‚‹Jake Whartonã•ã‚“ãŒé–‹ç™ºã‚’ã—ã¦ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã“ã‚Œã‚‚Moshiã¨åŒæ§˜ã«ã€ãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚
Daggerãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€å¿…è¦æœ€ä½é™ã®ã‚¯ãƒ©ã‚¹ã¯ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã§ä½œæˆã™ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚
ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã®å®Œå…¨é™¤å»ã¨ã„ã†ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ä¾‹ãˆã°ã€ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã§&lt;code&gt;DaggerAppComponent&lt;/code&gt;ã¯ä½œã‚‰ã‚Œã¾ã™ã€‚
ã—ã‹ã—ã€ã‹ãªã‚Šã®æ•°ã®ã‚¯ãƒ©ã‚¹ã‚’ä½œæˆã—ãªã„ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;å…·ä½“çš„ãªã‚³ãƒ¼ãƒ‰ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
Mavenã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„ã®ã§ã€SdkSearchã‹ã‚‰ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ä½¿ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-groovy&#34;&gt;implementation &amp;quot;com.google.dagger:dagger:2.18&amp;quot;
debugImplementation project(&#39;:dagger-reflect:reflect&#39;) // SdkSearchã‹ã‚‰ã‚³ãƒ”ãƒ¼
kaptDebug project(&#39;:dagger-reflect:reflect-compiler&#39;) // SdkSearchã‹ã‚‰ã‚³ãƒ”ãƒ¼
kaptRelease &amp;quot;com.google.dagger:dagger-compiler:2.18&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ãƒ‡ãƒãƒƒã‚°æ™‚ã«ã¯Daggerãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½¿ã„ã€ãƒªãƒªãƒ¼ã‚¹æ™‚ã«ã¯dagger-compilerã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚
å¤‰æ›´å·®åˆ†ã¯build.gradleã®ã¿ã§ã™ã€‚ã‚³ãƒ¼ãƒ‰ã¯å…¨ãä¿®æ­£ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚&lt;/p&gt;

&lt;p&gt;æœ€åˆã«ã‚‚æ›¸ã„ãŸã®ã§ã™ãŒã€Daggerãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã¯çµ¶è³›é–‹ç™ºä¸­ã§ã€Scopeã€ã‚»ãƒƒã‚¿ãƒ¼ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ãªã©ã€å¤šãã®æ©Ÿèƒ½ãŒä½¿ãˆãªã„çŠ¶æ…‹ã§ã™ã€‚
ã“ã“ãŒæƒã£ã¦ãã‚Œã°ãƒ‡ãƒãƒƒã‚°æ™‚ã«ã¯Daggerãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½¿ã†ã“ã¨ã§ã€ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ãƒ“ãƒ«ãƒ‰ã¨åŒç­‰ã®å‹•ä½œã§ã€ãƒ“ãƒ«ãƒ‰æ™‚é–“ã®çŸ­ç¸®ãŒå¯èƒ½ã«ãªã£ã¦ãã‚‹ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ã¾ã¨ã‚&#34;&gt;ã¾ã¨ã‚&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;ãƒ‡ãƒãƒƒã‚°æ™‚ã«ã¯kaptã€ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã‚’æŠ‘åˆ¶ã—ãƒ“ãƒ«ãƒ‰æ™‚é–“ã‚’çŸ­ç¸®ã—ã‚ˆã†ğŸ˜ƒ

&lt;ul&gt;
&lt;li&gt;butterknifeã‚‚reflectionã‚’ä½¿ã†ã“ã¨ãŒã§ãã‚‹&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Daggerãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã«ã¯æœŸå¾…ã—ã‹ãªã„ğŸ˜„

&lt;ul&gt;
&lt;li&gt;ä½•ã‹é€²ã¿ãŒã‚ã£ãŸã‚‰ã¾ãŸã¾ã¨ã‚ã‚ˆã†ã¨æ€ã„ã¾ã™&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä»Šå›ã®è¨˜äº‹ã‚’æ¤œè¨¼ã™ã‚‹ãŸã‚ã«ä½œã£ãŸ&lt;a href=&#34;https://github.com/satoshun-android-example/DebugReflectExample&#34;&gt;ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ã“ã“&lt;/a&gt;ã«ã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;å‚è€ƒ&#34;&gt;å‚è€ƒ&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/JakeWharton/SdkSearch&#34;&gt;https://github.com/JakeWharton/SdkSearch&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/square/moshi&#34;&gt;https://github.com/square/moshi&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://jakewharton.com/helping-dagger-help-you/&#34;&gt;https://jakewharton.com/helping-dagger-help-you/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    
  </channel>
</rss>