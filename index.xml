<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
      <title>stsnãƒ–ãƒ­ã‚°</title>
      <generator uri="https://hugo.spf13.com">Hugo</generator>
    <link>https://satoshun.github.io/</link>
    <language>ja</language>
    <author>Sato Shun</author>
    <copyright>2019 Sato Shun</copyright>
    <updated>Mon, 28 Jan 2019 00:08:35 UTC</updated>
    
    
    <item>
      <title>R8/Proguard: Jarãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ProGuardè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚“ã§ãã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸ</title>
      <link>https://satoshun.github.io/2019/01/r8-proguard-metainf/</link>
      <pubDate>Mon, 28 Jan 2019 00:08:35 UTC</pubDate>
      <author>Sato Shun</author>
      <guid>https://satoshun.github.io/2019/01/r8-proguard-metainf/</guid>
      <description>

&lt;p&gt;AGP3.3.0ã‹ã‚‰ã€Jarãƒ•ã‚¡ã‚¤ãƒ«ã«ProGuardè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’çµ„ã¿è¾¼ã‚ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ãã®æ©Ÿèƒ½ç´¹ä»‹ã§ã™ã€‚
ä»Šã¾ã§ã€aarã§ã¯&lt;code&gt;consumerProguardFiles&lt;/code&gt;ã§ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ProGuardè¨­å®šã‚’æŒ‡å®šã§ãã¾ã—ãŸã€‚ãã‚Œã®Jarã€Javaãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¨ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ãƒ©ã‚¤ãƒ–ãƒ©ãƒªé–‹ç™ºè€…å´ã®è¨­å®š&#34;&gt;ãƒ©ã‚¤ãƒ–ãƒ©ãƒªé–‹ç™ºè€…å´ã®è¨­å®š&lt;/h2&gt;

&lt;p&gt;Retrofitãªã©ã®Squareç¤¾ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã¯ã€æ—©ãã‚‚ã“ã®æ©Ÿèƒ½ã«å¯¾å¿œã—ã¦ã„ã‚‹ã®ã§ã€ãã‚Œã‚’ä¾‹ã«ã—ã¦èª¬æ˜ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã¾ãšã€&lt;code&gt;resources/META-INF/prougard&lt;/code&gt;ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä¸­ã«ProGuardã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½®ãã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/square/retrofit/tree/master/retrofit/src/main/resources/META-INF/proguard&#34;&gt;square/retrofit&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå´ã®è¨­å®šã¯ã“ã‚Œã§å®Œäº†ã§ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ä½¿ã†å´ã®è¨­å®š&#34;&gt;ä½¿ã†å´ã®è¨­å®š&lt;/h2&gt;

&lt;p&gt;AGP3.3.0ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã™ã‚‹ã ã‘ã§ä½¿ãˆã¾ã™ã€‚META-INF/ProGuardã¯Retrofitã®2.5.0ã‹ã‚‰å…¥ã£ã¦ã„ã‚‹ã®ã§ã€ã¾ãšã¯META-INFãŒå…¥ã£ã¦ã„ãªã„ã€2.4.0ã§ãƒ“ãƒ«ãƒ‰ã‚’ã—ã¦ã¿ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;implementation &amp;quot;com.squareup.retrofit2:retrofit:2.4.0&amp;quot;

&amp;gt; ./gradlew installRelease
...
Warning: there were 267 unresolved references to classes or interfaces.
         You may need to add missing library jars or update their versions.
         If your code works fine without the missing classes, you can suppress
         the warnings with &#39;-dontwarn&#39; options.
         (http://proguard.sourceforge.net/manual/troubleshooting.html#unresolvedclass)
Warning: Exception while processing task java.io.IOException: Please correct the above warnings first.
Thread(Tasks limiter_2): destruction
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å¤±æ•—ã—ã¾ã—ãŸğŸ˜‚&lt;/p&gt;

&lt;p&gt;æ¬¡ã«META-INFãŒå…¥ã£ãŸ2.5.0ã§ãƒ“ãƒ«ãƒ‰ã‚’ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;implementation &amp;quot;com.squareup.retrofit2:retrofit:2.5.0&amp;quot;

&amp;gt; ./gradlew installRelease
...

BUILD SUCCESSFUL in 21s
38 actionable tasks: 18 executed, 20 from cache
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æˆåŠŸã—ã¾ã—ãŸğŸ˜Š&lt;/p&gt;

&lt;p&gt;META-INFãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã¡ã‚ƒã‚“ã¨èª­ã¿è¾¼ã‚ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚ProGuardã®configurationãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèªã—ãŸã¨ã“ã‚ã€Retrofitã®ProGuardè¨­å®šãŒå…¥ã£ã¦ã„ã¾ã—ãŸã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;// configuration.txt
...
# Retain service method parameters when optimizing.
-keepclassmembers,allowshrinking,allowobfuscation interface  * {
    @retrofit2.http.*
    &amp;lt;methods&amp;gt;;
}
...
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;è£œè¶³&#34;&gt;è£œè¶³&lt;/h2&gt;

&lt;p&gt;ã“ã®æ©Ÿèƒ½ã¯R8/ProGuardã€ä¸¡æ–¹ã¨ã‚‚å¯¾å¿œã—ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ã¾ã¨ã‚&#34;&gt;ã¾ã¨ã‚&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒJarã§ã‚ã£ãŸã¨ã—ã¦ã‚‚ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªä½œè€…ãŒå¯¾å¿œã—ã¦ãã‚Œã‚Œã°ProGuardã®è¨­å®šãŒæ¥½ã«ãªã‚‹!!!

&lt;ul&gt;
&lt;li&gt;ç¾çŠ¶ã€æœ‰åãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã¯ã€OkHttpã€Retrofitã€Coroutineãªã©ãŒå¯¾å¿œã—ã¦ã„ã¾ã™ğŸ˜Š&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;ã“ã®æ©Ÿèƒ½ãŒProGuardã§ã‚‚ä½¿ãˆã‚‹ã®ã‚’çŸ¥ã‚‰ãªã‹ã£ãŸã®ã§ã€å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãªã©ã®ãƒªãƒ³ã‚¯ã‚’çŸ¥ã£ã¦ã„ã‚‹æ–¹ãŒã„ã‚Œã°æ•™ãˆã¦ã»ã—ã„ã§ã™ğŸ™ğŸ™ğŸ™&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    
    
    <item>
      <title>Fluxã®Dispatcherã‚’Roomã®in memoryã§å®Ÿè£…ã™ã‚‹ã®ã¯ã€å†—é•·ãªã‚³ãƒ¼ãƒ‰ãŒå¤šããªã‚‹ã®ã§è‰¯ããªã„</title>
      <link>https://satoshun.github.io/2019/01/room-with-flux/</link>
      <pubDate>Thu, 24 Jan 2019 00:43:33 UTC</pubDate>
      <author>Sato Shun</author>
      <guid>https://satoshun.github.io/2019/01/room-with-flux/</guid>
      <description>

&lt;p&gt;Fluxã®Dispatcherã‚’Room in memoryã§å®Ÿè£…ã™ã‚Œã°æœ€é«˜ãªã®ã§ã¯?ã¨æ€ã„ã€ã¡ã‚‡ã£ã¨è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚&lt;/p&gt;

&lt;p&gt;çµè«–ã‹ã‚‰ç”³ã—ã¾ã™ã¨å†—é•·ãªã‚³ãƒ¼ãƒ‰ãŒå¤šãã€è‰¯ããªã„ã¨æ„Ÿã˜ã¾ã—ãŸã€‚EventBusã‚„ã€ä»–ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã£ã¦å®Ÿè£…ã—ãŸã»ã†ãŒè‰¯ã„ã¨æ€ã„ã¾ã™ğŸ˜‚&lt;/p&gt;

&lt;p&gt;ã¾ãŸã€ã‚ªãƒªã‚¸ãƒŠãƒ«Fluxã¯ã€ŒDispatcherãŒã‚¢ãƒ—ãƒªå†…ã§1ã¤ã ã‘å­˜åœ¨ã™ã‚‹ã€ã¨ã„ã†åŸå‰‡ãŒã‚ã£ãŸã¨æ€ã„ã¾ã™ãŒã€ãã‚Œã‚’ç ´ã£ã¦ã„ã¾ã™ã€‚Fluxã§ã™ã‚‰ãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;room-in-memory&#34;&gt;Room in memory?&lt;/h2&gt;

&lt;p&gt;Roomã§ã¯in memoryã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½œã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚æ­£ç¢ºã«è¨€ãˆã°ã€SQLiteã®æ©Ÿèƒ½ã‚’Roomã®APIã¨ã—ã¦é–‹æ”¾ã—ã¦ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ä½¿ã„æ–¹ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;Room
  .inMemoryDatabaseBuilder(context, MyDatabase::class.java)
  .build()
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;in memoryã‚’ä½¿ã†ç†ç”±ã¨ã—ã¦ã¯ã€&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒã™ã‚‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ°¸ç¶šåŒ–ã™ã‚‹å¿…è¦ã¯ãªã„ã ã‚ã†&lt;/li&gt;
&lt;li&gt;ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒå¿…è¦ãªã„&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;å®Ÿè£…ã«å…¥ã£ã¦ã„ã&#34;&gt;å®Ÿè£…ã«å…¥ã£ã¦ã„ã&lt;/h2&gt;

&lt;p&gt;ã§ã¯ã€å®Ÿè£…ã®èª¬æ˜ã‚’ã—ã¦ã„ãã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã¾ãšã¯Actionã‚’Roomã®Entityã¨ã—ã¦å®šç¾©ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;sealed class AuthorAction

@Entity(tableName = &amp;quot;author1&amp;quot;)
data class Author1(
  @PrimaryKey val _id: Long = 0, // always 0
  val name: String,
  val age: Int
) : AuthorAction()

@Entity(tableName = &amp;quot;author2&amp;quot;)
data class Author2(
  @PrimaryKey val _id: Long = 0, // always 0
  val name: String,
  val age: Int
) : AuthorAction()
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Primary keyã¯å¸¸ã«ä¸€å®šã«ã—ã¦ã€ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¯0 or 1ã¤ã—ã‹å­˜åœ¨ã—ãªã„ã‚ˆã†ã«ã—ã¦ãŠãã¾ã™ã€‚ä»®ã«ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®å±¥æ­´ãŒæ¬²ã—ã„ãªã‚‰ã€&lt;code&gt;@PrimaryKey(autoGenerate = true)&lt;/code&gt;ã‚’ä½¿ã£ã¦ã‚‚è‰¯ã„ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;æ¬¡ã«Daoã‚’å®šç¾©ã—ã¾ã™ã€‚ã“ã‚Œã¯Fluxã§ã„ã†ã¨ã“ã‚ã®Dispatcherã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;@Dao
interface AuthorDispatcher {
  @Insert(onConflict = OnConflictStrategy.REPLACE) fun dispatch(author: Author1)
  @Insert(onConflict = OnConflictStrategy.REPLACE) fun dispatch(author: Author2)

  // Storeã«ç›¸å½“ã™ã‚‹
  @Query(&amp;quot;select * FROM author1 WHERE _id = 0&amp;quot;)
  fun author(): LiveData&amp;lt;Author1?&amp;gt;

  // Storeã«ç›¸å½“ã™ã‚‹
  @Query(
    &amp;quot;&amp;quot;&amp;quot;
    select author1.name as name1, author2.name as name2
    FROM author1
     INNER JOIN author2
    WHERE author1._id = 0 AND author2._id = 0
    &amp;quot;&amp;quot;&amp;quot;
  )
  fun mappedAuthor(): LiveData&amp;lt;MappedAuthor?&amp;gt;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã¨ãªã‚Šã¾ã™ã€‚&lt;code&gt;@Insert&lt;/code&gt;ã§ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’dispatchãƒ¡ã‚½ãƒƒãƒ‰ã‚’ã€&lt;code&gt;@Query&lt;/code&gt;ã§subscribeãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Ÿè£…ã—ã¦ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã“ã‚Œã§ã€Fluxã®Dispatcherã«ä¼¼ãŸä½•ã‹ã‚’Roomã§è¡¨ç¾ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ï¼&lt;/p&gt;

&lt;h2 id=&#34;ã¾ã¨ã‚-è€ƒå¯Ÿ&#34;&gt;ã¾ã¨ã‚/è€ƒå¯Ÿ&lt;/h2&gt;

&lt;p&gt;Roomã§Dispatcherçš„ãªã®ã‚’ä½œã‚‹æ–¹æ³•ã¨ã€EventBusãªã©ã‚’ä½¿ã£ãŸã‚¢ãƒ—ãƒ­ãƒ¼ãƒã®é•ã„ã¯ä»¥ä¸‹ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Storeã«æ›¸ã„ã¦ã„ãŸãƒ­ã‚¸ãƒƒã‚¯ã‚’SQLã«ä»»ã›ã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹

&lt;ul&gt;
&lt;li&gt;Transactionã‚’ä¸Šæ‰‹ãä½¿ãˆã°ã€ãƒãƒ«ãƒã‚¹ãƒ¬ãƒƒãƒ‰ç’°å¢ƒã§ã‚‚ãã‚Œã£ã½ãå‹•ããã†&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;ã»ã’ã»ã’Dispactherã‚¯ãƒ©ã‚¹ãŒã‚¢ãƒ—ãƒªå†…ã«è”“å»¶ã™ã‚‹&lt;/li&gt;
&lt;li&gt;ã‚³ãƒ¼ãƒ‰ãŒå†—é•·ğŸ˜‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å·¥å¤«ã™ã‚Œã°ã€ã‚‚ã†å°‘ã—ã‚­ãƒ¬ã‚¤ã«æ›¸ã‘ã‚‹ã¨ã¯æ€ã„ã¾ã™ãŒã€ãŸã EventBusã‚„ã€Coroutineã‚’ä½¿ã£ãŸã‚¢ãƒ—ãƒ­ãƒ¼ãƒã«ã¯æ•µã‚ãªã„ã¨æ€ã£ã¦ã„ã¾ã™ã€‚
Fluxã®Dispatcherã®ä»£æ›¿ã¨ã—ã¦ã¯è¾›ã„ã§ã™ãŒã€ä»–ã®ç”¨é€”ã€ä¾‹ãˆã°Repositoryã®å®Ÿè£…ãªã©ã«ã¯ä½¿ãˆã‚‹ä½™åœ°ãŒã‚ã‚‹ã¨æ€ã†ã®ã§ã€ãã†ã„ã£ãŸã¨ã“ã‚ã§æ€ã„å‡ºã—ã¦ã„ãŸã ã‘ãŸã‚‰å¹¸ã„ã§ã™ğŸ˜Š&lt;/p&gt;

&lt;p&gt;æ¤œè¨¼ã«ç”¨ã„ãŸã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯&lt;a href=&#34;https://github.com/satoshun-android-example/RoomDispatcherExample&#34;&gt;RoomDispatcherExample&lt;/a&gt;ã«ã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>R8/Proguard: Daggerã®ç”Ÿæˆã‚³ãƒ¼ãƒ‰ãŒR8ã§ã©ã®ã‚ˆã†ã«å¤‰ã‚ã‚‹ã‹ã‚’è¦‹ã‚‹</title>
      <link>https://satoshun.github.io/2019/01/r8-dagger-optimize/</link>
      <pubDate>Sun, 20 Jan 2019 13:55:46 UTC</pubDate>
      <author>Sato Shun</author>
      <guid>https://satoshun.github.io/2019/01/r8-dagger-optimize/</guid>
      <description>

&lt;p&gt;ã‚³ãƒ¼ãƒ‰ã®æœ€é©åŒ–ã®è©±ã§ã™ã€‚ã“ã®è¨˜äº‹ã§ã¯å®Ÿè·µã«å¯„ã›ã¦ã€Daggerã®ç”Ÿæˆã‚³ãƒ¼ãƒ‰ãŒR8ã«ã‚ˆã£ã¦ã©ã®ã‚ˆã†ã«å¤‰åŒ–ã™ã‚‹ã‹ã‚’è¦‹ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã¾ãšã¯ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;@Component(
  modules = [
    AppModule1::class,
    AppModule2::class
  ]
)
interface AppComponent {
  @Component.Builder
  interface Builder {
    fun build(): AppComponent
  }

  fun inject(activity: MainActivity)
}

@Module
class AppModule1 {
  @Provides
  fun provideService(): AppService {
    val retrofit = Retrofit.Builder()
      ...
    return retrofit.create()
  }
}

@Module
object AppModule2 {
  @JvmStatic
  @Provides
  fun provideService2(): AppService2 {
    val retrofit = Retrofit.Builder()
      ...
    return retrofit.create()
  }
}

---

class MainActivity : AppCompatActivity() {
  @Inject lateinit var appService: AppService
  @Inject lateinit var appService2: AppService2

  override fun onCreate(savedInstanceState: Bundle?) {
    super.onCreate(savedInstanceState)
    setContentView(R.layout.activity_main)

    val appComponent = DaggerAppComponent.builder().build()
    appComponent.inject(this)

    ...
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã‚·ãƒ³ãƒ—ãƒ«ãªAppComponentã‚’å®šç¾©ã—ã¦ã€ãã“ã«AppModule1ã¨AppModule2ã‚’ç´ã¥ã‘ã¦ã„ã¾ã™ã€‚ãã‚Œã‚’ã€MainActivityã§ä½¿ã†ã‚³ãƒ¼ãƒ‰ã«ãªã£ã¦ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã“ã‚Œã‚’æœ€é©åŒ–ãªã—ã§dexå¤‰æ›ã—ã¦ã€ãƒ‡ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦ã¿ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public final class MainActivity extends AppCompatActivity {
    @Inject
    @NotNull
    public AppService appService;
    @Inject
    @NotNull
    public AppService2 appService2;

    ...

    protected void onCreate(@Nullable Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        DaggerAppComponent.builder().build().inject(this);
        ...
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ™®é€šã®ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚Kotlinã‚’Javaå¤‰æ›ã—ãŸã ã‘ãªã®ã§ã€ç‰¹ã«ãŠã‹ã—ãªéƒ¨åˆ†ã‚‚ã‚ã‚Šã¾ã›ã‚“ã€‚&lt;/p&gt;

&lt;p&gt;æ¬¡ã«R8ã«ã‚ˆã‚‹æœ€é©åŒ–ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public final class MainActivity extends m {
    public AppService o;
    public AppService2 p;
    ...

    public void onCreate(Bundle bundle) {
        super.onCreate(bundle);
        setContentView((int) R.layout.activity_main);
        Object a = new AppModule1().a();
        a.a(a, &amp;quot;Cannot return null from a non-@Nullable @Provides method&amp;quot;);
        this.o = a;
        this.p = AppModule2_ProvideService2Factory.a();
        ...
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä½•ã¨ã„ã†ã“ã¨ã§ã—ã‚‡ã†ã€‚&lt;code&gt;DaggerAppComponent&lt;/code&gt;ãŒæ¶ˆãˆã¾ã—ãŸï¼&lt;/p&gt;

&lt;p&gt;DaggerAppComponentã®å„ãƒ¡ã‚½ãƒƒãƒ‰ãŒMainActivityå´ã«ã‚¤ãƒ³ãƒ©ã‚¤ãƒ³å±•é–‹ã•ã‚Œã‚‹ã“ã¨ã§ã€å®Œå…¨ã«DaggerAppComponentã‚’æ¶ˆã™ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
å®Ÿéš›ã«apkã®ä¸­èº«ã‚’è¦‹ã¦ã€DaggerAppComponentã‚¯ãƒ©ã‚¹ãŒå­˜åœ¨ã—ãªã„ã“ã¨ã‚’ç¢ºèªã—ã¾ã—ãŸã€‚R8ã™ã”ã„ğŸ˜ƒ&lt;/p&gt;

&lt;h2 id=&#34;è£œè¶³&#34;&gt;è£œè¶³&lt;/h2&gt;

&lt;p&gt;Proguardã ã¨ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã ã¨ä¸Šè¨˜ã®ã‚µãƒ³ãƒ—ãƒ«ã‹ã‚‰ã€&lt;code&gt;DaggerAppComponent&lt;/code&gt;ã‚’æ¶ˆã™ã“ã¨ãŒå‡ºæ¥ã¾ã›ã‚“ã§ã—ãŸã€‚&lt;/p&gt;

&lt;h2 id=&#34;ã¾ã¨ã‚&#34;&gt;ã¾ã¨ã‚&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;R8ã™ã”ã„ğŸ˜ƒğŸ˜ƒğŸ˜ƒ&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    
    
    <item>
      <title>R8/Proguard: Kotlinã®lambdaæœ€é©åŒ–ã«ã¤ã„ã¦</title>
      <link>https://satoshun.github.io/2019/01/r8-kotlin-lambda/</link>
      <pubDate>Sun, 20 Jan 2019 06:56:16 UTC</pubDate>
      <author>Sato Shun</author>
      <guid>https://satoshun.github.io/2019/01/r8-kotlin-lambda/</guid>
      <description>

&lt;p&gt;ã‚³ãƒ¼ãƒ‰ã®æœ€é©åŒ–ã®è©±ã§ã™ã€‚ã“ã®è¨˜äº‹ã§ã¯Kotlinã®lambdaå¼ã®æœ€é©åŒ–ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;kotlin-lambda&#34;&gt;Kotlin lambda&lt;/h2&gt;

&lt;p&gt;Kotlinã§ã¯é–¢æ•°å‹ãŒãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã§ã™ã€‚ã¨ã¦ã‚‚ä¾¿åˆ©ãªã®ã§ã™ãŒã€ãƒ©ãƒ ãƒ€ã‚’ä½¿ã†ãŸã³ã«å†…éƒ¨çš„ã«ã¯ã‚¯ãƒ©ã‚¹ã‚’1ã¤å®šç¾©ã™ã‚‹ãŸã‚ã€ã‚¯ãƒ©ã‚¹æ•°ã€ãƒ¡ã‚½ãƒƒãƒ‰æ•°ãŒã©ã‚“ã©ã‚“å¢—ãˆã¦ã„ãã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ä¾‹ãˆã°ã€æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã‚’æœ€é©åŒ–ãªã—ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦ã¿ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;fun main() {
    lambdaTest1 { println(&amp;quot;Kotlin lambda1&amp;quot;) }
    lambdaTest1 { println(&amp;quot;Kotlin lambda2&amp;quot;) }
    lambdaTest1 { println(&amp;quot;Kotlin lambda3&amp;quot;) }
    ...
}

private fun lambdaTest1(body: () -&amp;gt; Unit) {
    ...
    body()
    ...
}
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;// ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¾Œ
public static final void main() {
    LambdaTestKt.lambdaTest1((Function0) LambdaTestKt$main$1.INSTANCE);
    LambdaTestKt.lambdaTest1((Function0) LambdaTestKt$main$2.INSTANCE);
    LambdaTestKt.lambdaTest1((Function0) LambdaTestKt$main$3.INSTANCE);
    ...
}

final class LambdaTestKt$main$1 extends Lambda implements Function0&amp;lt;Unit&amp;gt; {
    public static final LambdaTestKt$main$1 INSTANCE = new LambdaTestKt$main$1();

    LambdaTestKt$main$1() {
        super(0);
    }

    public final void invoke() {
        System.out.println(&amp;quot;Kotlin lambda1&amp;quot;);
    }
}

final class LambdaTestKt$main$2 extends Lambda implements Function0&amp;lt;Unit&amp;gt; {
    ...
}
final class LambdaTestKt$main$3 extends Lambda implements Function0&amp;lt;Unit&amp;gt; {
    ...
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;LambdaTestKt$main$1&lt;/code&gt;ã€&lt;code&gt;$2&lt;/code&gt;ã€&lt;code&gt;$3&lt;/code&gt;ãŒç”Ÿæˆã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚ãƒ©ãƒ ãƒ€ã‚’ä½¿ã†ç®‡æ‰€ã‚’å¢—ã‚„ã™ã¨$2ã€$3&amp;hellip;ã¨ã‚¯ãƒ©ã‚¹ãŒå¢—ãˆã¦ã„ãã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã“ã®å•é¡Œã«å¯¾ã—ã€R8ã§ã¯LambdaGroupã¨ã„ã†ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’ä½¿ã„æœ€é©åŒ–ã‚’ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;R8ã‚’ä½¿ã£ã¦ã€ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã¨æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public static final void main() {
    LambdaTestKt.lambdaTest1(-$$LambdaGroup$ks$BpS7w8o_KOkdSUy0gHGt84S7irI.INSTANCE$0);
    LambdaTestKt.lambdaTest1(-$$LambdaGroup$ks$BpS7w8o_KOkdSUy0gHGt84S7irI.INSTANCE$1);
    LambdaTestKt.lambdaTest1(-$$LambdaGroup$ks$BpS7w8o_KOkdSUy0gHGt84S7irI.INSTANCE$2);
    ...
}

public final class -$$LambdaGroup$ks$BpS7w8o_KOkdSUy0gHGt84S7irI extends Lambda implements Function0 {
    public static final -$$LambdaGroup$ks$BpS7w8o_KOkdSUy0gHGt84S7irI INSTANCE$0 = new -$$LambdaGroup$ks$BpS7w8o_KOkdSUy0gHGt84S7irI(0);
    public static final -$$LambdaGroup$ks$BpS7w8o_KOkdSUy0gHGt84S7irI INSTANCE$1 = new -$$LambdaGroup$ks$BpS7w8o_KOkdSUy0gHGt84S7irI(1);
    public static final -$$LambdaGroup$ks$BpS7w8o_KOkdSUy0gHGt84S7irI INSTANCE$2 = new -$$LambdaGroup$ks$BpS7w8o_KOkdSUy0gHGt84S7irI(2);
    public final /* synthetic */ int $id$;

    public -$$LambdaGroup$ks$BpS7w8o_KOkdSUy0gHGt84S7irI(int i) {
        this.$id$ = i;
        super(0);
    }

    public final Object invoke() {
        int i = this.$id$;
        if (i == 0) {
            System.out.println(&amp;quot;Kotlin lambda1&amp;quot;);
            return Unit.INSTANCE;
        } else if (i == 1) {
            System.out.println(&amp;quot;Kotlin lambda2&amp;quot;);
            return Unit.INSTANCE;
        } else if (i == 2) {
            System.out.println(&amp;quot;Kotlin lambda3&amp;quot;);
            return Unit.INSTANCE;
        } else {
            throw null;
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æœ€é©åŒ–ã—ãªã„å ´åˆã§ã¯ã€ãã‚Œãã‚Œã®ãƒ©ãƒ ãƒ€ã«å¯¾ã—ã¦ã€å°‚ç”¨ã®ã‚¯ãƒ©ã‚¹ãŒ1ã¤ãšã¤å®šç¾©ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚æœ€é©åŒ–ã•ã‚ŒãŸå¾Œã§ã¯1ã¤ã®ã‚¯ãƒ©ã‚¹ã€LambadGroupã«ã¾ã¨ã¾ã£ã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚
ã“ã®ã‚¯ãƒ©ã‚¹ã§ã¯ã€ãã‚Œãã‚Œã®ãƒ©ãƒ ãƒ€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«idã‚’æŒãŸã›ã‚‹ã“ã¨ã§ã€ã©ã®ãƒ©ãƒ ãƒ€ã‹ã‚’åˆ†é¡ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã“ã®æœ€é©åŒ–ã«ã‚ˆã‚Šã€ã‚¯ãƒ©ã‚¹æ•°ã€ãƒ¡ã‚½ãƒƒãƒ‰æ•°ã‚’æŠ‘ãˆã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>R8/Proguard: Kotlinã®Companion objectã¨objectã«ã¤ã„ã¦</title>
      <link>https://satoshun.github.io/2019/01/r8-companion-object/</link>
      <pubDate>Sun, 20 Jan 2019 04:23:43 UTC</pubDate>
      <author>Sato Shun</author>
      <guid>https://satoshun.github.io/2019/01/r8-companion-object/</guid>
      <description>

&lt;p&gt;ã‚³ãƒ¼ãƒ‰ã®æœ€é©åŒ–ã®è©±ã§ã™ã€‚ã“ã®è¨˜äº‹ã§ã¯Kotlinã®Companion objectã¨objectã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã“ã®è¨˜äº‹ã¯ã€&lt;a href=&#34;https://jakewharton.com/r8-optimization-staticization/&#34;&gt;R8 Optimization: Staticization&lt;/a&gt;ã«ã¨ã¦ã‚‚å½±éŸ¿ã‚’å—ã‘ã¦ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;companion-object&#34;&gt;Companion object&lt;/h2&gt;

&lt;p&gt;ä¾‹ãˆã°ã€æ¬¡ã®ã‚³ãƒ¼ãƒ‰ãŒã‚ã‚‹ã¨ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;class CompanionTest {
    companion object {
        fun show(i: Int) {
            ...
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã“ã‚Œã‚’æœ€é©åŒ–ãªã—ã§å¤‰æ›ã™ã‚‹ã¨æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public final class CompanionTest {
    public static final Companion Companion = new Companion();

    public static final class Companion {
        private Companion() {
        }

        public final void show(int i) {
            ...
        }
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Companionã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒç”Ÿæˆã•ã‚Œã¦ã„ã‚‹ã®ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚ãŸã ã€ã“ã®Companion objectã¯ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã›ã‚“ã€‚ãªãœãªã‚‰ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å®Ÿè£…ãªã©ã‚’ã—ã¦ã„ãªã„ã‹ã‚‰ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;ãã“ã§R8ã«ã‚ˆã‚‹æœ€é©åŒ–ã‚’è¡Œã†ã¨æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public abstract class CompanionTest {
    public static final void show(int i) {
        ...
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ç„¡é§„ãªå†…éƒ¨ã‚¯ãƒ©ã‚¹ï¼ˆenclosing classï¼‰ãŒæ¶ˆãˆã¦ã€staticãƒ¡ã‚½ãƒƒãƒ‰ã«å¤‰æ›ã•ã‚Œã¦ã„ã‚‹ã®ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚ã“ã®showãƒ¡ã‚½ãƒƒãƒ‰ã¯ã‚ã–ã‚ã–ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã«ã™ã‚‹å¿…è¦ãŒãªã„ãŸã‚ã€ã“ã®ã‚ˆã†ãªæœ€é©åŒ–ãŒè¡Œã‚ã‚Œã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;object&#34;&gt;object&lt;/h2&gt;

&lt;p&gt;objectã‚‚åŒæ§˜ã§ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;object ObjectTest {
    fun show(i: Int) {
        ...
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æœ€é©åŒ–ãªã—ã ã¨æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public final class ObjectTest {
    public static final ObjectTest INSTANCE = new ObjectTest();

    public final void show(int i) {
        ...
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;INSTANCEãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒç”Ÿæˆã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;æ¬¡ã«R8ã«ã‚ˆã‚‹æœ€é©åŒ–ã‚’è¡Œã„ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public abstract class ObjectTest {
    public static final void show(int i) {
        ...
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Companion objectã¨åŒæ§˜ã«å†—é•·ãªã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”ŸæˆãŒæ¶ˆãˆã¦ã„ã¾ã™ã€‚
Proguardã®å ´åˆã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã¯æ¶ˆãˆãªã„ã®ã§ã€R8ã®ä¸€æ­©é€²ã‚“ã æœ€é©åŒ–ã¨ã„ãˆã¾ã™ã€‚ï¼ˆã‚‚ã—ã‹ã—ãŸã‚‰Proguardã®è¨­å®šæ¬¡ç¬¬ã§ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã‚’ã—ãªã„ã‚ˆã†ã«å‡ºæ¥ã‚‹ã‹ã‚‚ã—ã‚Œãªã„ã§ã™ã€‚ï¼‰&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>R8/Proguard: Class Mergingã«ã¤ã„ã¦</title>
      <link>https://satoshun.github.io/2019/01/r8-merge-method/</link>
      <pubDate>Sun, 20 Jan 2019 02:16:43 UTC</pubDate>
      <author>Sato Shun</author>
      <guid>https://satoshun.github.io/2019/01/r8-merge-method/</guid>
      <description>

&lt;p&gt;ã‚³ãƒ¼ãƒ‰ã®æœ€é©åŒ–ã®è©±ã§ã™ã€‚ã“ã®è¨˜äº‹ã§ã¯Class Mergingã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;class-merging&#34;&gt;Class Merging?&lt;/h2&gt;

&lt;p&gt;ãã®åã®é€šã‚Šã€Classã‚’ãƒãƒ¼ã‚¸ã™ã‚‹æœ€é©åŒ–ã§ã™ã€‚æœ€çµ‚çš„ãªã‚¯ãƒ©ã‚¹æ•°æ¸›ã‚‰ã™ã“ã¨ãŒæœŸå¾…å‡ºæ¥ã¾ã™ã€‚
Class Mergingã«ã¯ç¸¦æ–¹å‘ï¼ˆVerticalï¼‰ã¨ã€æ¨ªæ–¹å‘ï¼ˆHorizontalï¼‰ãŒã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã¾ãšã¯ç¸¦æ–¹å‘ã®Class Mergingã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;h3 id=&#34;ç¸¦æ–¹å‘&#34;&gt;ç¸¦æ–¹å‘?&lt;/h3&gt;

&lt;p&gt;ç¸¦æ–¹å‘ã¨ã¯ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¿ã‚¤ãƒ—ã®å®Ÿè£…ãŒ1ã¤ã ã£ãŸã¨ãã«ã€ãã®ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¿ã‚¤ãƒ—ã¨å®Ÿè£…ã§ã‚ã‚‹ã‚µãƒ–ã‚¿ã‚¤ãƒ—ã‚’1ã¤ã«ã¾ã¨ã‚ã‚‹æœ€é©åŒ–ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;ä¾‹ãˆã°ã€æ¬¡ã®å®Ÿè£…ã¯æœ€é©åŒ–ã«ã‚ˆã£ã¦1ã¤ã«ã¾ã¨ã‚ã‚‰ã‚Œã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;interface IVertical {
    fun show(i: Int)
}

class Vertical(
    private val a: Int
) : IVertical {
    override fun show(i: Int) {
        println(&amp;quot;start called $i $a&amp;quot;)
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&amp;ndash;&amp;gt; Proguard/R8ã«ã‚ˆã‚‹æœ€é©åŒ–å¾Œ &amp;ndash;&amp;gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;public final class Vertical {
    ...

    public final void show(int i) {
        ...
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;IVertical&lt;/code&gt;ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãŒè¦‹äº‹ã«æ¶ˆã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã¾ãŸã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§ã¯ãªãabstractã‚¯ãƒ©ã‚¹ã®å ´åˆã¯R8ã®å ´åˆã®ã¿ä¸Šæ‰‹ããƒãƒ¼ã‚¸ã•ã‚Œã¾ã—ãŸã€‚&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://r8.googlesource.com/r8/+/master/src/main/java/com/android/tools/r8/shaking/VerticalClassMerger.java&#34;&gt;R8: Vertical Merger&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/facebook/proguard/blob/master/src/proguard/optimize/peephole/VerticalClassMerger.java&#34;&gt;Proguard: Vertical Merger&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ¬¡ã«æ¨ªæ–¹å‘ã®ãƒãƒ¼ã‚¸ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;h3 id=&#34;æ¨ªæ–¹å‘&#34;&gt;æ¨ªæ–¹å‘?&lt;/h3&gt;

&lt;p&gt;Staticãƒ¡ã‚½ãƒƒãƒ‰ã®ã¿ã‚’æŒã¤ã‚¯ãƒ©ã‚¹ã‚’1ã¤ã«ã¾ã¨ã‚ã‚‹ãªã©ã®æœ€é©åŒ–ã‚’è¡Œã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ä¾‹ãˆã°Kotlinã®è¤‡æ•°ã®ãƒ•ã‚¡ã‚¤ãƒ«ã§å®šç¾©ã•ã‚ŒãŸãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«é–¢æ•°ã‚’1ã¤ã®ã‚¯ãƒ©ã‚¹ã«ã¾ã¨ã‚ã¦ãã‚Œã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;// ShowExt.kt
fun Int.show1(i: Int) {
    ...
}

// ShowExt2.kt
fun Int.show2(i: Int) {
    ...
}

--&amp;gt; Proguard/R8ã«ã‚ˆã‚‹æœ€é©åŒ–å¾Œ --&amp;gt;

```java
public class ShowExt2Kt {
    public static final void show1(int i) {
        ...
    }
}

    public static final void show2(int i) {
        ...
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;1ã¤ã®ã‚¯ãƒ©ã‚¹ã«ã¾ã¨ã‚ã‚‰ã‚Œã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã¾ãŸã€å®Ÿéš›ã®Androidãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ç¢ºèªã—ãŸã¨ã“ã‚ã€ç¢ºã‹ã«æ‹¡å¼µé–¢æ•°ãŒä»–ã®ã‚¯ãƒ©ã‚¹ã«ãƒãƒ¼ã‚¸ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;// Fuga.kt
fun Int.show1() {
    ...
}

// mapping.txtã®å†…å®¹
android.support.constraint.solver.widgets.Analyzer -&amp;gt; a.b.b.a.a.a:
    ...
    void com.github.satoshun.example.FugaKt.show1(int) -&amp;gt; d
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ãªãœã“ã®ã‚¯ãƒ©ã‚¹ã«ç§»å‹•ã—ãŸã‹ã¯åˆ†ã‹ã‚‰ãªã„ã®ã§ã€ä»Šå¾Œã®å®¿é¡Œã¨ã—ã¾ã™ã€‚ç”³ã—è¨³ã‚ã‚Šã¾ã›ã‚“ğŸ˜«&lt;/p&gt;

&lt;h2 id=&#34;ã¾ã¨ã‚&#34;&gt;ã¾ã¨ã‚&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;æ¨ªæ–¹å‘ã®ãƒãƒ¼ã‚¸ã«ã¤ã„ã¦ã¯å†…å®¹ã«è‡ªä¿¡ãŒãªã„ã®ã§ã€ã‚‚ã—é–“é•ã£ã¦ã„ãŸã‚Šã€è£œè¶³ãŒã‚ã‚Œã°æ•™ãˆã¦é ‚ã‘ã‚‹ã¨ã¨ã¦ã‚‚å¬‰ã—ã„ã§ã™ğŸ™&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    
    
    <item>
      <title>Dynamic Feature Moduleã§Dagger Androidã‚’ä½¿ã†</title>
      <link>https://satoshun.github.io/2019/01/dynamic-feature-and-dagger-android/</link>
      <pubDate>Wed, 16 Jan 2019 12:10:36 UTC</pubDate>
      <author>Sato Shun</author>
      <guid>https://satoshun.github.io/2019/01/dynamic-feature-and-dagger-android/</guid>
      <description>

&lt;p&gt;&lt;a href=&#34;https://medium.com/@keyboardsurfer/dependency-injection-in-a-multi-module-project-1a09511c14b7&#34;&gt;Dependency injection in a multi module project&lt;/a&gt;ã‚’è¦‹ã¦ã€Dynamic Featureã‚’Dagger Androidã§å®Ÿç¾ã™ã‚‹ã«ã¯ã©ã†ã™ã‚‹ã‹ã‚’è€ƒãˆã¦ã¿ã¾ã—ãŸã€‚&lt;/p&gt;

&lt;p&gt;çµè«–ã‹ã‚‰ã„ã†ã¨ã€ã„ãã¤ã‹ã®baseã‚¯ãƒ©ã‚¹ã‚’å®šç¾©ã™ã‚‹ã“ã¨ã§å¯¾å¿œã§ããã†ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã¾ãŸã€ã“ã®è¨˜äº‹ã§ã¯Dynamic Feature Moduleã€Dagger Androidã‚’ã‚ã‚‹ç¨‹åº¦çŸ¥ã£ã¦ã„ã‚‹å‰æã§é€²ã‚ã¦ã„ãã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;æ¤œè¨¼ã«ç”¨ã„ãŸã‚³ãƒ¼ãƒ‰ã¯&lt;a href=&#34;https://github.com/satoshun-android-example/DynamicFeatureDaggerExample&#34;&gt;satoshun-android-example/DynamicFeatureDaggerExample&lt;/a&gt;ã«ã‚ã‚Šã¾ã™ğŸ˜Š&lt;/p&gt;

&lt;h2 id=&#34;å‰æçŸ¥è­˜&#34;&gt;å‰æçŸ¥è­˜&lt;/h2&gt;

&lt;p&gt;é€šå¸¸ã®Dagger Androidã¯Applicationã‚¯ãƒ©ã‚¹ã§Componentã‚’ä¿æŒã—ã¦ã€ãã“ã‹ã‚‰Subcomponentã‚’æ´¾ç”Ÿã•ã›ã‚‹å½¢ã«ãªã‚Šã¾ã™ã€‚
ã“ã“ã§ã®ãƒã‚¤ãƒ³ãƒˆã¯ã€Applficationã§ãƒˆãƒƒãƒ—ã«ä½ç½®ã™ã‚‹Componentã‚’ä¿æŒ/ä½œæˆã™ã‚‹ã¨ã„ã†ç‚¹ã§ã™ã€‚ã“ã‚Œã¯appãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒå…¨ã¦ã®Featureãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’çŸ¥ã£ã¦ã„ã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;img src=&#34;https://www.plantuml.com/plantuml/svg/SoWkIImgAStDuU8goIp9ILLukc_oixbB7pUkUx9lxjErCvxEtip5bPoVMv2VbvfNeX2TM53mk7dHuwOTZvkNFcxUyxXvTQn2Oh42K1XPrUEchO-RfnbYKrbSccI8gTG8Xr8ZBYukeDaAkYdvvNcwTX3TQ090DGwfUIb0Fm00&#34; width=300&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;ã“ã®å‰æã‚’ã‚‚ã¨ã«ã€Dynamic Featureã‚’è€ƒãˆã¾ã™ã€‚Dynamic Featureã§ã¯Applicationã§ãƒˆãƒƒãƒ—ã«ä½ç½®ã™ã‚‹Componentã‚’ä¿æŒ/ä½œæˆã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã›ã‚“ã€‚ãªãœãªã‚‰ã€appãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯å„Featureãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã“ã¨ã‚’çŸ¥ã‚Œãªã„ãŸã‚ã§ã™ã€‚Dynamic Moduleã§ã¯é€šå¸¸ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆã¨é•ã„ã€appã¨Feature Moduleé–“ã®ä¾å­˜é–¢ä¿‚ãŒé€†è»¢ã—ã¾ã™ã€‚çµæœã€Applicationã§ãƒˆãƒƒãƒ—ã«ä½ç½®ã™ã‚‹Componentã‚’ä¿æŒ/ä½œæˆã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã›ã‚“ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;img src=&#34;https://www.plantuml.com/plantuml/svg/SoWkIImgAStDuU8goIp9ILLmgSnBpCrCLd1BJImfBKfztBZkoRwvJzVEU3fxCnTNSdvkGNvUQbw9GdHYGS7ZvaMFctOyRbxwk7dFu-RLiGg9nGf0OMHLZvksFcwUPeXDPN5faY6cKYCSIesukBX0EXHqK_BBytJjm1Q1n544k1nIyrA0dW40&#34; width=300&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;ãã“ã§Dynamic Featureã§ã¯ã€appãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ãƒˆãƒƒãƒ—ã«ä½ç½®ã™ã‚‹Componentã‚’ä¿æŒã™ã‚‹ã®ã¯ã‚„ã‚ã¦ã€å„Feature Moduleå†…ã§ãã‚Œãã‚Œã®Componentã‚’ä¿æŒã™ã‚‹ã®ãŒè‰¯ã„ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã“ã“ã¾ã§ãŒå‰æçŸ¥è­˜ã§ã€æ¬¡ã«Dynamic Feature + Dagger Androidã®å®Ÿè£…ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;å®Ÿè£…&#34;&gt;å®Ÿè£…&lt;/h2&gt;

&lt;p&gt;Feature Subãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒã‚ã‚Šã€ã“ã®Subãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆï¼ˆãƒˆãƒƒãƒ—ã«ä½ç½®ã™ã‚‹ã‚¯ãƒ©ã‚¹ï¼‰ã¨ã—ã¦SubActivityãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹ã¨ã—ã¾ã™ã€‚
å®Ÿè£…ã®æ–¹é‡ã¨ã—ã¦ã¯ã€ã“ã®SubActivityã‚’DaggerApplicationã®ã‚ˆã†ã«æŒ¯ã‚‹èˆã‚ã•ã›ã‚‹ã“ã¨ã‚’ç›®æŒ‡ã—ã¾ã™ã€‚ãªãœãªã‚‰ã€ã“ã®Featureãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ãƒˆãƒƒãƒ—ã«ä½ç½®ã™ã‚‹ã‚¯ãƒ©ã‚¹ãŒSubActivityãªã®ã§ã€ã“ã‚Œã‚’DaggerApplicationã®ã‚ˆã†ã«æ‰±ã†ã“ã¨ãŒã§ãã‚Œã°ã€Dagger Androidã®ä¸–ç•Œã«ä¸Šæ‰‹ãè½ã¨ã—è¾¼ã‚€ã“ã¨ãŒå‡ºæ¥ã‚‹ã¨è€ƒãˆãŸã‹ã‚‰ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã§ã¯ã€å®Ÿè£…ã‚’å§‹ã‚ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;æœ€åˆã«ã€SubActivityã‚’DaggerApplicationã®ã‚ˆã†ã«æŒ¯ã‚‹èˆã‚ã•ã›ã‚‹ãŸã‚ã«&lt;code&gt;ModuleRootActivity&lt;/code&gt;ã‚¯ãƒ©ã‚¹ã‚’å®šç¾©ã—ã¾ã™ã€‚
ãã‚Œã«åˆã‚ã›ã¦ã€ã„ãã¤ã‹ã®ä»˜éšã—ãŸã‚¯ãƒ©ã‚¹ã‚‚å®šç¾©ã—ã¦ãŠãã¾ã™ã€‚ã“ã‚ŒãŒbaseã‚¯ãƒ©ã‚¹ç¾¤ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;abstract class ModuleRootActivity : AppCompatActivity(),
  HasModuleInjector {
  @Inject lateinit var fragmentInjector: DispatchingAndroidInjector&amp;lt;Fragment&amp;gt;

  private lateinit var injector: ModuleActivityInjector

  override fun onCreate(savedInstanceState: Bundle?) {
    injector = moduleComponent.moduleInjector
    injector.activity.inject(this)
    super.onCreate(savedInstanceState)
  }

  protected abstract val moduleComponent: ModuleActivityComponent

  override fun supportFragmentInjector(): AndroidInjector&amp;lt;Fragment&amp;gt; =
    fragmentInjector
}

class ModuleActivityInjector @Inject constructor(
  internal val activity: DispatchingAndroidInjector&amp;lt;Activity&amp;gt;
)

interface ModuleActivityComponent {
  val moduleInjector: ModuleActivityInjector
}

interface HasModuleInjector : HasSupportFragmentInjector

abstract class ModuleChildFragment : Fragment() {
  override fun onAttach(context: Context) {
    AndroidSupportInjection.inject(this)
    super.onAttach(context)
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ¬¡ã«ã€ã“ã®baseã‚¯ãƒ©ã‚¹ç¾¤ã‚’ä½¿ã„ã€SubActivityã¨Dagger Componentã‚’å®Ÿè£…ã‚’ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;@ModuleScope
@Component(
  dependencies = [CoreComponent::class], // å…±é€šã§ä½¿ã†Component
  modules = [
    AndroidSupportInjectionModule::class,
    SubBuilder::class
  ]
)
internal interface SubComponent : ModuleActivityComponent {
  @Component.Builder
  interface Builder {
    fun appComponent(module: CoreComponent): Builder
    fun build(): Sub1Component
  }
}

@Module(
  includes = [SubActivityModule::class]
)
interface SubBuilder

@Module
internal interface SubActivityModule {
  @ContributesAndroidInjector(modules = [SubFragmentsModule::class])
  fun contributeSubActivity(): SubActivity
}

@Module
internal interface SubFragmentsModule {
  @ContributesAndroidInjector
  fun contributeSubFragment(): SubFragment
}

class SubActivity : ModuleRootActivity() {
  @Inject lateinit var ...

  override fun onCreate(savedInstanceState: Bundle?) {
    super.onCreate(savedInstanceState)
    setContentView(R.layout.sub_act)
    ...
  }

  override val moduleComponent: ModuleActivityComponent
    get() = DaggerSubComponent
      .builder()
      .appComponent(App.coreComponent())
      .build()
}

class SubFragment : ModuleChildFragment() {
  @Inject lateinit var ...
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;ModuleRootActivity&lt;/code&gt;ã§ã€Featureãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å†…ã§ä½¿ã†Componentã‚’ä¿æŒã—ã€å„Fragmentã§ä¿æŒã—ãŸComponentã‚’å‚ç…§ã™ã‚‹ã“ã¨ã§ã€Activityã‚’DaggerApplicationã®ã‚ˆã†ã«æŒ¯ã‚‹èˆã‚ã•ã›ã‚‹äº‹ãŒã§ãã¾ã™ã€‚Componentã‚„Moduleã®å®šç¾©ã¯å¾“æ¥ã®Dagger Androidã®æ›¸ãæ–¹ã¨ã»ã¼ä¸€ç·’ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã“ã‚Œã§ã€Dynamic Featureãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« + Dagger Androidã‚’å®Ÿç¾ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ğŸ˜ƒ&lt;/p&gt;

&lt;p&gt;ç´°ã‹ã„éƒ¨åˆ†ã¯ã‚µãƒ³ãƒ—ãƒ«ã‚’è¦‹ã¦ã„ãŸã ã‘ãŸã‚‰ã¨æ€ã„ã¾ã™ã€‚&lt;a href=&#34;https://github.com/satoshun-android-example/DynamicFeatureDaggerExample&#34;&gt;DynamicFeatureDaggerExample&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;ãƒ¡ãƒ¢1-1ã¤ã®feature-moduleå†…ã§è¤‡æ•°activityãŒã‚ã‚‹å ´åˆ&#34;&gt;ãƒ¡ãƒ¢1: 1ã¤ã®Feature Moduleå†…ã§è¤‡æ•°ActivityãŒã‚ã‚‹å ´åˆ&lt;/h2&gt;

&lt;p&gt;ã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯è€ƒæ…®å‡ºæ¥ã¦ã„ãªã„ã§ã™ğŸ˜‚
ãŠãã‚‰ãã€é ‘å¼µã£ã¦Applicationã‚¯ãƒ©ã‚¹å†…ã§staticã§ä¿æŒã™ã‚‹ã‹ã€ã‚‚ã—ãã¯ã€CoreComponentã§Scopedã§ç®¡ç†ã™ã‚‹ã®ãŒè‰¯ã„ã¨æ€ã£ã¦ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ãƒ¡ãƒ¢2-configuration-changeå¯¾å¿œ&#34;&gt;ãƒ¡ãƒ¢2: Configuration Changeå¯¾å¿œ&lt;/h2&gt;

&lt;p&gt;Feature Root Componentã¯Activityã§ã¯ãªãã€AACã®ViewModelã§ä¿æŒã—ãŸã»ã†ãŒè‰¯ã„ã‹ã‚‚çŸ¥ã‚Œãªã„ã§ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ãƒ¡ãƒ¢3-ãã‚‚ãã‚‚dagger-androidã‚’ä½¿ã†å¿…è¦ã‚ã‚‹ã®ã‹&#34;&gt;ãƒ¡ãƒ¢3: ãã‚‚ãã‚‚Dagger Androidã‚’ä½¿ã†å¿…è¦ã‚ã‚‹ã®ã‹?&lt;/h2&gt;

&lt;p&gt;Scopeã‚’ã‚¬ãƒ³ã‚¬ãƒ³ä½¿ã„ãŸã„æ™‚ã€ã™ã§ã«Dagger Androidã‚’å°å…¥ã—ã¦ã„ã‚‹å ´åˆã¯ä½¿ã£ã¦ã‚‚ã„ã„ã‹ã‚‚ã€‚
ãŸã Plaidã®ã‚ˆã†ã«ã€Dagger Androidã‚’ä½¿ã‚ãªã„ã»ã†ãŒã‚³ãƒ¼ãƒ‰ãŒè¤‡é›‘ã«ãªã‚‰ãªãã†ãªã®ã§ã€ä½¿ã‚ãªã„ã»ã†ãŒåŸºæœ¬è‰¯ã„ã¨æ€ã„ã¾ã™ã€‚ï¼ˆä»Šå¾Œå¿ƒå¤‰ã‚ã‚Šã™ã‚‹å¯èƒ½æ€§ã¯å¤§ã„ã«ã‚ã‚Šã¾ã™ï¼‰&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;ã§ã¯ã€Happy Dagger Life ğŸ˜ŠğŸ˜ŠğŸ˜Š&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>dexdumpãƒ¡ãƒ¢</title>
      <link>https://satoshun.github.io/2019/01/reading_dexdump_result/</link>
      <pubDate>Sat, 05 Jan 2019 02:15:50 UTC</pubDate>
      <author>Sato Shun</author>
      <guid>https://satoshun.github.io/2019/01/reading_dexdump_result/</guid>
      <description>&lt;p&gt;Android build-toolsã«ã¯dexdumpã¨ã„ã†dexãƒ•ã‚¡ã‚¤ãƒ«ã‚’é€†ã‚¢ã‚»ãƒ³ãƒ–ãƒ«ã™ã‚‹ãƒ„ãƒ¼ãƒ«ãŒã‚ã‚Šã¾ã™ã€‚
é€†ã‚¢ã‚»ãƒ³ãƒ–ãƒ«ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿ãŸã‹ã£ãŸã®ã§ãã‚Œã®ãƒ¡ãƒ¢ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;å†…å®¹ã¯ã¾ã¨ã¾ã£ã¦ã„ã¾ã›ã‚“ã€‚è‡ªåˆ†ç”¨ã®ãƒ¡ãƒ¢ãƒ¬ãƒ™ãƒ«ã®è¨˜äº‹ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;dexãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒãƒ³ãƒ‰ã‹ã‚‰ä½œã‚‹ã«ã¯javacã¨d8ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã™ã€‚d8ã‚³ãƒãƒ³ãƒ‰ã¯ &lt;a href=&#34;https://r8.googlesource.com/r8&#34;&gt;https://r8.googlesource.com/r8&lt;/a&gt; ã®æ‰‹é †é€šã‚Šã«ãƒ“ãƒ«ãƒ‰ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;javac *.java // or kotlinc *.kt
java -jar $R8_HOME/build/libs/d8.jar --lib $ANDROID_HOME/platforms/android-28/android.jar --release *.class
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;d8ã‚³ãƒãƒ³ãƒ‰ã§å‡ºæ¥ãŸdexãƒ•ã‚¡ã‚¤ãƒ«ã‚’dexdumpã§é€†ã‚¢ã‚»ãƒ³ãƒ–ãƒ«ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ANDROID_HOME/build-tools/28.0.3/dexdump -d classes.dex
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ä¾‹ãˆã°æ¬¡ã®Javaã‚³ãƒ¼ãƒ‰ã‚’é€†ã‚¢ã‚»ãƒ³ãƒ–ãƒ«ã—ã¦ã¿ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-java&#34;&gt;class Test {
    public void main() {
        show(1, 10.0);
        String[] array = {&amp;quot;&amp;quot;};
        toggle(array);
        fade();
        drag();
        hide();
        click();
        hover();
    }

    public String show(int a, double d) {
        System.out.println(a);
        return &amp;quot;showed&amp;quot;;
    }

    void toggle(String[] args) {
        System.out.println(&amp;quot;toggle&amp;quot;);
    }

    protected void fade() {
        System.out.println(&amp;quot;fade&amp;quot;);
    }

    final protected void drag() {
        System.out.println(&amp;quot;drag&amp;quot;);
    }

    private void hide() {
        System.out.println(&amp;quot;hide&amp;quot;);
    }

    public static void click() {
        System.out.println(&amp;quot;click&amp;quot;);
    }

    static void hover() {
        System.out.println(&amp;quot;hover&amp;quot;);
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;Processing &#39;classes.dex&#39;...
Opened &#39;classes.dex&#39;, DEX version &#39;035&#39;
Class #0            -
  Class descriptor  : &#39;LTest;&#39; // ã‚¯ãƒ©ã‚¹åTest
  Access flags      : 0x0000 () // ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆ
  Superclass        : &#39;Ljava/lang/Object;&#39; // ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹ãŒObject
  Interfaces        - // ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æŒãŸãªã„
  Static fields     - // Staticãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æŒãŸãªã„
  Instance fields   - // ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æŒãŸãªã„
  Direct methods    -
    #0              : (in LTest;)
      name          : &#39;&amp;lt;init&amp;gt;&#39; // ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚’ç¤ºã™
      type          : &#39;()V&#39; // å¼•æ•°ãªã—/æˆ»ã‚Šå€¤ãªã—
      access        : 0x10000 (CONSTRUCTOR)
      code          -
      registers     : 1
      ins           : 1
      outs          : 1
      insns size    : 4 16-bit code units
0001e4:                                        |[0001e4] Test.&amp;lt;init&amp;gt;:()V
0001f4: 7010 0b00 0000                         |0000: invoke-direct {v0}, Ljava/lang/Object;.&amp;lt;init&amp;gt;:()V // method@000b // Objectã®super
0001fa: 0e00                                   |0003: return-void
      catches       : (none)
      positions     :
        0x0000 line=1
      locals        :
        0x0000 - 0x0004 reg=0 this LTest;

    #1              : (in LTest;)
      name          : &#39;click&#39;
      type          : &#39;()V&#39;
      access        : 0x0009 (PUBLIC STATIC)
      code          -
      registers     : 2
      ins           : 0
      outs          : 2
      insns size    : 8 16-bit code units
0001fc:                                        |[0001fc] Test.click:()V
00020c: 6200 0000                              |0000: sget-object v0, Ljava/lang/System;.out:Ljava/io/PrintStream; // field@0000
000210: 1a01 0f00                              |0002: const-string v1, &amp;quot;click&amp;quot; // string@000f
000214: 6e20 0a00 1000                         |0004: invoke-virtual {v0, v1}, Ljava/io/PrintStream;.println:(Ljava/lang/String;)V // method@000a
00021a: 0e00                                   |0007: return-void
      catches       : (none)
      positions     :
        0x0000 line=35
      locals        :

    #2              : (in LTest;)
      name          : &#39;hide&#39;
      type          : &#39;()V&#39;
      access        : 0x0002 (PRIVATE)
      code          -
      registers     : 3
      ins           : 1
      outs          : 2
      insns size    : 8 16-bit code units
00025c:                                        |[00025c] Test.hide:()V
00026c: 6200 0000                              |0000: sget-object v0, Ljava/lang/System;.out:Ljava/io/PrintStream; // field@0000
000270: 1a01 1200                              |0002: const-string v1, &amp;quot;hide&amp;quot; // string@0012
000274: 6e20 0a00 1000                         |0004: invoke-virtual {v0, v1}, Ljava/io/PrintStream;.println:(Ljava/lang/String;)V // method@000a
00027a: 0e00                                   |0007: return-void
      catches       : (none)
      positions     :
        0x0000 line=31
      locals        :
        0x0000 - 0x0008 reg=2 this LTest;

    #3              : (in LTest;)
      name          : &#39;hover&#39;
      type          : &#39;()V&#39;
      access        : 0x0008 (STATIC)
      code          -
      registers     : 2
      ins           : 0
      outs          : 2
      insns size    : 8 16-bit code units
00027c:                                        |[00027c] Test.hover:()V
00028c: 6200 0000                              |0000: sget-object v0, Ljava/lang/System;.out:Ljava/io/PrintStream; // field@0000
000290: 1a01 1300                              |0002: const-string v1, &amp;quot;hover&amp;quot; // string@0013
000294: 6e20 0a00 1000                         |0004: invoke-virtual {v0, v1}, Ljava/io/PrintStream;.println:(Ljava/lang/String;)V // method@000a
00029a: 0e00                                   |0007: return-void
      catches       : (none)
      positions     :
        0x0000 line=39
      locals        :

  Virtual methods   -
    #0              : (in LTest;)
      name          : &#39;drag&#39;
      type          : &#39;()V&#39;
      access        : 0x0014 (PROTECTED FINAL)
      code          -
      registers     : 3
      ins           : 1
      outs          : 2
      insns size    : 8 16-bit code units
00021c:                                        |[00021c] Test.drag:()V
00022c: 6200 0000                              |0000: sget-object v0, Ljava/lang/System;.out:Ljava/io/PrintStream; // field@0000
000230: 1a01 1000                              |0002: const-string v1, &amp;quot;drag&amp;quot; // string@0010
000234: 6e20 0a00 1000                         |0004: invoke-virtual {v0, v1}, Ljava/io/PrintStream;.println:(Ljava/lang/String;)V // method@000a
00023a: 0e00                                   |0007: return-void
      catches       : (none)
      positions     :
        0x0000 line=27
      locals        :
        0x0000 - 0x0008 reg=2 this LTest;

    #1              : (in LTest;)
      name          : &#39;fade&#39;
      type          : &#39;()V&#39;
      access        : 0x0004 (PROTECTED)
      code          -
      registers     : 3
      ins           : 1
      outs          : 2
      insns size    : 8 16-bit code units
00023c:                                        |[00023c] Test.fade:()V
00024c: 6200 0000                              |0000: sget-object v0, Ljava/lang/System;.out:Ljava/io/PrintStream; // field@0000
000250: 1a01 1100                              |0002: const-string v1, &amp;quot;fade&amp;quot; // string@0011
000254: 6e20 0a00 1000                         |0004: invoke-virtual {v0, v1}, Ljava/io/PrintStream;.println:(Ljava/lang/String;)V // method@000a
00025a: 0e00                                   |0007: return-void
      catches       : (none)
      positions     :
        0x0000 line=23
      locals        :
        0x0000 - 0x0008 reg=2 this LTest;

    #2              : (in LTest;)
      name          : &#39;main&#39;
      type          : &#39;()V&#39;
      access        : 0x0001 (PUBLIC)
      code          -
      registers     : 4
      ins           : 1
      outs          : 4
      insns size    : 32 16-bit code units
00029c:                                        |[00029c] Test.main:()V
0002ac: 1210                                   |0000: const/4 v0, #int 1 // #1
0002ae: 1901 2440                              |0001: const-wide/high16 v1, #long 4621819117588971520 // #4024
0002b2: 6e40 0700 0321                         |0003: invoke-virtual {v3, v0, v1, v2}, LTest;.show:(ID)Ljava/lang/String; // method@0007
0002b8: 2300 0800                              |0006: new-array v0, v0, [Ljava/lang/String; // type@0008
0002bc: 1201                                   |0008: const/4 v1, #int 0 // #0
0002be: 1a02 0000                              |0009: const-string v2, &amp;quot;&amp;quot; // string@0000
0002c2: 4d02 0001                              |000b: aput-object v2, v0, v1
0002c6: 6e20 0800 0300                         |000d: invoke-virtual {v3, v0}, LTest;.toggle:([Ljava/lang/String;)V // method@0008
0002cc: 6e10 0300 0300                         |0010: invoke-virtual {v3}, LTest;.fade:()V // method@0003
0002d2: 6e10 0200 0300                         |0013: invoke-virtual {v3}, LTest;.drag:()V // method@0002
0002d8: 7010 0400 0300                         |0016: invoke-direct {v3}, LTest;.hide:()V // method@0004
0002de: 7100 0100 0000                         |0019: invoke-static {}, LTest;.click:()V // method@0001
0002e4: 7100 0500 0000                         |001c: invoke-static {}, LTest;.hover:()V // method@0005
0002ea: 0e00                                   |001f: return-void
      catches       : (none)
      positions     :
        0x0003 line=3
        0x0006 line=4
        0x000d line=5
        0x0010 line=6
        0x0013 line=7
        0x0016 line=8
        0x0019 line=9
        0x001c line=10
      locals        :
        0x0000 - 0x0020 reg=3 this LTest;

    #3              : (in LTest;)
      name          : &#39;show&#39;
      type          : &#39;(ID)Ljava/lang/String;&#39;
      access        : 0x0001 (PUBLIC)
      code          -
      registers     : 4
      ins           : 4
      outs          : 2
      insns size    : 8 16-bit code units
0001c4:                                        |[0001c4] Test.show:(ID)Ljava/lang/String;
0001d4: 6202 0000                              |0000: sget-object v2, Ljava/lang/System;.out:Ljava/io/PrintStream; // field@0000
0001d8: 6e20 0900 1200                         |0002: invoke-virtual {v2, v1}, Ljava/io/PrintStream;.println:(I)V // method@0009
0001de: 1a01 1800                              |0005: const-string v1, &amp;quot;showed&amp;quot; // string@0018
0001e2: 1101                                   |0007: return-object v1
      catches       : (none)
      positions     :
        0x0000 line=14
      locals        :
        0x0000 - 0x0008 reg=0 this LTest;

    #4              : (in LTest;)
      name          : &#39;toggle&#39;
      type          : &#39;([Ljava/lang/String;)V&#39;
      access        : 0x0000 ()
      code          -
      registers     : 3
      ins           : 2
      outs          : 2
      insns size    : 8 16-bit code units
0002ec:                                        |[0002ec] Test.toggle:([Ljava/lang/String;)V
0002fc: 6202 0000                              |0000: sget-object v2, Ljava/lang/System;.out:Ljava/io/PrintStream; // field@0000
000300: 1a00 1900                              |0002: const-string v0, &amp;quot;toggle&amp;quot; // string@0019
000304: 6e20 0a00 0200                         |0004: invoke-virtual {v2, v0}, Ljava/io/PrintStream;.println:(Ljava/lang/String;)V // method@000a
00030a: 0e00                                   |0007: return-void
      catches       : (none)
      positions     :
        0x0000 line=19
      locals        :
        0x0000 - 0x0008 reg=1 this LTest;

  source_file_idx   : 10 (Test.java)
&lt;/code&gt;&lt;/pre&gt;

&lt;ul&gt;
&lt;li&gt;finalãƒ¡ã‚½ãƒƒãƒ‰ã®dragãŒvirtualãªã®ãŒãªãœãªã®ã‹ã‚ã‹ã‚‰ãªã„

&lt;ul&gt;
&lt;li&gt;finalã¯directãƒ¡ã‚½ãƒƒãƒ‰ãªã®ã§ã¯?&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    
    
    <item>
      <title>ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®é·ç§»ã«ã¤ã„ã¦è€ƒãˆã‚‹ Part1</title>
      <link>https://satoshun.github.io/2018/12/multi-module_transition_part1/</link>
      <pubDate>Mon, 31 Dec 2018 06:19:39 UTC</pubDate>
      <author>Sato Shun</author>
      <guid>https://satoshun.github.io/2018/12/multi-module_transition_part1/</guid>
      <description>

&lt;p&gt;Androidã®ãƒˆãƒ¬ãƒ³ãƒ‰ã®1ã¤ã«ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆãŒã‚ã‚Šã¾ã™ã€‚
ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ã‚ˆã‚‹ãƒ¡ãƒªãƒƒãƒˆã¨ã—ã¦ã€&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ãƒ“ãƒ«ãƒ‰æ™‚é–“ã®çŸ­ç¸®&lt;/li&gt;
&lt;li&gt;ä¾å­˜é–¢ä¿‚ã‚’å„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«é–‰ã˜è¾¼ã‚ã‚‹ã“ã¨ã§ã‚³ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒ¼ãƒ³ã«ä¿ã¤ã“ã¨ãŒæœŸå¾…ã§ãã‚‹&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ãªã©ãŒã‚ã‚Šã¾ã™ã€‚å¤§è¦æ¨¡ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ä¸Šè¨˜ã®ãƒ¡ãƒªãƒƒãƒˆã¯å¤§ãã„ãŸã‚ã€ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ç§»è¡Œã—ã¦ã„ãã“ã¨ã«ãªã‚‹ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã“ã®è¨˜äº‹ã¯ã€ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ã—ãŸéš›ã®Activityé–“ã®é·ç§»ã«ã¤ã„ã¦è€ƒãˆãŸã„ã¨æ€ã„ã¾ã™ã€‚ç›®æŒ‡ã™ã‚´ãƒ¼ãƒ«ã¨ã—ã¦ã¯ã€&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;å‹å®‰å…¨ã«ã—ãŸã„ã€ã‚‚ã—ãã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ãƒã‚§ãƒƒã‚¯ã™ã‚‹æ©Ÿæ§‹ãŒæ¬²ã—ã„&lt;/li&gt;
&lt;li&gt;ã‚³ãƒ¼ãƒ‰é‡ã‚’æ¸›ã‚‰ã—ãŸã„&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Part1ã§ã¯ã€é·ç§»å°‚ç”¨ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½œã‚‹æ–¹æ³•ã‚’è€ƒãˆã¦ã¿ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰: &lt;a href=&#34;https://github.com/satoshun-android-example/MultiActivityRouterExample&#34;&gt;satoshun-android-example/MultiActivityRouterExample&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;é·ç§»å°‚ç”¨ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½œã‚‹&#34;&gt;é·ç§»å°‚ç”¨ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½œã‚‹&lt;/h2&gt;

&lt;p&gt;ã¾ãšä¾å­˜é–¢ä¿‚ã®æ§‹ç¯‰ã®åŸå‰‡ã«ã€Circular Dependencyã€å¾ªç’°ä¾å­˜ã‚’ä½œã‚Šå‡ºã—ã¦ã¯ã„ã‘ãªã„ã¨ã„ã†ã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ä¾‹ãˆã°ã€ãƒ¡ã‚¤ãƒ³ç”»é¢ã¨ã‚µãƒ–ç”»é¢ã®2ç”»é¢ãŒã‚ã‚Šã€ãã‚Œã‚‰ã®ç”»é¢ã¯ç›¸äº’ã«è¡Œãæ¥ã™ã‚‹ã¨ã—ã¾ã™ã€‚ãã‚Œã‚‰ã‚’ãƒ¡ã‚¤ãƒ³ç”»é¢ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã€ã‚µãƒ–ç”»é¢ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã—ã¦åˆ‡ã‚Šå‡ºã™ã¨æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ãƒ¡ã‚¤ãƒ³ã§ã¯ã‚µãƒ–ç”»é¢ãŒå¿…è¦ãªã®ã§ã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ä¾å­˜ã™ã‚‹&lt;/li&gt;
&lt;li&gt;ã‚µãƒ–ã§ã¯ãƒ¡ã‚¤ãƒ³ç”»é¢ãŒå¿…è¦ãªã®ã§ãƒ¡ã‚¤ãƒ³ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ä¾å­˜ã™ã‚‹&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;img src=&#34;https://www.plantuml.com/plantuml/svg/SoWkIImgAStDuU8goIp9ILLutBpmSTEInysRTHytRNtSFEtvbDqlvovwic_kqxKpdixUpCMLd9zRa9-NcbUY40rN2r4Kgv1OhE0UwecY1CaGcBmH5nSNa5BGBSfCpoZHjOE8WGW5tPpKDAW85vT3QbuAq6K0&#34; width=300&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;ã“ã‚Œã§ã¯å¾ªç’°å‚ç…§ã«ãªã‚Šã€ä¾å­˜é–¢ä¿‚ãŒå£Šã‚Œã¦ã—ã¾ã†ã®ã§é§„ç›®ã§ã™ã€‚ãã“ã§DIPã€ä¾å­˜é–¢ä¿‚é€†è»¢ã®åŸå‰‡ã‚’ç”¨ã„ã¾ã™ã€‚
ç›´æ¥Activityã‚’å‚ç…§ã—ã¦ã„ã‚‹ã®ãŒå•é¡Œãªã®ã§ã€å„ç”»é¢ã«é·ç§»ã§ãã‚‹é·ç§»ç”¨ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®šç¾©ã™ã‚‹ã“ã¨ã§è§£æ±ºã‚’ç›®æŒ‡ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ãã“ã§ã€&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ãƒ¡ã‚¤ãƒ³ç”»é¢ã«é·ç§»ã™ã‚‹ãƒ¡ã‚¤ãƒ³ãƒ«ãƒ¼ã‚¿ãƒ¼ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«&lt;/li&gt;
&lt;li&gt;ã‚µãƒ–ç”»é¢ã«é·ç§»ã™ã‚‹ã‚µãƒ–ãƒ«ãƒ¼ã‚¿ãƒ¼ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ã®2ã¤ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½œã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ãƒ¡ã‚¤ãƒ³ãƒ«ãƒ¼ã‚¿ãƒ¼ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã¯æ¬¡ã®é·ç§»å°‚ç”¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®šç¾©ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;interface MainRouter {
  fun routeToMain(context: Context): Intent
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ãã—ã¦ã€ãƒ¡ã‚¤ãƒ³ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§å®Ÿè£…ã—ã¾ã™ã€‚ã¾ãŸã€ä»Šå›ã¯Daggerã‚’ä½¿ã£ã¦ä¾å­˜ã‚’è§£æ±ºã—ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;internal class MainRouterImpl @Inject constructor() : MainRouter {
  override fun routeToMain(context: Context): Intent {
    return Intent(context, MainActivity::class.java)
  }
}

---

@Module
internal interface MainActivityModule {
  @Binds fun bindMainRouter(impl: MainRouterImpl): MainRouter
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã“ã‚Œã§ã€ä½¿ã†å´ã§ã‚ã‚‹ã‚µãƒ–ç”»é¢ã¯ã€ãƒ¡ã‚¤ãƒ³ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ä¾å­˜ã™ã‚‹ã®ã§ã¯ãªãã€ãƒ¡ã‚¤ãƒ³ãƒ«ãƒ¼ã‚¿ãƒ¼ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ä¾å­˜ã—é·ç§»ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;class SubActivity : AppCompatActivity() {
  @Inject lateinit var router: MainRouter

  ...
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æœ€çµ‚çš„ãªä¾å­˜å›³ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;img src=&#34;https://www.plantuml.com/plantuml/svg/SoWkIImgAStDuU8goIp9ILLutBpmSTEInysRTHytRNtSFEtvbDqlvovwic_kqxKpdixUpCMLd9zRa9-NcbUY40rN2r4Kgv1OhE0UwebLoUFcrO-RzpnksWyaOGgDKLGYMGTJO8If09iv9bnSN41AGRUqGBV63c8oZ6y7LG0o3Kc12K80ge7B8JKl1HWG0000&#34; width=300&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;ã“ã‚Œã§ã€ç›¸äº’ã«é·ç§»ã™ã‚‹ç”»é¢ã ã¨ã—ã¦ã‚‚å¾ªç’°å‚ç…§ã«ãªã‚‹ã“ã¨ãªãè§£æ±ºã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ğŸ˜ƒ&lt;/p&gt;

&lt;h2 id=&#34;è£œè¶³&#34;&gt;è£œè¶³&lt;/h2&gt;

&lt;p&gt;ã„ã¡ã„ã¡ãƒ«ãƒ¼ã‚¿ãƒ¼ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½œã‚‹ã®ãŒã‚ã‚“ã©ã†ãªã®ã§ã‚ã‚Œã°ã€å…±é€šã®Routerã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ä½œã‚‹æ–¹æ³•ã‚‚ã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;interface Router&amp;lt;T&amp;gt; {
  fun route(context: Context, params: T): Intent
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;å®Ÿè£…ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;---å®Ÿè£…

internal class MainRouter2Impl @Inject constructor() : Router&amp;lt;Unit&amp;gt; {
  override fun route(context: Context, params: Unit): Intent {
    return Intent(context, MainActivity::class.java)
  }
}

---Daggerã®è¨­å®š

@Module
internal interface MainActivityModule {
  @Named(&amp;quot;main&amp;quot;)
  @Binds fun bindMain2Router(impl: MainRouter2Impl): Router&amp;lt;Unit&amp;gt;
}

---ä½¿ç”¨å´

class SubActivity : AppCompatActivity() {
  @field:[Inject Named(&amp;quot;main&amp;quot;)] lateinit var router: Router&amp;lt;Unit&amp;gt;
  ...
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Daggerã®Namedã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã¨çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã„ã„æ„Ÿã˜ã«å…±é€šRouterã‚’ä½œã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ã¾ã¨ã‚&#34;&gt;ã¾ã¨ã‚&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;ç›¸äº’ã«è¡Œãæ¥ã—ãŸã„ç”»é¢ãŒã‚ã£ãŸã¨ãã«ã€é·ç§»å°‚ç”¨ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½œã‚‹ã“ã¨ã§å¾ªç’°å‚ç…§ã‚’é˜²ãã“ã¨ãŒå‡ºæ¥ã‚‹&lt;/li&gt;
&lt;li&gt;åŸºæœ¬çš„ã«ç”»é¢ã‚’å«ã‚“ã ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯é·ç§»ã—ãŸã„ã¨ããŒã»ã¨ã‚“ã©ã ã¨æ€ã†ã®ã§ã€é·ç§»å°‚ç”¨ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½œã‚‹ã“ã¨ã§ç„¡é§„ãªä¾å­˜ã‚’ä½œã‚‹ã“ã¨ã‚’é˜²ãã“ã¨ãŒå‡ºæ¥ã‚‹&lt;/li&gt;
&lt;li&gt;é·ç§»ç”¨ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒå¢—ãˆã‚‹ğŸ˜‚ğŸ˜‚ğŸ˜‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Part2ã§ã¯Deeplinkã‚„navigationã‚’çµ¡ã‚ãŸé·ç§»ã®æ–¹æ³•ã«ã¤ã„ã¦è€ƒãˆã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ğŸ˜ƒ&lt;/p&gt;

&lt;p&gt;ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰: &lt;a href=&#34;https://github.com/satoshun-android-example/MultiActivityRouterExample&#34;&gt;satoshun-android-example/MultiActivityRouterExample&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>æ„Ÿæƒ³: ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’æ”¯ãˆã‚‹æŠ€è¡“</title>
      <link>https://satoshun.github.io/2018/12/coding_tech/</link>
      <pubDate>Fri, 28 Dec 2018 05:27:13 UTC</pubDate>
      <author>Sato Shun</author>
      <guid>https://satoshun.github.io/2018/12/coding_tech/</guid>
      <description>&lt;p&gt;ã€Œã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’æ”¯ãˆã‚‹æŠ€è¡“ã€ã‚’èª­ã‚“ã ã®ã§ã–ã£ãã‚Šã¨æ„Ÿæƒ³ã€‚&lt;/p&gt;

&lt;p&gt;æ¯”è¼ƒã€æ­´å²ã‹ã‚‰å­¦ã¶&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ãã®æ©Ÿèƒ½ã¯ãªã«ã‹ã®å•é¡Œã‚’è§£æ±ºã™ã‚‹ãŸã‚ã«å°å…¥ã•ã‚Œã¦ã„ã‚‹

&lt;ul&gt;
&lt;li&gt;æ­´å²ã‹ã‚‰ç´è§£ãã“ã¨ã§ãªãœãã‚ŒãŒå¿…è¦ã‹ãŒç†è§£ã§ãã‚‹&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;è¨€èªã«ã‚ˆã£ã¦ã©ã®å•é¡Œã‚’è§£æ±ºã—ãŸã„ã®ã‹ãŒé•ã†

&lt;ul&gt;
&lt;li&gt;Python: åŒã˜ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã«ãªã‚‹ã‚ˆã†ãªè¨€èª&lt;/li&gt;
&lt;li&gt;C++: é«˜é€Ÿã«å‹•ä½œã™ã‚‹ã“ã¨ã‚’ç›®æŒ‡ã—ã¦ã„ã‚‹&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ã‚¨ãƒ©ãƒ¼å‡¦ç†ã®é€²åŒ–
- globalãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã¯gotoã¨å¤‰ã‚ã‚‰ãªã„
- try catch finallyã®ã‚ˆã†ã«æ§‹é€ åŒ–ã•ã‚ŒãŸã‚¨ãƒ©ãƒ¼å‡¦ç†ãŒèª•ç”Ÿã—ãŸ
    - Javaã§ã¯æ¤œæŸ»å‹ä¾‹å¤–ã€å¿…ãšerrorã‚’å‡¦ç†ã—ãªã‘ã‚Œã°ã„ã‘ãªã„è¨­è¨ˆ&lt;/p&gt;

&lt;p&gt;ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’è¦šãˆã‚‹ã®ã¯äººé–“ã«ã¯å¤§å¤‰&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;äººé–“ã¯ãƒ¡ã‚½ãƒƒãƒ‰ã€å¤‰æ•°ã‚’ä»‹ã™ã‚‹ã“ã¨ã§ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å¿˜ã‚Œã‚‹ã“ã¨ãŒå‡ºæ¥ãŸ

&lt;ul&gt;
&lt;li&gt;çµæœã€ãƒ¡ã‚½ãƒƒãƒ‰åã€å¤‰æ•°åã‚’ã„ã‹ã«ã—ã¦ã‚ã‹ã‚Šã‚„ã™ãã™ã‚‹ã‹ãŒé‡è¦ã«ãªã£ã¦ããŸ&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;åŸºæœ¬çš„ã«ã¯ä½•ã‚’ã™ã‚‹ã‹ã¨ã„ã†ã‚ˆã‚Šã‹ã¯ã€ä½•ã‚’ã•ã›ãªã„ã‹ã§é€²åŒ–ã—ã¦ã„ã‚‹&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ã‚¯ãƒ©ã‚¹ã«ã‚ˆã‚‹ãƒãƒªãƒ¢ãƒ¼ãƒ•ã‚£ã‚ºãƒ 

&lt;ul&gt;
&lt;li&gt;é–¢æ•°ãƒã‚¤ãƒ³ã‚¿ã‚’ç›´æ¥è§¦ã‚‰ãªã„ã‚ˆã†ã«&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;gotoã®ç¦æ­¢

&lt;ul&gt;
&lt;li&gt;æ§‹é€ åŒ–ã€ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–ã§ããªããªã‚‹ã®ã§&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    
    
    <item>
      <title>æ„Ÿæƒ³: ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘è¨­è¨ˆå®Ÿè·µã‚¬ã‚¤ãƒ‰ ~Rubyã§ã‚ã‹ã‚‹ é€²åŒ–ã—ã¤ã¥ã‘ã‚‹æŸ”è»Ÿãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®è‚²ã¦æ–¹</title>
      <link>https://satoshun.github.io/2018/12/object_oriented_practical_guide/</link>
      <pubDate>Tue, 25 Dec 2018 03:00:39 UTC</pubDate>
      <author>Sato Shun</author>
      <guid>https://satoshun.github.io/2018/12/object_oriented_practical_guide/</guid>
      <description>&lt;p&gt;ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘è¨­è¨ˆå®Ÿè·µã‚¬ã‚¤ãƒ‰ ~Rubyã§ã‚ã‹ã‚‹ é€²åŒ–ã—ã¤ã¥ã‘ã‚‹æŸ”è»Ÿãªã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®è‚²ã¦æ–¹ã‚’èª­ã‚“ã ã®ã§ã–ã£ãã‚Šã¨æ„Ÿæƒ³ã€‚&lt;/p&gt;

&lt;p&gt;ç¶™æ‰¿ã¨ã‚³ãƒ³ãƒã‚¸ã‚·ãƒ§ãƒ³ã¯ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ç¶™æ‰¿ã¯è‡ªå‹•çš„ã«aãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å§”è­²ã™ã‚‹

&lt;ul&gt;
&lt;li&gt;ä¾¿åˆ©ã ãŒä¾å­˜é–¢ä¿‚ã¯å¼·ã„&lt;/li&gt;
&lt;li&gt;è¦ªã‚¯ãƒ©ã‚¹ãŒå¤‰æ›´ã•ã‚ŒãŸã¨ãã«ã€è‡ªå‹•çš„ã«å­ã‚¯ãƒ©ã‚¹ã«ã‚‚å½±éŸ¿ãŒã‚ã‚‹ã“ã¨ã‚’æ„å‘³ã™ã‚‹&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;ç¶™æ‰¿ã¯éšå±¤æ§‹é€ ã‚’ç”Ÿã¿å‡ºã™

&lt;ul&gt;
&lt;li&gt;ãƒãƒªãƒ¢ãƒ¼ãƒ•ã‚£ã‚ºãƒ ã‚’å®Ÿç¾ã™ã‚‹&lt;/li&gt;
&lt;li&gt;ã“ã‚Œã¾ãŸä¾¿åˆ©ã ãŒä¾å­˜é–¢ä¿‚ã¯å¼·ã„&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;ã‚³ãƒ³ãƒã‚¸ã‚·ãƒ§ãƒ³ã¯è‡ªå‹•çš„ã«å§”è­²ã—ãªã„

&lt;ul&gt;
&lt;li&gt;å¿…è¦ã«å¿œã˜ã¦é›†ç´„ã‚¯ãƒ©ã‚¹ã§æ“ã‚‹å¿…è¦ãŒã‚ã‚‹&lt;/li&gt;
&lt;li&gt;ä¾å­˜ã¯ç¶™æ‰¿ã‚ˆã‚Šå°‘ãªã„&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;å˜ä¸€è²¬ä»»ã«ã¤ã„ã¦&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ã‚ãŸã‚Šã¾ãˆã ã‘ã©å®ˆã‚‰ãªã„ã¨ã„ã‘ãªã„

&lt;ul&gt;
&lt;li&gt;ç„¡é§„ãªè²¬å‹™ãŒã‚ã‚‹ã¨å†åˆ©ç”¨ã§ããªã„&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;é”æˆã™ã‚‹ã“ã¨ã§å†åˆ©ç”¨å¯èƒ½ãªç´ æ™´ã‚‰ã—ã„ã‚¯ãƒ©ã‚¹ãŒå‡ºæ¥ã‚‹&lt;/li&gt;
&lt;li&gt;è²¬ä»»ã®ä¾å­˜å…ˆãŒä¸æ˜ãªã¨ãã¯ä¸€æ—¦privateã¨ã‹ã«åˆ‡ã‚Šå‡ºã—ã¦ãŠã„ã¦æœªæ¥ã«è¨—ã™&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ãƒ€ãƒƒã‚¯ã‚¿ã‚¤ãƒ”ãƒ³ã‚°&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ãƒ€ãƒƒã‚¯ã«ã‚ˆã‚Šã€å…·ä½“çš„ãªGearã‚¯ãƒ©ã‚¹ã‹ã‚‰ãƒ­ãƒ¼ãƒ«ã¸ã®ãƒã‚¤ãƒ³ãƒ‰ã‚·ãƒ•ãƒˆãŒå‡ºæ¥ã‚‹&lt;/li&gt;
&lt;li&gt;ãƒ­ãƒ¼ãƒ«ã‚’æº€ãŸã™ã“ã¨ã«ã‚ˆã‚Šè¦ä»¶ã‚’æº€ãŸã™&lt;/li&gt;
&lt;li&gt;å®Ÿè£…ã«ã¯ä¾å­˜ã—ãªã„ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ã‚‹ã ã‘ã§è‰¯ã„ä¸–ç•Œã¯OOPã®çœŸéª¨é ‚&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä¾å­˜é–¢ä¿‚ã«ã¤ã„ã¦&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ä¾å­˜é–¢ä¿‚ã®å‘ãã‚’è€ƒãˆã‚‹ã®ã¯å¤§åˆ‡

&lt;ul&gt;
&lt;li&gt;ä¾‹ãˆã°ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿å†…ã§ä¾å­˜ã™ã‚‹ã®ã¨ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰ã ã¨è·é›¢ãŒé•ã†ã€‚ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿å†…ã§ä¾å­˜ã—ãŸã»ã†ãŒè‰¯ã„

&lt;ul&gt;
&lt;li&gt;ã•ã‚‰ã«é€²ã‚ã‚‹ã¨DIï¼Œã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã®å¤–ã‹ã‚‰æ³¨å…¥ã™ã‚‹&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;ä¾å­˜é–¢ä¿‚é€†è»¢ã®æ³•å‰‡

&lt;ul&gt;
&lt;li&gt;ä½ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«ä¾å­˜ã™ã‚‹ã®ã§ã¯ãªãã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«ä¾å­˜ã—ã¦ãŠã„ã¦ã€ã‚ã¨ã‹ã‚‰å®Ÿè£…ã‚’æ³¨å…¥ã™ã‚‹ã“ã¨ã§é”æˆ

&lt;ul&gt;
&lt;li&gt;domainå±¤ãªã©ã®ä»–ã®å±¤ã«ä¾å­˜ã—ãŸããªã„å±¤ã§æœ‰åŠ¹&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æŸ”è»Ÿãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä¿¡ã˜ã‚‹ã‚ˆã†ãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹

&lt;ul&gt;
&lt;li&gt;ã©ã®ã‚ˆã†ã«ã™ã‚‹ã‹ã§ã¯ãªãã€ä½•ã‚’ã™ã‚‹ã‹ã‚’ãƒ¡ã‚½ãƒƒãƒ‰åã«ã™ã‚‹ã€‚å®£è¨€çš„ã«&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;å®‰å®šã—ã¦ã„ãªã‘ã‚Œã°ã„ã‘ãªã„&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    
    
    <item>
      <title>Coroutine &#43; AutoDisposeã‚’ä½œã£ã¦ã¿ãŸ</title>
      <link>https://satoshun.github.io/2018/12/coroutine_autodispose/</link>
      <pubDate>Sun, 23 Dec 2018 09:14:43 UTC</pubDate>
      <author>Sato Shun</author>
      <guid>https://satoshun.github.io/2018/12/coroutine_autodispose/</guid>
      <description>

&lt;p&gt;Coroutine + AutoDisposeã®å®Ÿè£…ã«ã¤ã„ã¦è€ƒãˆã¦ã¿ã¾ã—ãŸã€‚çµè«–ã‹ã‚‰è¨€ã†ã¨ã€&lt;code&gt;ContinuationInterceptor&lt;/code&gt;ã‚’ä½¿ãˆã°ä¸Šæ‰‹ãã„ããã†ã§ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;continuationinterceptorã¨ã¯&#34;&gt;ContinuationInterceptorã¨ã¯?&lt;/h2&gt;

&lt;p&gt;ContinuationInterceptorã¯æ¬¡ã®ã‚ˆã†ãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;/**
 * Marks coroutine context element that intercepts coroutine continuations.
 * The coroutines framework uses [ContinuationInterceptor.Key] to retrieve the interceptor and
 * intercepts all coroutine continuations with [interceptContinuation] invocations.
 */
@SinceKotlin(&amp;quot;1.3&amp;quot;)
public interface ContinuationInterceptor : CoroutineContext.Element {
  public fun &amp;lt;T&amp;gt; interceptContinuation(continuation: Continuation&amp;lt;T&amp;gt;): Continuation&amp;lt;T&amp;gt;
  public fun releaseInterceptedContinuation(continuation: Continuation&amp;lt;*&amp;gt;)
  ...
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;interceptContinuation&lt;/code&gt;ã‹ã‚‰Continuationã‚’å—ã‘å–ã‚‹ã“ã¨ãŒã§ãã€Continuationã¯è‡ªèº«ã®CoroutineContextã‚’æŒã£ã¦ã„ã‚‹ã®ã§ã€ãã“ã‹ã‚‰Jobã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚ãã‚Œã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§Android Lifecycleã¨å”èª¿ã—ã¦å‹•ãContinuationInterceptorã‚’å®Ÿè£…ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;class LifecycleContinuationInterceptor(
  private val lifecycle: Lifecycle
) : ContinuationInterceptor {
  override val key: CoroutineContext.Key&amp;lt;*&amp;gt;
    get() = ContinuationInterceptor

  override fun &amp;lt;T&amp;gt; interceptContinuation(continuation: Continuation&amp;lt;T&amp;gt;): Continuation&amp;lt;T&amp;gt; {
    // Continuationã‹ã‚‰Jobã‚’å–å¾—
    val job = continuation.context[Job]
    if (job != null) {
      lifecycle.addJob(job)
    }
    return continuation
  }
}

fun LifecycleOwner.addJob(job: Job) {
  lifecycle.addJob(job)
}

fun Lifecycle.addJob(job: Job) {
  val state = this.currentState
  val event = when (state) {
      ...
  }
  val observer = LifecycleJobObserver(job, event, this)
  this.addObserver(observer)
  job.invokeOnCompletion(observer)
}

private class LifecycleJobObserver(
  private val job: Job,
  private val event: Lifecycle.Event,
  private val lifecycle: Lifecycle
) : LifecycleObserver, CompletionHandler {
  @OnLifecycleEvent(Lifecycle.Event.ON_ANY)
  fun onEvent(owner: LifecycleOwner, event: Lifecycle.Event) {
    if (event == this.event) {
      owner.lifecycle.removeObserver(this)
      job.cancel()
    }
  }

  override fun invoke(cause: Throwable?) {
    lifecycle.removeObserver(this)
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã“ã‚Œã§ã€Android Lifecycleã¨å”èª¿ã—ã¦å‹•ãContinuationInterceptorãŒå‡ºæ¥ã¾ã—ãŸã€‚&lt;/p&gt;

&lt;p&gt;ãƒ•ãƒ«ã‚³ãƒ¼ãƒ‰ã¯&lt;a href=&#34;https://github.com/satoshun-android-example/AutoDisposeExample/blob/master/autodispose/src/main/java/com/github/satoshun/coroutine/autodispose/lifecycle/LifecycleContinuationInterceptor.kt&#34;&gt;ã“ã“ã«&lt;/a&gt;ã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ä½¿ã„æ–¹&#34;&gt;ä½¿ã„æ–¹&lt;/h2&gt;

&lt;p&gt;ä½¿ã„æ–¹ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;abstract class BaseActivity : AppCompatActivity(),
  CoroutineScope {

  private val job = Job()
  override val coroutineContext get() = job +
      Dispatchers.Main +
      LifecycleContinuationInterceptor(this) // ã“ã“ã§Interceptorã‚’ç™»éŒ²
}

class MainActivity : BaseActivity() {
  override fun onCreate(savedInstanceState: Bundle?) {
    super.onCreate(savedInstanceState)

    // onCreateã§launchã—ã¦ã„ã‚‹ã®ã§ã€onDestroyã§è‡ªå‹•çš„ã«ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã•ã‚Œã‚‹
    launch {
      ...
    }
  }

  override fun onResume() {
    super.onResume()

    // onResumeã§launchã—ã¦ã„ã‚‹ã®ã§ã€onPauseã§è‡ªå‹•çš„ã«ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã•ã‚Œã‚‹
    launch {
      ...
    }
  }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã¨ãªã‚Šã¾ã™ã€‚&lt;a href=&#34;https://github.com/uber/AutoDispose&#34;&gt;Rx-AutoDispose&lt;/a&gt;ã®ã‚ˆã†ã«å®Ÿè¡Œã—ãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã«å¿œã˜ã¦ã€ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã™ã‚‹å ´æ‰€ã‚’è‡ªå‹•çš„ã«ç™»éŒ²ã—ã¦ãã‚Œã¾ã™!!&lt;/p&gt;

&lt;h2 id=&#34;ã¾ã¨ã‚&#34;&gt;ã¾ã¨ã‚&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;ã‚‚ã£ã¨è‰¯ã„æ›¸ãæ–¹ãŒå‡ºæ¥ã‚‹ã‹æ¨¡ç´¢ã—ã¦ã„ã‚‹ã®ã§ã€ã‚ˆã‚Šé©ã—ãŸAPIç­‰ã‚’çŸ¥ã£ã¦ã„ã‚‹äººãŒã„ã‚Œã°æ•™ãˆã¦ãã‚Œã‚‹ã¨å¬‰ã—ã„ã§ã™ğŸ˜ŠğŸ˜ŠğŸ˜Š&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã§ã™ğŸ˜ƒ&lt;a href=&#34;https://github.com/satoshun-android-example/AutoDisposeExample&#34;&gt;satoshun-android-example/AutoDisposeExample&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    
    
    <item>
      <title>Fragmentã¨getViewLifecycleã®è©±</title>
      <link>https://satoshun.github.io/2018/12/view_lifecycle/</link>
      <pubDate>Fri, 21 Dec 2018 07:08:34 UTC</pubDate>
      <author>Sato Shun</author>
      <guid>https://satoshun.github.io/2018/12/view_lifecycle/</guid>
      <description>

&lt;p&gt;ã“ã®è¨˜äº‹ã§ã¯Fragmentã§LiveDataã«Observerã‚’ç™»éŒ²ã™ã‚‹ã¨ãã¯&lt;code&gt;Fragment#getViewLifecycle&lt;/code&gt;ã‚’ä½¿ã†ã¨è‰¯ã„ã¨ã„ã†è©±ã‚’ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã¾ãšã€Fragmentã®ãŠãŠã¾ã‹ãªãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã¯æ¬¡ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;onAttach&lt;/li&gt;
&lt;li&gt;onCreate

&lt;ul&gt;
&lt;li&gt;onCreateView&lt;/li&gt;
&lt;li&gt;onViewCreated

&lt;ul&gt;
&lt;li&gt;&amp;hellip;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;onDestoryView&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;onDestroy&lt;/li&gt;
&lt;li&gt;onDetach&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ã“ã“ã§é‡è¦ãªã®ã¯ã€&lt;code&gt;onDestroy&lt;/code&gt;ãŒå‘¼ã°ã‚Œã‚‹ã“ã¨ãªãã€è¤‡æ•°å›&lt;code&gt;onCreateView&lt;/code&gt;ãŒå‘¼ã°ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ç‚¹ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;ä¾‹ãˆã°ã€æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã¯é–“é•ã£ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;class MainFragment: Fragment() {
    ...
    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)
        viewModel.data.observe(this, Observer {
            ...
        })
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ãªãœãªã‚‰ã€LiveDataã«æ¸¡ã—ãŸthisï¼ˆLifecycleOwnerï¼‰ã¯ã€è‡ªèº«ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã«é§†å‹•ã™ã‚‹ãŸã‚ã§ã™ã€‚
ã“ã®ObserverãŒé–‹æ”¾ã•ã‚Œã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¯ã€Fragment#onDestroyãŒã‚³ãƒ¼ãƒ«ã•ã‚ŒãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã«ãªã‚Šã¾ã™ã€‚
ã—ã‹ã—å‰è¿°ã—ãŸã¨ãŠã‚Šã€Fragment#onDestroyãŒã‚³ãƒ¼ãƒ«ã•ã‚Œãšã«ã€è¤‡æ•°å›onCreateViewãŒã‚³ãƒ¼ãƒ«ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚ã€å‰ã®ObserverãŒé–‹æ”¾ã•ã‚Œãšã«æ®‹ã£ã¦ã—ã¾ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;å‰è¿°ã®ã‚³ãƒ¼ãƒ‰ã®Observerã¯Fragmentæœ¬ä½“ã®Lifecycleã«é§†å‹•ã•ã‚Œã‚‹ã®ã§ã¯ãªãã€Fragmentã®Viewã«é§†å‹•ã™ã‚‹ãŸã‚ã€ã“ã®å•é¡ŒãŒèµ·ã“ã‚Šã¾ã™ã€‚
ã‚ˆã£ã¦ã€Fragmentã«ã¯Viewç”¨ã®LifecycleãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚ãã‚ŒãŒã€&lt;code&gt;Fragment#getViewLifecycle&lt;/code&gt;ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;å‰è¿°ã®ã‚³ãƒ¼ãƒ‰ã¯æ¬¡ã®ã‚ˆã†ã«æ›¸ãã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;class MainFragment: Fragment() {
    ...
    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
        super.onViewCreated(view, savedInstanceState)
        // Viewã®LifecycleOwnerã‚’æ¸¡ã™
        viewModel.data.observe(viewLifecycleOwner, Observer {
            ...
        })
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã“ã®ã‚ˆã†ã«æ›¸ãã“ã¨ã§ã€ObserverãŒViewã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã«é§†å‹•ã™ã‚‹ãŸã‚ã€è¤‡æ•°ã®ObserverãŒç™»éŒ²ã•ã‚Œã‚‹å•é¡Œã‚’å›é¿ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ï¼ï¼&lt;/p&gt;

&lt;h2 id=&#34;è£œè¶³1&#34;&gt;è£œè¶³1&lt;/h2&gt;

&lt;p&gt;ObserverãŒé–‹æ”¾ã•ã‚Œã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¯onDestroyãŒã‚³ãƒ¼ãƒ«ã•ã‚Œã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¨ã¯åˆ¥ã«ã‚‚ã†1ã¤ã‚ã‚Šã¾ã™ã€‚
ãã‚Œã¯ã€Observerã¸ã®å‚ç…§ãŒãªããªã£ãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã™ã€‚å†…éƒ¨çš„ã«Observerã¯WeakReferenceã§ä¿æŒã•ã‚Œã¦ãŠã‚Šã€å‚ç…§ãŒç„¡ããªã£ãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§GCã•ã‚Œã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;è£œè¶³2&#34;&gt;è£œè¶³2&lt;/h2&gt;

&lt;p&gt;Observerã®é‡è¤‡ç™»éŒ²å•é¡Œã¯attach/detachã‚’ç¹°ã‚Šè¿”ã™å ´åˆã«ãŠã“ã‚Šã¾ã™ã€‚
ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;while (true) {
    delay(3000)
    supportFragmentManager.commitNow {
        if (fragment.isDetached) attach(fragment)
        else detach(fragment)
ã€€  }
}
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    
    
    <item>
      <title>Dagger &#43; ViewModelã®åŸºæœ¬ç·¨ &#43; å®Ÿä¾‹ç·¨</title>
      <link>https://satoshun.github.io/2018/12/dagger_with_viewmodel/</link>
      <pubDate>Wed, 19 Dec 2018 09:59:20 UTC</pubDate>
      <author>Sato Shun</author>
      <guid>https://satoshun.github.io/2018/12/dagger_with_viewmodel/</guid>
      <description>

&lt;p&gt;ã“ã®è¨˜äº‹ã¯Daggerã¨Jetpackã®ViewModelã‚’ã‚ã‚‹ç¨‹åº¦çŸ¥ã£ã¦ã„ã‚‹å‰æã§é€²ã‚“ã§ã„ãã¾ã™ğŸ˜ƒ&lt;/p&gt;

&lt;h2 id=&#34;åŸºæœ¬ç·¨&#34;&gt;åŸºæœ¬ç·¨&lt;/h2&gt;

&lt;p&gt;ä¸€ç·’ã«Dagger + ViewModelã‚’ä½¿ã†ã®ã¯ãƒ„ãƒ©ãƒŸãŒã‚ã‚Šã¾ã™ã€‚ãã‚Œã¯ã€ViewModelã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã¯&lt;code&gt;ViewModelProvider&lt;/code&gt;ã‚’ä»‹ã—ã¦è¡Œã†å¿…è¦ãŒã‚ã‚‹ãŸã‚ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;ä¾‹ãˆã°ã€æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã¯é–“é•ã£ã¦ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;class MainViewModel @Inject constructor(...): ViewModel()

class MainActivity {
    @Inject lateinit var viewModel: MainViewModel

    ...
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã“ã®æ›¸ãæ–¹ã ã¨MainViewModelã¯Daggerå†…ã§è‡ªå‹•çš„ã«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã•ã‚Œã¦ã—ã¾ã†ã®ã§ã€ViewModelProviderã‚’ä»‹ã—ã¦ãã‚Œã¾ã›ã‚“ã€‚ã‚ˆã£ã¦æ¬¡ã®ã‚ˆã†ã«æ›¸ãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;class MainViewModel(...): ViewModel()

@Module
class MainActivityModule {
    @Provides
    fun provideMainViewModel(...) : MainViewModel {
        // ViewModelProviderã‚’ä½¿ã£ã¦ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã™ã‚‹
        return ViewModelProviders.of(...).get(MainViewModel::class.java)
    }
}

class MainActivity {
    @Inject lateinit var viewModel: MainViewModel

    ...
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;code&gt;@Provides&lt;/code&gt;ã‚’ä½¿ã„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã®æ–¹æ³•ã‚’æ˜ç¤ºçš„ã«è¨˜è¿°ã—ã¾ã™ã€‚ã“ã‚Œã§ã€ViewModelProviderã‚’ä»‹ã—ã¦MainViewModelã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã‚’ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã¾ãŸã€ViewModelã‚’ç›´æ¥æ³¨å…¥ã›ãšã«ã€&lt;code&gt;ViewModelProvider.Factory&lt;/code&gt;ã‚’æ³¨å…¥ã—ã€ViewModelã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã¯Activityï¼ˆor Fragmentï¼‰ã«ä»»ã›ã‚‹æ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚
ã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ã¨ãã¯ã€activity-ktxï¼ˆor fragment-ktxï¼‰ã«è¿½åŠ ã•ã‚ŒãŸæ‹¡å¼µé–¢æ•°ã¨çµ„ã¿åˆã‚ã›ã‚‹ã¨ã„ã„æ„Ÿã˜ã«æ›¸ã‘ã¾ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-kotlin&#34;&gt;class MainViewModel(...): ViewModel()
or
class MainViewModel @Inject constructor(...): ViewModel()

@Module
class MainActivityModule {
    @Provides
    fun provideViewModelFactory(...) : ViewModelProvider.Factory {
        // ã“ã“ã§MainViewModelã‚’ç”Ÿæˆã™ã‚‹Factoryã‚’å®šç¾©ã™ã‚‹
        return object: ViewModelProvider.Factory {
            ...
        }
    }
}

class MainActivity : AppCompatActivity() {
    // ViewModelã§ã¯ãªãã€Factoryã‚’æ³¨å…¥ã™ã‚‹ã®ãŒãƒã‚¤ãƒ³ãƒˆ
    @Inject lateinit var factory: ViewModelProvider.Factory

    // MainViewModelã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ç”Ÿæˆã¯Activityå´ã§è¡Œã†
    // activity-ktxã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹æ‹¡å¼µé–¢æ•°ã‚’ä½¿ã†
    private val viewModel: MainViewModel by viewModels { factory }

    ...
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;activity-ktxã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹&lt;code&gt;viewModels&lt;/code&gt;æ‹¡å¼µé–¢æ•°ã‚’ä½¿ã£ã¦MainViewModelã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã—ã¾ã™ã€‚ã“ã‚Œã§ViewModelã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚’ä¿ã¡ã¤ã¤ã€Daggerã§ä¾å­˜ã‚’è§£æ±ºã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;æ¬¡ã«ã€ã“ã®2ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ã©ã¡ã‚‰ã®æ›¸ãæ–¹ãŒã„ã„ã‹ã‚’è€ƒãˆã¦ã„ãã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;å®Ÿä¾‹ç·¨&#34;&gt;å®Ÿä¾‹ç·¨&lt;/h2&gt;

&lt;p&gt;&lt;code&gt;@Provides&lt;/code&gt;ã‚’ä½¿ã†ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã€Factoryã‚’ä½¿ã†ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯è‰¯ã„ã¨ã“ã‚ã€æ‚ªã„ã¨ã“ã‚ãŒãã‚Œãã‚Œã‚ã‚‹ã®ã§ã€å¥½ããªæ–¹ã‚’é¸ã¹ã°ã„ã„ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ä¸¡ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¨ã‚‚ã«ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã€ãƒã‚¦ãƒã‚¦ãŒå‡ºã¦ã„ã‚‹ã®ã§å‚è€ƒãƒªãƒ³ã‚¯ã‚’å¼µã£ã¦ãŠãã¾ã™ã€‚&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/nickbutcher/plaid/blob/master/dribbble/src/main/java/io/plaidapp/dribbble/dagger/DribbbleModule.kt#L43&#34;&gt;plaid&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;@Provides&lt;/code&gt;ã‚’ä½¿ã„ã€ViewModelã‚’ç›´æ¥æ³¨å…¥ã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³&lt;/li&gt;
&lt;li&gt;ViewModelã”ã¨ã«Factoryã‚¯ãƒ©ã‚¹ã‚’ãã‚Œãã‚Œå®šç¾©ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§è¨˜è¿°é‡ãŒå¤šã„&lt;/li&gt;
&lt;li&gt;ViewModelã®ä¾å­˜é–¢ä¿‚ãŒè§£æ±ºã§ããªã‹ã£ãŸã‚‰ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹

&lt;ul&gt;
&lt;li&gt;Daggerã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãƒã‚§ãƒƒã‚¯ãŒä¸Šæ‰‹ãå‹•ã&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;ViewModelã‚’ç›´æ¥æ³¨å…¥å‡ºæ¥ã‚‹ã®ã§ä½¿ã„å´ã‹ã‚‰ã™ã‚‹ã¨é–“é•ã£ãŸä½¿ã„æ–¹ã¯å‡ºæ¥ãªã„ï¼ˆã¯ãšï¼‰&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;a href=&#34;https://medium.com/@marco_cattaneo/android-viewmodel-and-factoryprovider-good-way-to-manage-it-with-dagger-2-d9e20a07084c&#34;&gt;Android ViewModel and FactoryProvider: good way to manage it with Dagger Multibindings&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Daggerã®multibindingsã‚’ä½¿ã„ã€ViewModel Factoryã‚’æ³¨å…¥ã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³&lt;/li&gt;
&lt;li&gt;æœ€åˆã«ä»•çµ„ã¿ã‚’å…¥ã‚Œã¦ã—ã¾ãˆã°ã€ã®ã¡ã®ã¡ã®è¨˜è¿°é‡ã¯å°‘ãªã„&lt;/li&gt;
&lt;li&gt;multibindingsã‚’ä½¿ã£ã¦ã„ã‚‹ã®ã§ãƒ©ãƒ³ã‚¿ã‚¤ãƒ æ™‚ã«è½ã¡ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹

&lt;ul&gt;
&lt;li&gt;Daggerã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãƒã‚§ãƒƒã‚¯ãŒä¸Šæ‰‹ãå‹•ã‹ãªã„&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;ViewModelã‚’ç›´æ¥æ³¨å…¥ã™ã‚‹æ›¸ãæ–¹ãŒå¯èƒ½ã ãŒã€ãã®å ´åˆViewModelProviderã‚’ä»‹ã•ãšã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã™ã‚‹ã®ã§æ­£ã—ããªã„

&lt;ul&gt;
&lt;li&gt;é–“é•ã£ãŸæ›¸ãæ–¹ãŒå‡ºæ¥ã‚‹&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/satoshun-android-example/ActivityKtxDaggerExample/tree/master/app/src/main/java/com/github/satoshun/example/sample&#34;&gt;Activity-Ktx + Dagger Example&lt;/a&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Factoryç”¨ã®ã‚«ã‚¹ã‚¿ãƒ ã‚¯ãƒ©ã‚¹ã‚’å®šç¾©ã—ã€ViewModel Factoryã‚’æ³¨å…¥ã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³

&lt;ul&gt;
&lt;li&gt;åƒ•ãŒä½œã£ãŸã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã§ã™ğŸ˜ƒã€€&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;æœ€åˆã«æ±ç”¨ã‚¯ãƒ©ã‚¹ã‚’å…¥ã‚Œã¦ã—ã¾ãˆã°ã€ã®ã¡ã®ã¡ã®è¨˜è¿°é‡ã¯å°‘ãªã„&lt;/li&gt;
&lt;li&gt;ViewModelãŒæä¾›ã•ã‚Œã¦ã„ãªã‹ã£ãŸã‚‰ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹

&lt;ul&gt;
&lt;li&gt;Daggerã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãƒã‚§ãƒƒã‚¯ãŒä¸Šæ‰‹ãå‹•ã&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;ViewModelã‚’ç›´æ¥æ³¨å…¥ã™ã‚‹æ›¸ãæ–¹ãŒå¯èƒ½ã ãŒã€ãã®å ´åˆViewModelProviderã‚’ä»‹ã•ãšã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã™ã‚‹ã®ã§æ­£ã—ããªã„

&lt;ul&gt;
&lt;li&gt;é–“é•ã£ãŸæ›¸ãæ–¹ãŒå‡ºæ¥ã‚‹&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;p&gt;å€‹äººçš„ã«ã¯ä¸€ç•ªæœ€å¾Œã®è‡ªåˆ†ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æŠ¼ã—ãŸã„ã¨ã“ã‚ã§ã™ãŒã€ä¸Šè¨˜ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ãã‚Œãã‚Œãƒ¡ãƒªãƒƒãƒˆ/ãƒ‡ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚‹ã¨æ€ã†ã®ã§ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚ˆã£ã¦ä½¿ã„åˆ†ã‘ã‚‹ã®ãŒã‚ˆã„ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&#34;ã¾ã¨ã‚&#34;&gt;ã¾ã¨ã‚&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;ä¸€ç•ªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«é©ã—ãŸãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’é©ç”¨ã™ã‚‹ã®ãŒè‰¯ã„ã¨æ€ã„ã¾ã™ğŸ˜ƒ&lt;/li&gt;
&lt;li&gt;Daggerã§ViewModelã‚µãƒãƒ¼ãƒˆã®&lt;a href=&#34;https://github.com/google/dagger/issues/1271&#34;&gt;Issue&lt;/a&gt;ãŒç«‹ã£ã¦ãŠã‚Šã€DaggerãŒViewModelã‚’ã‚µãƒãƒ¼ãƒˆã™ã‚‹è¨ˆç”»ãŒã‚ã‚Šã¾ã™

&lt;ul&gt;
&lt;li&gt;ãªã®ã§å‰è¿°ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã„ã¤ã‹éå»ã®ã‚‚ã®ã¨ãªã‚‹å¯èƒ½æ€§ãŒé«˜ã„ã§ã™ã€‚&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    
    
    <item>
      <title>Gradleã®Matching repositories to dependenciesã‚’ä½¿ã£ã¦ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å…ˆã‚’æŒ‡å®šã™ã‚‹</title>
      <link>https://satoshun.github.io/2018/12/gradle_deps_match/</link>
      <pubDate>Thu, 13 Dec 2018 11:16:06 UTC</pubDate>
      <author>Sato Shun</author>
      <guid>https://satoshun.github.io/2018/12/gradle_deps_match/</guid>
      <description>

&lt;p&gt;&lt;code&gt;JitPack&lt;/code&gt;ã‹ã‚‰ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã‹ã£ãŸã¨ã“ã‚ã€JCenterã‹ã‚‰ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã—ã¾ã†äº‹ä»¶ãŒã‚ã‚Šã¾ã—ãŸã€‚
è©³ã—ãã¯æ¬¡ã®ãƒªãƒ³ã‚¯ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚&lt;a href=&#34;https://blog.autsoft.hu/a-confusing-dependency/&#34;&gt;A Confusing Dependency&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å¾“æ¥ã®Gradle4ç³»ã§ã¯ãŠãã‚‰ãã€ä¸Šè¨˜ã®å•é¡Œã‚’è§£æ±ºã™ã‚‹ã“ã¨ã¯å‡ºæ¥ãªã„ã€ã‚‚ã—ãã¯éå¸¸ã«å›°é›£ã§ã—ãŸã€‚ã—ã‹ã—æ–°ã—ãGradle5.1ã« &lt;a href=&#34;https://docs.gradle.org/5.1-rc-1/userguide/declaring_repositories.html#sec::matching_repositories_to_dependencies&#34;&gt;Matching repositories to dependencies&lt;/a&gt; ãŒå°å…¥ã•ã‚Œã€ä¸Šè¨˜ã®å•é¡Œã‚’è§£æ±ºã§ãã¾ã™ã€‚ï¼ˆGradle5.1ã¯ã¾ã rcã§ã™ï¼‰&lt;/p&gt;

&lt;p&gt;ã¾ãšæœ€åˆã«å¾“æ¥ã®æ›¸ãæ–¹ã‚’èª¬æ˜ã—ã¦ã€æ¬¡ã«æ–°æ©Ÿèƒ½ã‚’ä½¿ã£ãŸæ›¸ãæ–¹ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚ä»Šå›ã¯ä¾‹ã¨ã—ã¦ã€&lt;code&gt;cloudflare&lt;/code&gt;ã®SDKã‚’ä¾å­˜é–¢ä¿‚ã«å…¥ã‚Œã‚‹ã“ã¨ã‚’ç›®æŒ‡ã—ã¾ã™ã€‚
ã¾ãŸã€ä»Šå›ã®æ¤œè¨¼ã«ã¯Gradle 5.1-rc-1ã‚’ä½¿ã„ã¾ã—ãŸã€‚&lt;a href=&#34;https://github.com/satoshun-android-example/GradleDependencyMatchingExample&#34;&gt;ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ã“ã“ã«ã‚ã‚Šã¾ã™&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ã¾ãšã¯å¾“æ¥ã®æ›¸ãæ–¹ã§ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-groovy&#34;&gt;// topã®build.gradle
allprojects {
    repositories {
        ...

        maven {
            url &amp;quot;https://storage.googleapis.com/cloudflare-maven/public/&amp;quot;
        }
    }
}

---

// projectã®build.gradle
dependencies {
    ...

    implementation &amp;quot;com.cloudflare:cloudflare-mobile-sdk:2.1.0@aar&amp;quot;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã“ã‚Œã ã¨å…¨ã¦ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«å¯¾ã—ã¦ã€repositoriesã§æŒ‡å®šã—ãŸ&lt;code&gt;https://storage.googleapis.com/cloudflare-maven/public/&lt;/code&gt;ã¸ãƒã‚§ãƒƒã‚¯ã‚’ã—ã«ã„ãã¾ã™ã€‚ã“ã®Urlã¯cloudflareã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã—ã‹ä½¿ã‚ã‚Œãªã„ã“ã¨ãŒæƒ³å®šã•ã‚Œã‚‹ã®ã§ã€ä»–ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«å¯¾ã—ã¦ã¯ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰åˆ¶é™ã‚’ã‹ã‘ãŸã„ã¨ã“ã‚ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;æ¬¡ã«æ–°æ©Ÿèƒ½ã‚’ä½¿ã£ãŸæ›¸ãæ–¹ã§ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-groovy&#34;&gt;// topã®build.gradle
allprojects {
    repositories {
        ...

        maven {
            url &amp;quot;https://storage.googleapis.com/cloudflare-maven/public/&amp;quot;
            content {
                // group idãŒcom.cloudflareã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã ã‘ã“ã®URLãŒæœ‰åŠ¹ã«ãªã‚‹
                includeGroup &amp;quot;com.cloudflare&amp;quot;
            }
        }
    }
}

---

// projectã®build.gradleã¯ä¸€ç·’
dependencies {
    ...

    implementation &amp;quot;com.cloudflare:cloudflare-mobile-sdk:2.1.0@aar&amp;quot;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;æ–°ã—ãcontentãƒ–ãƒ­ãƒƒã‚¯ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚ã“ã“ã§ã€ã“ã®URLãŒã©ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§æœ‰åŠ¹ã«ãªã£ã¦æ¬²ã—ã„ã‹ã‚’è¨˜è¿°ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚ä»Šå›ã®URLã¯&lt;code&gt;com.cloudflare:cloudflare-mobile-sdk&lt;/code&gt;ã§ã®ã¿æœ‰åŠ¹ã«ãªã£ã¦æ¬²ã—ã„ã®ã§ã€&lt;code&gt;includeGroup &amp;quot;com.cloudflare&amp;quot;&lt;/code&gt;ã¨group idæŒ‡å®šã™ã‚‹ã“ã¨ã§é”æˆã§ãã¾ã™ã€‚ã“ã‚Œã§cloudflareã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«å¯¾ã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰åˆ¶é™ã‚’ã‹ã‘ã‚‰ã‚Œã¾ã™!!&lt;/p&gt;

&lt;p&gt;ã¾ãŸä»Šå›ã®äº‹ä»¶ã®å ´åˆã€JCenterã«æ‚ªæ„ã®ã‚ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸã®ãŒå•é¡Œãªã®ã§ã€JCenterã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸã„ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®group idã‚’&lt;code&gt;includeGroup&lt;/code&gt;ã§æŒ‡å®šã—ã¦ã‚ã’ã‚Œã°è‰¯ã„ã§ã™ã€‚&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-groovy&#34;&gt;repositories {
    ...
    jcenter().mavenContent {
        includeGroup &amp;quot;org.jetbrains.kotlin&amp;quot;
        includeGroup &amp;quot;org.jetbrains.kotlinx&amp;quot;
        includeGroup &amp;quot;com.google.dagger&amp;quot;
        includeGroup &amp;quot;org.jetbrains&amp;quot;
        includeGroup &amp;quot;javax.inject&amp;quot;
        ...
    }
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;ã“ã‚Œã§ã€JCenterã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«åˆ¶é™ã‚’ã‹ã‘ã‚‰ã‚Œã¾ã™ğŸ˜ƒ&lt;/p&gt;

&lt;h2 id=&#34;è£œè¶³&#34;&gt;è£œè¶³&lt;/h2&gt;

&lt;p&gt;Androidã ã¨Gradle5ç³»ã‚’ä½¿ãˆã‚‹ã®ãŒAndroid Gradle Plugin3.4ã‹ã‚‰ã«ãªã‚‹ã¨æ€ã†ã®ã§ã€ã¾ã å…ˆã¯é•·ã„ğŸ˜‚&lt;/p&gt;
</description>
    </item>
    
    
  </channel>
</rss>