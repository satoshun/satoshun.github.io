<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Blogs on stsnãƒ–ãƒ­ã‚°</title>
    <link>https://satoshun.github.io/blog/</link>
    <description>Recent content in Blogs on stsnãƒ–ãƒ­ã‚°</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja</language>
    <copyright>Sato Shun</copyright>
    <lastBuildDate>Sun, 28 Feb 2021 07:53:27 +0000</lastBuildDate><atom:link href="https://satoshun.github.io/blog/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Paparazziã‚’ä½¿ã£ã¦ã€å®Ÿæ©Ÿã‚’ä½¿ã‚ãšã«ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã‚’å–ã‚‹</title>
      <link>https://satoshun.github.io/2021/02/paparazzi-snapshot-testing/</link>
      <pubDate>Sun, 28 Feb 2021 07:53:27 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2021/02/paparazzi-snapshot-testing/</guid>
      <description>ä»Šå›ã¯ã€Paparazzi ã®ä½¿ã„æ–¹ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚
ã¾ãŸã€ä»Šå›ã®è¨˜äº‹ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ github/satoshun/paparazzi ã«ã‚ã‚Šã¾ã™ã€‚
Paparazzi? squareç¤¾ãŒãƒ¡ãƒ³ãƒ†ã—ã¦ã„ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚ã“ã‚Œã‚’ä½¿ã†ã“ã¨ã§ã€å®Ÿæ©Ÿã‚’ä½¿ã‚ãšã«ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã‚’å–ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
https://github.com/cashapp/paparazzi
ä½¿ã„æ–¹ ãƒˆãƒƒãƒ—ã®build.gradleã«Gradleãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚»ãƒƒãƒˆã—ã¾ã™ã€‚
buildscript { repositories { mavenCentral() google() } dependencies { classpath &amp;#39;app.cash.paparazzi:paparazzi-gradle-plugin:0.7.0&amp;#39; } } ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®build.gradleã«ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’é©ç”¨ã—ã¾ã™ã€‚
apply plugin: &amp;#39;app.cash.paparazzi&amp;#39; ã“ã‚Œã§æº–å‚™ã¯å®Œäº†ã§ã™ã€‚
æ¬¡ã«ã€ã‚µãƒ³ãƒ—ãƒ«ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ã€lib_item.xml ã‚’æº–å‚™ã—ãŸã®ã§ã€ã“ã‚Œã‚’Paparazziã‚’ä½¿ã£ã¦ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã‚’å–ã‚‹ä¾‹ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚
class LayoutTest { @get:Rule var paparazzi = Paparazzi(deviceConfig = DeviceConfig.NEXUS_5) @Test fun sample() { val launch = paparazzi.inflate&amp;lt;LinearLayout&amp;gt;(R.layout.lib_item) paparazzi.snapshot(view = launch) } } Paparazziã«ã¯ã€Junit4 RuleãŒå®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚å¼•æ•°ã«ã¯ã€ãƒ‡ãƒã‚¤ã‚¹æƒ…å ±ã‚’æŒ‡å®šã—ã¾ã™ã€‚ä»Šå›ã¯ã€Nexus5ã‚’æŒ‡å®šã—ã¾ã—ãŸã€‚
æ¬¡ã«ã€Paparazziã‚¯ãƒ©ã‚¹ã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã€inflateã€snapshotãƒ¡ã‚½ãƒƒãƒ‰ã‚’ã‚³ãƒ¼ãƒ«ã—ã¾ã™ã€‚ã“ã‚Œã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ãªã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆ(png)ãŒä½œæˆã•ã‚Œã¾ã™ã€‚
  å®Ÿæ©Ÿã‚’ä½¿ã‚ãšã«ã€ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‚’å–ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã—ãŸã€‚
ã¾ã¨ã‚ çµæ§‹ãŠæ‰‹è»½ã«ä½¿ã†ã“ã¨ãŒå‡ºæ¥ã¾ã—ãŸã€‚ã¾ã APIãŒå®‰å®šã—ã¦ã„ãªã„?ãã†ãªã®ã§ã€ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ã«å…¥ã‚Œã‚‹ã®ã¯æ™‚æœŸå°šæ—©ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€å®‰å®šã—ã¦ããŸã‚‰ã€è©¦ã—ã¦ã¿ã‚‹ã®ã‚‚è‰¯ã•ãã†ã§ã™(ã“ãªã¿ã‹ã‚“)</description>
    </item>
    
    <item>
      <title>KMM: CocoaPodsã®Private Spec Repoã‚’ä½¿ã†</title>
      <link>https://satoshun.github.io/2021/02/kmm-cocoapods-external-source/</link>
      <pubDate>Sat, 20 Feb 2021 09:06:26 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2021/02/kmm-cocoapods-external-source/</guid>
      <description>(ã“ã®è¨˜äº‹ã¯ã€å‰æçŸ¥è­˜ã¨ã—ã¦ã€KMMã«ãŠã‘ã‚‹Cocoapodsã®çŸ¥è­˜ãŒå¿…è¦ã§ã™ã€‚)
 KMMã§ã¯ã€CocoaPodsãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½¿ã†ã¨ã€podspecãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã—ã¦ãã‚Œã¾ã™ã€‚ã“ã®podfileã¯ãƒ­ãƒ¼ã‚«ãƒ«ã§ã¯å‹•ã‹ã™ã“ã¨ãŒå‡ºæ¥ã‚‹ã‚“ã§ã™ãŒã€Private Spec Repoã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ã«ã¯ã€ã“ã‚Œã‚’ç·¨é›†ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
ä»¥ä¸‹ã€ç·¨é›†ã—ãŸã¨ã“ã‚ã‚’è¼‰ã›ã¾ã™ã€‚
Pod::Spec.new do |spec| ... spec.source = { :git =&amp;gt; &amp;#34;https://github.com/satoshun-android-example/KMMExternalSourceCocoapods.git&amp;#34;, :tag =&amp;gt; &amp;#34;0.0.2&amp;#34; } ... spec.preserve_paths = &amp;#34;**/*.*&amp;#34; ... spec.script_phases = [ { :name =&amp;gt; &amp;#39;Build cocoapodsshared&amp;#39;, :execution_position =&amp;gt; :before_compile, :shell_path =&amp;gt; &amp;#39;/bin/sh&amp;#39;, :script =&amp;gt; &amp;lt;&amp;lt;-SCRIPT  set -ev REPO_ROOT=&amp;#34;$PODS_TARGET_SRCROOT&amp;#34; &amp;#34;$REPO_ROOT/gradlew&amp;#34; -p &amp;#34;$REPO_ROOT&amp;#34; :cocoapodsshared:syncFramework \ -Pkotlin.native.cocoapods.target=$KOTLIN_TARGET \ -Pkotlin.native.cocoapods.configuration=$CONFIGURATION \ -Pkotlin.native.cocoapods.cflags=&amp;#34;$OTHER_CFLAGS&amp;#34; \ -Pkotlin.native.cocoapods.paths.headers=&amp;#34;$HEADER_SEARCH_PATHS&amp;#34; \ -Pkotlin.native.cocoapods.paths.frameworks=&amp;#34;$FRAMEWORK_SEARCH_PATHS&amp;#34; SCRIPT } ] 1. spec.source spec.sourceã®ã€GitHubã¨tagã‚’æŒ‡å®šã—ã¾ã™
2. spec.preserve_paths ã“ã‚Œã‚’æŒ‡å®šã™ã‚‹ã¨ã€sourceã®ã‚³ãƒ¼ãƒ‰ã‚’ä¿æŒã—ã¦ãã‚Œã¾ã™ã€‚
3. spec.</description>
    </item>
    
    <item>
      <title>Kotlin: RxJava -&gt; Coroutineã¸ã®ç½®ãæ›ãˆã«ä½¿ãˆã‚‹Migration.ktã®ç´¹ä»‹</title>
      <link>https://satoshun.github.io/2021/01/coroutine-migration-from-rxjava/</link>
      <pubDate>Sat, 30 Jan 2021 07:20:42 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2021/01/coroutine-migration-from-rxjava/</guid>
      <description>Kotlin Coroutineã«ã¯ Migration.kt ãŒç”¨æ„ã•ã‚Œã¦ãŠã‚Šã€RxJavaã‹ã‚‰Coroutineã¸ã®ç½®ãæ›ãˆã‚’æ‰‹ä¼ã£ã¦ãã‚Œã¾ã™ã€‚ã“ã®è¨˜äº‹ã§ã¯ã€ã©ã®ã‚ˆã†ã«ä½¿ã†ã‹ã‚’èª¬æ˜ã—ã¾ã™ã€‚
 ä¾‹ã¨ã—ã¦ã€æ¬¡ã®RxJavaã‚’ä½¿ã£ãŸã‚¯ãƒ©ã‚¹ãŒã‚ã‚‹ã¨ã—ã¾ã™ã€‚
import io.reactivex.Observable class TestRepository { fun getUser(): Observable&amp;lt;User&amp;gt; { ... } } ã“ã‚Œã¯ã€æ¬¡ã®ã‚ˆã†ã«ä½¿ã†ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
val disposble = repository.getUser() .subscribeOn(Schedulers.io()) .subscribe( { println(it) }, { println(it) } ) ... ã“ã®ã‚³ãƒ¼ãƒ‰ã‚’ã€Coroutineã«ç½®ãæ›ãˆã¦ã„ãã¾ã™ã€‚
ã¾ãšã€TestRepositoryã‚¯ãƒ©ã‚¹ã®RxJavaéƒ¨åˆ†ã‚’Coroutineã®Flowã«ã—ã¾ã™ã€‚
import kotlinx.coroutines.flow.Flow private class TestRepository { fun getUser(): Flow&amp;lt;User&amp;gt; { ... } } ãã†ã™ã‚‹ã¨ã€ä½¿ã£ã¦ã„ã‚‹å´ã®ã‚³ãƒ¼ãƒ‰ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚ãªãœãªã‚‰ã€Flowè‡ªä½“ã«ã¯ã€subscribeOnãªã©ã®é–¢æ•°ãŒç›´æ¥å®Ÿè£…ã•ã‚Œã¦ã„ãªã„ãŸã‚ã§ã™ã€‚
ã—ã‹ã—ã€Flowã«ã¯æ‹¡å¼µé–¢æ•°ã¨ã—ã¦ã€subscribeOnãªã©ã®é–¢æ•°ãŒå®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚ãªã®ã§ã€IDEã®è‡ªå‹•è£œå®Œã‚’ä½¿ã„importã™ã‚‹ã“ã¨ã§ã€ä¸€éƒ¨ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã‚’è§£æ¶ˆã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
import kotlinx.coroutines.flow.Flow import kotlinx.coroutines.flow.subscribe import kotlinx.coroutines.flow.subscribeOn val disposble = repository.getUser() .subscribeOn(Schedulers.io()) .subscribe( { println(it) }, { println(it) } ) ã“ã‚Œã§ã€ç½®ãæ›ãˆå®Œäº†ã‹ã¨ã„ã†ã¨ã€ãã†ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚å®Ÿã¯subscribeOnãªã©ã®é–¢æ•°ã¯å®šç¾©ã•ã‚Œã¦ã¯ã„ã‚‹ã‚‚ã®ã®ã€å®Ÿéš›ã«ã¯ä½¿ã†ã“ã¨ã¯å‡ºæ¥ã¾ã›ã‚“ã€‚</description>
    </item>
    
    <item>
      <title>Kotlin: objectã‚¯ãƒ©ã‚¹ã§æ‹¡å¼µé–¢æ•°ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ–ã™ã‚‹</title>
      <link>https://satoshun.github.io/2021/01/kotlin-object-extension-method/</link>
      <pubDate>Thu, 07 Jan 2021 12:16:07 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2021/01/kotlin-object-extension-method/</guid>
      <description>æœ€è¿‘firebase ktxã‚’ä½¿ã£ã¦ã„ã¦ã€è‰¯ã„æ›¸ãæ–¹ã ã¨æ€ã£ãŸã®ã§ç´¹ä»‹ã—ã¾ã™ã€‚
ã¾ãšã€firebase-ktxã®ä¸€éƒ¨ã‚³ãƒ¼ãƒ‰ã‚’æŠœç²‹ã€‚ã‚ˆã‚Šè©³ã—ã„ã‚³ãƒ¼ãƒ‰ã¯ firebase-common/Firebase.kt ã‚’è¦‹ã¦ãã ã•ã„ã€‚
package com.google.firebase.ktx object Firebase val Firebase.app: FirebaseApp get() = FirebaseApp.getInstance() ... ã“ã®ã‚³ãƒ¼ãƒ‰ã¯ã€ãƒˆãƒƒãƒ—ã«ç©ºã® object Firebaseã‚’å®šç¾©ã—ã€ãã“ã« app æ‹¡å¼µé–¢æ•°ã‚’ç”Ÿã‚„ã—ã¦ã„ã¾ã™ã€‚
ã•ã‚‰ã«ã€firebase-remoteconfig-ktx ç­‰ã§ã‚‚ã€object Firebase ã«å¯¾ã—ã¦ã€æ‹¡å¼µé–¢æ•°ã‚’ç”Ÿã‚„ã—ã¦ã„ã¾ã™ã€‚
package com.google.firebase.remoteconfig.ktx val Firebase.remoteConfig: FirebaseRemoteConfig get() = FirebaseRemoteConfig.getInstance() ... ã“ã†ã™ã‚‹ã“ã¨ã®ãƒ¡ãƒªãƒƒãƒˆã¯ã€å…±é€šã® object Firebaseä¸Šã«æ‹¡å¼µé–¢æ•°ã‚’å®šç¾©ã—ã¦ã„ã‚‹ã®ã§ã€IDEä¸Šã§ Firebase.ã¨ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ã—ã¦è‡ªå‹•è£œå®Œã‚’ã™ã‚Œã°ä¸€è¦§ã§å…¨ã¦ã‚’å‚ç…§ã§ãã‚‹ç‚¹ã§ã™ã€‚ï¼ˆãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä¾å­˜ã‚’Gradleã§æŒ‡å®šã—ã¦ã„ã‚‹å ´åˆï¼‰
ã¾ã¨ã‚ ãƒˆãƒƒãƒ—ã«ç©ºã®objectã‚¯ãƒ©ã‚¹ã‚’å®šç¾©ã—ã¦ã€ãã“ã«æ‹¡å¼µé–¢æ•°ã‚’ç”Ÿã‚„ã™ã“ã¨ã§ã€ä¼¼ãŸã‚‚ã®ã‚’ã¾ã¨ã‚ã‚‹ï¼ˆã‚°ãƒ«ãƒ¼ãƒ—åŒ–ï¼‰ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã€‚ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«é–¢æ•°ç­‰ã‚’å¤šç”¨ã—ã™ãã¦ã„ã‚‹å ´åˆã¯ã€ã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ¤œè¨ã—ã¦ã€è‡ªå‹•è£œå®Œç©ºé–“ã‚’ã‚­ãƒ¬ã‚¤ã«ã™ã‚‹ã¨è‰¯ã•ãã†ã€‚</description>
    </item>
    
    <item>
      <title>Android: å…¬å¼ã§Assisted InjectãŒã‚µãƒãƒ¼ãƒˆã•ã‚Œãã†</title>
      <link>https://satoshun.github.io/2020/12/dagger-official-assisted/</link>
      <pubDate>Wed, 30 Dec 2020 08:53:33 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2020/12/dagger-official-assisted/</guid>
      <description>Assisted Injectã®ã‚³ãƒ¼ãƒ‰ãŒå…¬å¼ã®Daggerã«å…¥ã£ãŸãã†ã§ã™ã€‚
https://twitter.com/JakeWharton/status/1344055984575160321
ã¾ã ãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¦ã„ãªã„ã‚“ã§ã™ãŒã€è»½ãè©¦ã—ã¦ã¿ã¾ã—ãŸã€‚
ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ åˆæœŸå€¤ã‚’å—ã‘å–ã‚ŠãŸã„ Counterã‚¯ãƒ©ã‚¹ãŒã‚ã‚‹ã¨ã—ã¦ã€ãã‚Œã‚’Assistedã‚’ä½¿ã£ã¦å®šç¾©ã—ã¦ã¿ã¾ã™ã€‚
class Counter @AssistedInject constructor( @Assisted private val initialValue: Int ) { val count = MutableStateFlow(initialValue) } @AssistedFactory interface CounterFactory { fun create(initialValue: Int): Counter } ã“ã‚Œã§å®šç¾©ã¯å®Œäº†ã§ã™ã€‚Factoryã‚¯ãƒ©ã‚¹ã‚’AssistedFactoryã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã§ã€æœ¬ä½“ã‚’AssistedInjectã¨Assistedã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ã£ã¦å®šç¾©ã—ã¾ã™ã€‚ square/AssistedInject ã¨ã¯é•ã„ AssistedModule ãŒå¿…è¦ãªããªã‚Šã¾ã—ãŸã€‚
ãã—ã¦æ¬¡ã®ã‚ˆã†ã«ä½¿ã„ã¾ã™ã€‚
@Inject lateinit var factory: CounterFactory val counter = factory.create(100) ... å®šç¾©ã—ãŸ CounterFactoryã‚’injectã—ã¦ã€ Counterã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã—ã¦ã„ã¾ã™ã€‚ã“ã¡ã‚‰ã¯ã„ã¤ã‚‚ã®Daggerã®è¨˜æ³•ã«ãªã‚Šã¾ã™ã€‚
ã¾ã¨ã‚ ã¤ã„ã«å…¬å¼ã«Assisted InjectionãŒå…¥ã‚Šã¾ã™:D
ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ satoshun/daggersampleã«ã‚ã‚Šã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ç’°å¢ƒã§ã®ã€dummyãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å°å…¥ã«ã‚ˆã‚‹ãƒ“ãƒ«ãƒ‰ã®é«˜é€ŸåŒ–</title>
      <link>https://satoshun.github.io/2020/12/multimodule_dummy_module/</link>
      <pubDate>Sat, 12 Dec 2020 04:18:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2020/12/multimodule_dummy_module/</guid>
      <description>æœ€åˆã«ã¾ã¨ã‚ å„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«é–“ã®çµåˆåº¦(publicãªã‚¯ãƒ©ã‚¹ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹)ã‚’ä½ãä¿ã¡ã€settings.gradleã‚’å·¥å¤«ã™ã‚‹ã“ã¨ã§ã€æœ€å°é™ã®ã‚³ãƒ¼ãƒ‰ã§dummyãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å°å…¥ã§ãã‚‹ã€‚dummyãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚³ãƒ¼ãƒ‰é‡ã¯é™ã‚Šãªãå°‘ãªã„ã®ã§ã€ãƒ“ãƒ«ãƒ‰æ™‚é–“ã®çŸ­ç¸®ã«ã¤ãªãŒã‚‹ã€‚
ã‚µãƒ³ãƒ—ãƒ«ã¯ https://github.com/satoshun-android-example/GradleDummyProject ã«ã‚ã‚Šã¾ã™ã€‚å°‘ã—æœ¬è¨˜äº‹ã¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åãªã©ãŒç•°ãªã‚Šã¾ã™ã€‚
æœ¬é¡Œ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¦æ¨¡ãŒå¤§ãããªã‚‹ã¨ã€ãƒ“ãƒ«ãƒ‰æ™‚é–“ã¯å¢—åŠ ã™ã‚‹å‚¾å‘ã«ã‚ã‚Šã¾ã™ã€‚ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ã‚ˆã‚‹ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã¯ã€å·®åˆ†ãƒ“ãƒ«ãƒ‰ã‚’åŠ¹ç‡è‰¯ãå‹•ä½œã•ã›ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚æœ¬è¨˜äº‹ã§ã¯ã€ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã€dummyãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å·®ã—è¾¼ã‚€ã“ã¨ã§ãƒ“ãƒ«ãƒ‰æ™‚é–“ã®æ”¹å–„ã‚’ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚
ã¾ãŸã€ã“ã®è¨˜äº‹ã§ã¯è§¦ã‚Œã¾ã›ã‚“ãŒã€æ©Ÿèƒ½ï¼ˆç”»é¢ï¼‰ã”ã¨ã«appãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½œã‚‹ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã‚‚è‰¯ã„ã¨æ€ã„ã¾ã™ã€‚
dummyãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã¯ ä¾‹ãˆã°ã€æ³¨æ–‡ã‚’è¡Œã†orderãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒã‚ã‚‹ã¨ã—ã¾ã™ã€‚ä»Šå›ã®é–‹ç™ºã§ã¯ã€ãã®æ³¨æ–‡ç”»é¢ã¯ä½¿ã†å¿…è¦ãŒãªã„ã¨ã—ã¾ã™ã€‚ä½¿ã†å¿…è¦ãŒãªã„ã®ã§ã€orderãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ä¸€æ™‚çš„ã«å‰Šé™¤ã—ã¦ã‚‚è‰¯ã„ã“ã¨ã«ãªã‚Šã¾ã™ã€‚ã—ã‹ã—ã€å˜ç´”ã«ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å‰Šé™¤ã—ã¦ã—ã¾ã†ã¨ã€ä½•ã‹ã—ã‚‰ã®å‚ç…§ã‚¨ãƒ©ãƒ¼ã«ãªã£ã¦ã—ã¾ã†ã®ã§ã€order-dummyãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½œã‚Šã€å‚ç…§ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã‚¯ãƒ©ã‚¹ã‚’å®Ÿè£…ã—ã¾ã™ã€‚å…·ä½“çš„ã«ã¯ã€orderãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹publicãªã‚¯ãƒ©ã‚¹ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§ã™ã€‚
ä»Šå›ã€orderãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ã¯å”¯ä¸€Orderã‚¯ãƒ©ã‚¹ã®ã¿ãŒpublicã¨ã—ã¦å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã¨ã™ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ã«æ›¸ãã¾ã™ã€‚
class Order { fun canOrder(): Boolean { ... } fun order() { ... } } class Order { fun canOrder(): Boolean { TODO(&amp;#34;dummy&amp;#34;) } fun order() { TODO(&amp;#34;dummy&amp;#34;) } } å¿…è¦ã«å¿œã˜ã¦ã€orderãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã€order-dummyãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ã§ãƒ“ãƒ«ãƒ‰æ™‚é–“ã‚’çŸ­ç¸®ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
ã©ã®ã‚ˆã†ã«ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã‹? settings.gradleã¨Gradleãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ç”¨ã„ã¾ã™ã€‚
ã¾ãšã€settings.gradleã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
if (properties[&amp;#34;dummyorder&amp;#34;]) { include &amp;#34;order&amp;#34; project(&amp;#39;:order&amp;#39;).projectDir = file(&amp;#39;dummyorder&amp;#39;) } else { include &amp;#39;:order&amp;#39; } dummyorderãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ã€ä½•ã‹ã—ã‚‰ã®å€¤ãŒã‚»ãƒƒãƒˆã•ã‚Œã¦ã„ãŸã‚‰ã€dummyorderãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ã†è¨­å®šã«ãªã‚Šã¾ã™ã€‚
dummyorderãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®è¨­å®šã¯ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰ã¯ -Pã€Android Studioã‹ã‚‰ã¯Command-Line Optionsã‹ã‚‰æŒ‡å®šã—ã¾ã™ã€‚
  ã“ã‚Œã§å®Œäº†ã§ã™ã€‚æ™®æ®µä½¿ã‚ãªã„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’dummyã«å·®ã—æ›¿ãˆã‚‹ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã§ã—ãŸã€‚å„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«é–“ã®çµåˆåº¦ãŒä½ã„ãªã‚‰ã€ã‚³ãƒ¼ãƒ‰é‡å°‘ãªããŠæ‰‹è»½ã«å°å…¥ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
é›‘è«‡ ã¾ã ã€ã“ã®æ©Ÿèƒ½ã‚’ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ã«å°å…¥ã—ã¦ã„ãªã„ã®ã§ã€ã‚‚ã—å°å…¥ã—ãŸã‚‰ã€ã©ã‚Œãã‚‰ã„ã®åŠ¹æœãŒã‚ã£ãŸã‹ã‚’è¿½è¨˜ã—ã¾ã™ã€‚åŠ¹æœãŒãªã„å¯èƒ½æ€§ã‚‚å¾®ãƒ¬å­˜ã§ã™ã€‚</description>
    </item>
    
    <item>
      <title>Android: æ—¢å­˜ã®Dagger Androidã‹ã‚‰Hiltã¸ã®ç§»è¡Œã«ã¤ã„ã¦</title>
      <link>https://satoshun.github.io/2020/10/dagger-android-migrate-to-hilt/</link>
      <pubDate>Sat, 24 Oct 2020 13:19:26 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2020/10/dagger-android-migrate-to-hilt/</guid>
      <description>dagger hiltã‚‚alphaã«ãªã£ã¦ä¹…ã—ã„ã®ã§ã€æ—¢å­˜ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’å¾ã€…ã«ç½®ãæ›ãˆã‚‹æ–¹æ³•ã‚’ç°¡å˜ãªã‚µãƒ³ãƒ—ãƒ«ã¨å…±ã«èª¬æ˜ã—ã¾ã™ã€‚
ã‚ˆã‚Šè©³ç´°ãªèª¬æ˜ã¯å…¬å¼ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ https://dagger.dev/hilt/migration-guide ã‚’è¦‹ã‚‹ã¨è‰¯ãã§ã™ã€‚
æ—¢å­˜ã®æ§‹æˆ æ—¢å­˜ã§ã¯dagger androidãŒä½¿ã‚ã‚Œã¦ã„ã¦ã€MainActivityã¨SubActivityãŒãã‚Œãã‚Œå®šç¾©ã•ã‚Œã¦ã„ã‚‹ã¨ã—ã¾ã™ã€‚ãã®ã†ã¡ã€MainActivityã‚’hiltã«ç§»è¡Œã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚
class App : DaggerApplication() { override fun androidInjector(): AndroidInjector&amp;lt;App&amp;gt; { return ... } } @Singleton @Component( modules = [ AndroidInjectionModule::class, MyActivityModule::class ] ) interface AppComponent : AndroidInjector&amp;lt;App&amp;gt; @Module( includes = [	... ] ) interface MyActivityModule { // ä»Šå›ç§»è¡Œã—ãŸã„daggerã®å®šç¾©  @ContributesAndroidInjector(modules = [MainFragmentModule::class]) fun contributeMainActivity(): MainActivity @ContributesAndroidInjector(modules = ...) fun contributeSubActivity(): SubActivity } ã¾ãšã¯ã€AppComponentã®hiltå¯¾å¿œã‚’ã—ã¾ã™ã€‚ã¾ãšhiltã®ä¾å­˜ã‚’build.gradleã«è¿½åŠ ã—ã¾ã™ã€‚ãã—ã¦ã€HiltAndroidAppã€EntryPointã€InstallInã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ã£ã¦ã€æ¬¡ã®ã‚ˆã†ã«æ›¸ãæ›ãˆã¾ã™ã€‚
@HiltAndroidApp class App : DaggerApplication() { @EntryPoint @InstallIn(SingletonComponent::class) interface ApplicationInjector : AndroidInjector&amp;lt;App&amp;gt; override fun androidInjector(): AndroidInjector&amp;lt;Any&amp;gt; { return EntryPoints.</description>
    </item>
    
    <item>
      <title>Android: RIP AsyncTask</title>
      <link>https://satoshun.github.io/2020/07/android-asynctask-deprecated/</link>
      <pubDate>Wed, 22 Jul 2020 02:58:19 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2020/07/android-asynctask-deprecated/</guid>
      <description>javadocã‚³ãƒ¡ãƒ³ãƒˆã¨ã‚³ãƒŸãƒƒãƒˆãƒ­ã‚°ã¯æ¬¡ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚
 AsyncTask was intended to enable proper and easy use of the UI thread. However, the most common use case was for integrating into UI, and that would cause Context leaks, missed callbacks, or crashes on configuration changes. It also has inconsistent behavior on different versions of the platform, swallows exceptions from {@code doInBackground}, and does not provide much utility over using {@link Executor}s directly.
 https://android-review.googlesource.com/c/platform/frameworks/base/+/1156409
AsyncTaskã®ç›®çš„ã¯ã€UIã‚¹ãƒ¬ãƒƒãƒ‰ã‚’ç°¡å˜ã«æ‰±ã†ãŸã‚ã®ã‚‚ã®ã ã‘ã©ã€Contextã®ãƒªãƒ¼ã‚¯ã‚„ã€configuration changeãªã©ã§ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã—ã¦ã—ã¾ã†ã®ã§ãã‚‚ãã‚‚ç›®çš„ã‚’é”æˆã—ã¦ã„ãªã„ã€‚ã¾ãŸã€Androidã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã”ã¨ã«æŒ¯ã‚‹èˆã„ã«ä¸€è²«æ€§ãŒãªã„ã®ã‚‚å•é¡Œã ã¨ã€‚ãŸã ã§ã•ãˆã€éåŒæœŸãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã¯é›£ã—ã„ã®ã«ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã”ã¨ã«æŒ¯ã‚‹èˆã„ãŒç•°ãªã£ã¦ã„ãŸã‚‰ã—ã‚“ã©ã•å€å¢—ã£ã¦è©±ã ã¨è¨€ã†è©±ã§ã™ã€‚</description>
    </item>
    
    <item>
      <title>Jetpack Compose: IOSchedã‚’Jetpack Composeã§æ›¸ã part1</title>
      <link>https://satoshun.github.io/2020/07/compose-iosched-scaffold/</link>
      <pubDate>Sun, 12 Jul 2020 05:14:48 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2020/07/compose-iosched-scaffold/</guid>
      <description>ã“ã®è¨˜äº‹ã§ã¯ã€Jetpack Composeã‚’å­¦ã¶ãŸã‚ã«ã€å…¬å¼ã® IoSched ã®UIã‚’Jetpack Composeã«æ›¸ãæ›ãˆã¦ã„ãè¨˜äº‹ã«ãªã‚Šã¾ã™ã€‚ å®Œå…¨ã«è¦‹ãŸç›®ã‚’åŒä¸€ã«ã™ã‚‹ã¨ã„ã†æ‰€ã¾ã§ã¯ã‚„ã‚‰ãšã«ã€å¤§ä½“ä¸€ç·’ã®è¦‹ãŸç›®ã§å¦¥å”ã™ã‚‹ã®ã§ã”äº†æ‰¿ä¸‹ã•ã„ã€‚
Part1ã§ã¯ã€ãƒ›ãƒ¼ãƒ ç”»é¢ã®Appbarã‚’ä½œã‚‹ã¨ã“ã‚ã¾ã§ã‚’ã‚„ã‚Šã¾ã™ã€‚
ã¾ãŸã€ã“ã®è¨˜äº‹ã®ã‚³ãƒ¼ãƒ‰ã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã¯Google I/Oã‚¢ãƒ—ãƒªã¨åŒç­‰ã§ã™ã€‚
Copyright 2014 Google Inc. All rights reserved. Licensed under the Apache License, Version 2.0 (the &amp;quot;License&amp;quot;); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an &amp;quot;AS IS&amp;quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</description>
    </item>
    
    <item>
      <title>Jetpack Compose: PreviewParameterã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ã£ã¦ã„ã‚ã„ã‚ãªãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ä½œã‚‹</title>
      <link>https://satoshun.github.io/2020/07/compose-preview/</link>
      <pubDate>Wed, 08 Jul 2020 11:36:04 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2020/07/compose-preview/</guid>
      <description>ã“ã®è¨˜äº‹ã§ã¯ã€PreviewParameterã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ã£ã¦è¤‡æ•°ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å‡ºã™æ–¹æ³•ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚
Previewã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦ Jetpack Composeã§ã¯ã€@Previewã‚’ä½¿ã†ã“ã¨ã§ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤ºã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
ä¾‹ãˆã°ã€TestScreenã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¯æ¬¡ã®ã‚ˆã†ã«å®šç¾©ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
@Composable fun TestScreen( user: User, count: Int ) { ... } @Preview(&amp;#34;test screen&amp;#34;) @Composable fun PreviewTestScreen() { TestScreen(user = User(id = &amp;#34;1&amp;#34;, name = &amp;#34;tom&amp;#34;), count = 10) } ã“ã“ã§ã€ã„ã‚ã„ã‚ãªUserã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤ºã—ãŸã„ã¨ã—ã¾ã™ã€‚æ„šç›´ã«ã‚„ã‚‹ãªã‚‰ã€@Previewã‚’è¤‡æ•°å®šç¾©ã™ã‚‹ã“ã¨ã§ã™ãŒã€@PreviewParameterã‚’ä½¿ã†ã“ã¨ã§ã‚ˆã‚Šã‚¹ãƒãƒ¼ãƒˆã«æ›¸ãã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
å…·ä½“çš„ã«ã¯ã€æ¬¡ã®ã‚ˆã†ã«æ›¸ãã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
class PreviewUserProvider : PreviewParameterProvider&amp;lt;User&amp;gt; { override val values: Sequence&amp;lt;User&amp;gt; get() = sequenceOf( User(id = &amp;#34;1&amp;#34;, name = &amp;#34;tom&amp;#34;), User(id = &amp;#34;2&amp;#34;, name = &amp;#34;ã‚¹ã‚ºã‚­&amp;#34;) ) } @Preview(&amp;#34;test screen parameter&amp;#34;) @Composable fun PreviewParameterTestScreen( @PreviewParameter(PreviewUserProvider::class) user: User ) { TestScreen(user = user, count = 10) } æœ€åˆã«ã€PreviewParameterProviderã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®Ÿè£…ã—ã¾ã™ã€‚PreviewParameterProviderã§ã¯ã€ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ãŸã„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ï¼ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼‰ã‚’å®šç¾©ã—ã¦ã‚ã’ã¾ã™ã€‚ å®Ÿè£…ã—ãŸã‚¯ãƒ©ã‚¹ã‚’ @PreviewParameter(PreviewUserProvider::class) ã¨æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¤‡æ•°å‡ºã™ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>Android: Dagger Hiltã¨Dagger Androidã®ç”Ÿæˆã‚³ãƒ¼ãƒ‰ã®é•ã„ã«ã¤ã„ã¦</title>
      <link>https://satoshun.github.io/2020/06/dagger-hilt-generated-code/</link>
      <pubDate>Sun, 21 Jun 2020 07:43:11 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2020/06/dagger-hilt-generated-code/</guid>
      <description>çµè«–  Dagger Hiltã¯1ã¤ã®SubcomponentãŒä½œã‚‰ã‚Œã‚‹ Dagger Androidã¯Activityã”ã¨ã«å°‚ç”¨ã®SubcomponentãŒä½œã‚‰ã‚Œã‚‹  ï¼ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«æ›¸ã„ã¦ã‚‹é€šã‚Šã§ã™ï¼‰
ç”Ÿæˆã‚³ãƒ¼ãƒ‰ã®é•ã„ã«ã¤ã„ã¦ Dagger HiltãŒçˆ†èª•ã—ãŸã®ã§ã€Dagger Androidã¨æ¯”è¼ƒã—ãŸã¨ãã«ã€ç”Ÿæˆã‚³ãƒ¼ãƒ‰ã«ã¯ã©ã®ã‚ˆã†ãªé•ã„ãŒã‚ã‚‹ã‹ã‚’æ¤œè¨¼ã—ã¦ã¿ã¾ã—ãŸã€‚ä»Šå›ã¯ã€Activityã®ã¿ã«ç„¦ç‚¹ã‚’å½“ã¦ã¦ã„ã¾ã™ã€‚
Daggerã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯2.28ã€Hiltã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯2.28-alphaã§æ¤œè¨¼ã—ã¾ã—ãŸã€‚
Dagger Androidã®ç”Ÿæˆã‚³ãƒ¼ãƒ‰ Dagger Androidã§ã¯ã€@ContributesAndroidInjectorã‚’ä½¿ã†ã“ã¨ã§ã€Activityã®Subcomponentã‚’è‡ªå‹•ç”Ÿæˆã—ã¦ãã‚Œã¾ã™ã€‚
ä¾‹ãˆã°ã€MainActivityã‚’æŒ‡å®šã™ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚
@Module(subcomponents = MainActivityModule_ContributeMainActivity.MainActivitySubcomponent.class) public abstract class MainActivityModule_ContributeMainActivity { private MainActivityModule_ContributeMainActivity() {} ... @Subcomponent public interface MainActivitySubcomponent extends AndroidInjector&amp;lt;MainActivity&amp;gt; { @Subcomponent.Factory interface Factory extends AndroidInjector.Factory&amp;lt;MainActivity&amp;gt; {} } } ã“ã®Subcomponentã¯ã€MainActivityå°‚ç”¨ã«ä½œã‚‰ã‚Œã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚MainActivityå°‚ç”¨ã«ä½œã£ã¦ã„ã‚‹ã®ã§ã€ã“ã®Subcomponenté…ä¸‹ã§ã¯ã€MainActivityã‚’ç›´æ¥injectã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚
class MainCounter @Inject constructor(private val mainActivity: MainActivity) {...} ã“ã®MainCounterã‚’ä»–ã®Activityã«å¯¾ã—ã¦injectã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã™ã€‚ã“ã‚ŒãŒã€å°‚ç”¨ã®Subcomponentã‚’Activityæ¯ã«ç‹¬ç«‹ã§ä½œã‚‹ãƒ¡ãƒªãƒƒãƒˆã§ã™ã€‚
æ¬¡ã«ã€Dagger Hiltã‚’è¦‹ã¦ã¿ã¾ã™ã€‚
Dagger Hiltã®ç”Ÿæˆã‚³ãƒ¼ãƒ‰ Dagger Hiltã§ã¯ã€@AndroidEntryPointã‚’ä½¿ã†ã“ã¨ã§ã€Activityã®Subcomponentã‚’è‡ªå‹•ç”Ÿæˆã—ã¦ãã‚Œã¾ã™ã€‚
ä¾‹ãˆã°ã€MainActivityã¨ã€SubActivityã‚’æŒ‡å®šã™ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚
@Subcomponent( modules = { FragmentCBuilderModule.class, ViewCBuilderModule.class, DefaultViewModelFactories.ActivityModule.class, HiltWrapper_ActivityModule.class, MainActivityModule.</description>
    </item>
    
    <item>
      <title>Android: ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã§Freeformãƒ¢ãƒ¼ãƒ‰ã‚’ä½¿ã†</title>
      <link>https://satoshun.github.io/2020/06/android-emulator-freeform/</link>
      <pubDate>Sat, 13 Jun 2020 08:38:48 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2020/06/android-emulator-freeform/</guid>
      <description>ãŠãã‚‰ã 30.0.10 ã‹ã‚‰ã€Freeformãƒ¢ãƒ¼ãƒ‰ãªã‚‹ã‚‚ã®ãŒã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã§å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ãŸã®ã§ã€ãã‚Œã®ç´¹ä»‹ã§ã™ã€‚
ã“ã®è¨˜äº‹ã§ã¯ã€Android Studio 4.2 Preview1ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚
ä½¿ã„æ–¹ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã¯ç°¡å˜ã§ã€AVD Manager -&amp;gt; Create Virtual Device ã‹ã‚‰ã€ 13.5&amp;quot; Freeform ã‚’æŒ‡å®šã—ã¾ã™ã€‚
  å‹•ä½œä¾‹ Clockã‚¢ãƒ—ãƒªã§è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚æ¬¡ã®gifã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ç”»åƒã®ã‚ˆã†ã«å‹•ä½œã‚’ã—ã¾ã™ã€‚
  ã‚¢ãƒ—ãƒªã‚’ç«‹ã¡ä¸Šã’ãŸå¾Œã«ã€ç°¡å˜ã«ç”»é¢ã‚µã‚¤ã‚ºã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
ã¾ã¨ã‚ è¤‡æ•°ã®ç«¯æœ«ã‚µã‚¤ã‚ºã§ç¢ºèªã—ãŸã„æ™‚ãªã©ã«ã€ä¾¿åˆ©ãªã®ã‹ãªã¨æ€ã„ã¾ã—ãŸï¼ˆã“ãªã¿ã‹ã‚“ï¼‰</description>
    </item>
    
    <item>
      <title>Android: ActivityResultContractã‚’ä½¿ã£ã¦Runtime Permissionsã‚’å®Ÿè£…ã™ã‚‹</title>
      <link>https://satoshun.github.io/2020/06/jetpack-activity-permission-contract/</link>
      <pubDate>Thu, 11 Jun 2020 10:47:24 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2020/06/jetpack-activity-permission-contract/</guid>
      <description>Activity 1.2.0-alpha02ã‹ã‚‰å°å…¥ã•ã‚ŒãŸã€ActivityResultContractã‚’ä½¿ã†ã“ã¨ã§ã€Runtime Permissionsã‚’ã„ã„æ„Ÿã˜ã«å®Ÿè£…ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã—ãŸã€‚
ã“ã®è¨˜äº‹ã§ã¯ã€ã©ã®ã‚ˆã†ã«å®Ÿè£…ã™ã‚Œã°è‰¯ã„ã‹ã‚’ç°¡å˜ã«èª¬æ˜ã—ã¾ã™ã€‚
å˜ä¸€ã®Permissonã‚’è¦æ±‚ã™ã‚‹ æ–°ã—ãè¿½åŠ ã•ã‚ŒãŸ registerForActivityResult æ‹¡å¼µé–¢æ•°ã«ã€ActivityResultContracts.RequestPermission()ã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€å˜ä¸€ã®Permissionã‚’è¦æ±‚ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
ä¾‹ãˆã°ã€android.permission.ACCESS_FINE_LOCATIONãŒæ¬²ã—ã„æ™‚ã¯ã€æ¬¡ã®ã‚ˆã†ã«æ›¸ãã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
class HogeActivity : AppCompatActivity() { // å®šç¾©å´  private val requestLocation = registerForActivityResult( ActivityResultContracts.RequestPermission(), ACCESS_FINE_LOCATION ) { isGranted -&amp;gt; // Permissionã®å–å¾—ã«æˆåŠŸã—ãŸã‹ã©ã†ã‹ã€Booleanå€¤ã§è¿”ã£ã¦ãã‚‹  Toast.makeText(this@AppActivity, &amp;#34;isGranted $isGranted&amp;#34;, Toast.LENGTH_LONG).show() } private fun hoge() { // å‘¼ã³å‡ºã—å´  requestLocation.launch(Unit) } } è¤‡æ•°ã®Permissonã‚’è¦æ±‚ã™ã‚‹ è¤‡æ•°ã®å ´åˆã¯ã€ActivityResultContracts.RequestMultiplePermissions()ã‚’æŒ‡å®šã—ã¾ã™ã€‚
ä¾‹ãˆã°ã€android.permission.ACCESS_FINE_LOCATIONã€android.permission.READ_EXTERNAL_STORAGEãŒæ¬²ã—ã„æ™‚ã¯ã€æ¬¡ã®ã‚ˆã†ã«æ›¸ãã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
class HogeActivity : AppCompatActivity(R.layout.app_act) { // å®šç¾©å´  private val requestPermissions = registerForActivityResult( ActivityResultContracts.RequestMultiplePermissions(), arrayOf(ACCESS_FINE_LOCATION, READ_EXTERNAL_STORAGE ) { grants -&amp;gt; // Permissionã®å–å¾—ã«æˆåŠŸã—ãŸã‹ã©ã†ã‹ã€Map&amp;lt;String, Boolean&amp;gt;&amp;gt;ã§è¿”ã£ã¦ãã‚‹  Toast.</description>
    </item>
    
    <item>
      <title>avocadoã¨GitHub Actionsã‚’ä½¿ã£ã¦ã€Vector Drawableã‚’æœ€é©åŒ–ã™ã‚‹</title>
      <link>https://satoshun.github.io/2020/05/android-avocado-with-github-actions/</link>
      <pubDate>Wed, 27 May 2020 03:52:50 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2020/05/android-avocado-with-github-actions/</guid>
      <description>Vector Drawableã‚’æœ€é©åŒ–ã™ã‚‹ avocadoã¨ã€GitHub Actionsçµ„ã¿åˆã‚ã›ãŸè©±ã§ã™ã€‚
ğŸ¥‘avocadoğŸ¥‘? avocadoã‚’ä½¿ã†ã“ã¨ã§ã€Vector Drawableã‚’æœ€é©åŒ–ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ä½¿ã„æ–¹ã¯ç°¡å˜ã§ã™ã€‚
avocado [file name] Vector Drawableã«ã‚ˆã£ã¦ã¯ã€çµæ§‹æœ€é©åŒ–ã•ã‚Œã¾ã™ã€‚
GitHub Actionsã«çµ„ã¿è¾¼ã‚€ 1é€±é–“å˜ä½ã§avocadoã‚’å®Ÿè¡Œã—ã¦ã€PRã‚’ä½œã‚‹GitHub Actionsã«ãªã‚Šã¾ã™ã€‚
name: avocado on: schedule: - cron: &amp;#39;0 0 * * 0&amp;#39; jobs: build: runs-on: ubuntu-latest steps: - name: Checkout uses: actions/checkout@v2 - name: Setup node uses: actions/setup-node@v1 with: node-version: &amp;#39;12&amp;#39; - name: Setup avocado run: npm install -g avocado - name: Run avocado run: find . -type f -name *.xml | xargs grep &amp;#34;&amp;lt;/vector&amp;gt;&amp;#34; -rl | avocado - name: PR id: cpr uses: peter-evans/create-pull-request@v2 with: token: ${{ secrets.</description>
    </item>
    
    <item>
      <title>Android: ConstraintLayoutã®å­ã«RecyclerViewã‚’é…ç½®ã—ã¦ã€Match Constraintsã‚’è¨­å®šã™ã‚‹ã¨è‰¯ããªã„æŒ™å‹•ã‚’ã™ã‚‹</title>
      <link>https://satoshun.github.io/2020/05/recyclerview-with-match-constraints/</link>
      <pubDate>Fri, 15 May 2020 13:25:48 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2020/05/recyclerview-with-match-constraints/</guid>
      <description>å‚™å¿˜éŒ²ã§ã™ã€‚
æ¬¡ã®ã‚ˆã†ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¯è‰¯ããªã„ãã¨ã„ã†è©±ã§ã™ã€‚
&amp;lt;androidx.constraintlayout.widget.ConstraintLayout android:layout_width=&amp;#34;match_parent&amp;#34; android:layout_height=&amp;#34;wrap_content&amp;#34;&amp;gt; &amp;lt;androidx.recyclerview.widget.RecyclerView android:id=&amp;#34;@+id/recycler&amp;#34; android:layout_width=&amp;#34;0dp&amp;#34; android:layout_height=&amp;#34;wrap_content&amp;#34; app:layout_constraintEnd_toEndOf=&amp;#34;parent&amp;#34; app:layout_constraintStart_toStartOf=&amp;#34;parent&amp;#34; app:layout_constraintTop_toTopOf=&amp;#34;parent&amp;#34; /&amp;gt; &amp;lt;/androidx.constraintlayout.widget.ConstraintLayout&amp;gt; ä»Šå›ã®ä¾‹ã§ã¯ã€LinearLayoutManagerã‚’LayoutManagerã¨ã—ã¦ä½¿ã£ã¦ã„ã¾ã™ã€‚ä»–ã®LayoutManagerã®å ´åˆã€ã©ã†ã„ã†æŒ™å‹•ã‚’ã™ã‚‹ã‹åˆ†ã‹ã‚Šã¾ã›ã‚“ã€‚ ã¾ãŸã€ConstraintLayout 2.0.0-beta06ã€RecyclerView 1.1.0ã§è©¦ã—ã¦ã„ã¾ã™ã€‚
ã©ã‚“ãªæŒ™å‹•ã‚’ã™ã‚‹ã‹? ã“ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¯ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆãƒ“ãƒ¥ãƒ¼ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã€ã™ã¹ã¦ã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’ãƒã‚¤ãƒ³ãƒ‰ã—ã‚ˆã†ã¨ã—ã¾ã™ã€‚
ä¾‹ãˆã°500å€‹ã®RecyclerViewã‚¢ã‚¤ãƒ†ãƒ ãŒã‚ã£ãŸã¨ãã«ã€ç”»é¢ã«åã¾ã‚‹ã‹ã©ã†ã‹ã«é–¢ã‚ã‚‰ãš500å€‹ã®ãƒã‚¤ãƒ³ãƒ‰ãŒèµ°ã‚Šã¾ã™ã€‚
with(recycler) { // æ¨ªæ–¹å‘ã®LinearLayoutManager  layoutManager = LinearLayoutManager( this@ConstraintMatchConstraintsActivity, RecyclerView.HORIZONTAL, false ) // 500å€‹ã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’ç”Ÿæˆ  adapter = SampleAdapter().apply { submitList((0..500).map { &amp;#34;$index$it&amp;#34; }) } } private class SampleAdapter : ListAdapter&amp;lt;String, RecyclerView.ViewHolder&amp;gt;(...) { ... override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) { println(getItem(position)) // ã“ã“ãŒã€0 ~ 500ã¾ã§è¡¨ç¤ºã•ã‚Œã‚‹  } } 500å€‹å…¨éƒ¨ã«å¯¾ã—ã¦ã€æœ€åˆã«ãƒã‚¤ãƒ³ãƒ‰ãŒèµ°ã‚‹ã®ã¯éåŠ¹ç‡ãªã®ã§è‰¯ããªã„ã§ã™ğŸ˜‚</description>
    </item>
    
    <item>
      <title>GitHub Actions: Androidãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®Gradleå‘¨ã‚Šã®è¨­å®šãƒ¡ãƒ¢</title>
      <link>https://satoshun.github.io/2020/05/github-actions-android/</link>
      <pubDate>Tue, 05 May 2020 06:11:48 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2020/05/github-actions-android/</guid>
      <description>GitHub Actionã®ã‚¹ãƒšãƒƒã‚¯
 7Gãƒ¡ãƒ¢ãƒªã®2 CPU  ã“ã‚“ãªæ„Ÿã˜ãŒè‰¯ã•ãã† org.gradle.daemon=false org.gradle.parallel=true org.gradle.jvmargs=-Xmx5120m org.gradle.workers.max=2 kotlin.incremental=false kotlin.compiler.execution.strategy=in-process kapt.use.worker.api=false kapt.incremental.apt=false android.databinding.incremental=false android.lifecycleProcessor.incremental=false  CatchUpã‚¢ãƒ—ãƒªã‚’å‚è€ƒã«ã—ã¦ã€ä¸Šã®è¨­å®šã‚’CIå®Ÿè¡Œæ™‚ã« ~/gradle/gradle.properites ã«é…ç½®ã™ã‚‹ã‚ˆã†ã«ã—ãŸ  ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã® gradle.properties ã‚ˆã‚Šå„ªå…ˆåº¦ãŒé«˜ã„ã®ã§ãã†ã—ãŸ   kaptã®è¨­å®šã¯ã„ã‚‰ãªã„ã‹ã‚‚ã—ã‚Œãªã„  workerä½¿ã‚ãªã„ã»ã†ãŒå®‰å®šã™ã‚‹ã‚“ã˜ã‚ƒãªã„ã‹ãªãƒ¼ã¨æ€ã£ã¦ã€falseã«ã—ã¦ã¿ãŸ   incrementalç³»ã¯ã€å…¨éƒ¨offã§è‰¯ã„ã¨æ€ã£ã¦ã„ã‚‹  è€ƒæ…®ã—ãŸã»ã†ãŒè‰¯ã•ãã†ãªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£  org.gradle.jvmarg  Xmx -XX:MaxPermSize -XX:+HeapDumpOnOutOfMemoryError   org.gradle.daemon org.gradle.parallel org.gradle.workers.max org.gradle.caching org.gradle.configureondemand kotlin.incremental kotlin.compiler.execution.strategy kotlin.parallel.tasks.in.project kapt.use.worker.api kapt.incremental.apt ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®ã‚„ã¤  android.databinding.incremental android.lifecycleProcessor.incremental=false firebasePerformanceInstrumentationEnabled    å‚è€ƒãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ insetterãƒ©ã‚¤ãƒ–ãƒ©ãƒª https://github.com/chrisbanes/insetter/tree/master/.github
JAVA_TOOL_OPTIONS: -Xmx5120m GRADLE_OPTS: -Dorg.gradle.daemon=false -Dorg.gradle.workers.max=2 -Dkotlin.incremental=false -Dkotlin.</description>
    </item>
    
    <item>
      <title>ã¡ã‚‡ã£ã¨è¤‡é›‘ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ConstraintLayoutã§çµ„ã‚“ã§ã¿ã‚‹part2</title>
      <link>https://satoshun.github.io/2020/04/constraintlayout-practical2/</link>
      <pubDate>Thu, 30 Apr 2020 04:38:16 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2020/04/constraintlayout-practical2/</guid>
      <description>ä»Šå›ã®è¨˜äº‹ã§ã¯æ¬¡ã®4ã¤ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ã€ConstraintLayoutã§çµ„ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚
  ãƒã‚¤ãƒ³ãƒˆã¯ä»¥ä¸‹ã®ï¼’ã¤ã§ã™ã€‚
 å„ç”»åƒã¯ã€å‰ã®ç”»åƒã«è¢«ã£ã¦ã„ã‚‹ å„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¯ã€4 or 3 or 2 or 1æšã€ã„ãšã‚Œã‹ã®æšæ•°ã‚’å–ã‚‹  ä¸Šè¨˜ã§ä¸Šã’ãŸãƒã‚¤ãƒ³ãƒˆã‚’ä¸­å¿ƒã«èª¬æ˜ã—ã¦ã„ãã¾ã™ã€‚
å„ç”»åƒã¯ã€å‰ã®ç”»åƒã«è¢«ã£ã¦ã„ã‚‹ ViewåŒå£«ã‚’è¢«ã›ã‚‹æ–¹æ³•ã¯ã„ãã¤ã‹ã‚ã‚‹ã¨æ€ã†ã‚“ã§ã™ãŒã€ä»Šå›ã¯layout_constraintStart_toStartOfã¨layout_marginStartã‚’ä½¿ã„è¡¨ç¾ã—ã¾ã™ã€‚
ã¾ãšã«ã€1ç•ªå·¦ã«é…ç½®ã™ã‚‹ImageViewã‚’å®šç¾©ã—ã¾ã™ã€‚
&amp;lt;com.google.android.material.imageview.ShapeableImageView android:id=&amp;#34;@+id/image1&amp;#34; android:layout_width=&amp;#34;32dp&amp;#34; android:layout_height=&amp;#34;32dp&amp;#34; android:layout_marginStart=&amp;#34;20dp&amp;#34; android:layout_marginBottom=&amp;#34;12dp&amp;#34; app:layout_constraintBottom_toBottomOf=&amp;#34;parent&amp;#34; app:layout_constraintStart_toStartOf=&amp;#34;parent&amp;#34; /&amp;gt; 1ç•ªå·¦ã«é…ç½®ã—ãŸã„ã®ã§ã€Start_toStartOfã«ã¯parentã‚’è¨­å®šã—ã¦ã„ã¾ã™ã€‚
æ¬¡ã«ã€2ç•ªç›®ã«é…ç½®ã™ã‚‹ImageViewã‚’è€ƒãˆã¾ã™ã€‚ã“ã®ImageViewã¯ã€1æšç›®ã®ImageViewã«è¢«ã‚‹ã‚ˆã†ã«é…ç½®ã—ã¾ã™ã€‚ãªã®ã§ã€ã“ã®1æšç›®ã®Viewã®end(çµ‚ç«¯)ã«åˆ¶ç´„ã‚’åˆã‚ã›ã¦ã—ã¾ã†ã¨ä¸Šæ‰‹ãé…ç½®ã§ãã¾ã›ã‚“ã€‚ ã‚ˆã£ã¦ã€1æšç›®ã®Viewã®start(å…ˆç«¯)ã«åˆ¶ç´„ã‚’åˆã‚ã›ã¾ã™ã€‚åˆã‚ã›ã¦marginStartã‚‚è¨­å®šã™ã‚‹ã“ã¨ã§è‰¯ã„æ„Ÿã˜ã®é…ç½®ãŒå‡ºæ¥ã¾ã™ã€‚
&amp;lt;com.google.android.material.imageview.ShapeableImageView android:id=&amp;#34;@+id/image2&amp;#34; android:layout_width=&amp;#34;32dp&amp;#34; android:layout_height=&amp;#34;32dp&amp;#34; android:layout_marginStart=&amp;#34;24dp&amp;#34; android:layout_marginBottom=&amp;#34;12dp&amp;#34; app:layout_constraintBottom_toBottomOf=&amp;#34;parent&amp;#34; app:layout_constraintStart_toStartOf=&amp;#34;@id/image1&amp;#34; /&amp;gt; 3ç•ªç›®ã€4ç•ªç›®ã®Viewã«ã‚‚åŒæ§˜ã®åˆ¶ç´„ã‚’è¨­å®šã—ã¦ã‚ã’ã¾ã™ã€‚æœ€çµ‚å½¢ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
&amp;lt;com.google.android.material.imageview.ShapeableImageView android:id=&amp;#34;@+id/image1&amp;#34; android:layout_width=&amp;#34;32dp&amp;#34; android:layout_height=&amp;#34;32dp&amp;#34; android:layout_marginStart=&amp;#34;20dp&amp;#34; android:layout_marginBottom=&amp;#34;12dp&amp;#34; app:layout_constraintBottom_toBottomOf=&amp;#34;parent&amp;#34; app:layout_constraintStart_toStartOf=&amp;#34;parent&amp;#34; /&amp;gt; &amp;lt;com.google.android.material.imageview.ShapeableImageView android:id=&amp;#34;@+id/image2&amp;#34; android:layout_width=&amp;#34;32dp&amp;#34; android:layout_height=&amp;#34;32dp&amp;#34; android:layout_marginStart=&amp;#34;24dp&amp;#34; android:layout_marginBottom=&amp;#34;12dp&amp;#34; app:layout_constraintBottom_toBottomOf=&amp;#34;parent&amp;#34; app:layout_constraintStart_toStartOf=&amp;#34;@id/image1&amp;#34; /&amp;gt; &amp;lt;com.google.android.material.imageview.ShapeableImageView android:id=&amp;#34;@+id/image3&amp;#34; android:layout_width=&amp;#34;32dp&amp;#34; android:layout_height=&amp;#34;32dp&amp;#34; android:layout_marginStart=&amp;#34;24dp&amp;#34; android:layout_marginBottom=&amp;#34;12dp&amp;#34; app:layout_constraintBottom_toBottomOf=&amp;#34;parent&amp;#34; app:layout_constraintStart_toStartOf=&amp;#34;@id/image2&amp;#34; /&amp;gt; &amp;lt;com.google.android.material.imageview.ShapeableImageView android:id=&amp;#34;@+id/image4&amp;#34; android:layout_width=&amp;#34;32dp&amp;#34; android:layout_height=&amp;#34;32dp&amp;#34; android:layout_marginStart=&amp;#34;24dp&amp;#34; android:layout_marginBottom=&amp;#34;12dp&amp;#34; app:layout_constraintBottom_toBottomOf=&amp;#34;parent&amp;#34; app:layout_constraintStart_toStartOf=&amp;#34;@id/image3&amp;#34; /&amp;gt;   1æšç›®ã€2æšç›®ã€3æšç›®ã€4æšç›®ãŒãã‚Œãã‚Œå°‘ã—ãšã¤è¢«ã£ã¦ã„ã‚‹ã®ãŒåˆ†ã‹ã‚‹ã¨æ€ã„ã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>ã¡ã‚‡ã£ã¨è¤‡é›‘ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ConstraintLayoutã§çµ„ã‚“ã§ã¿ã‚‹part1</title>
      <link>https://satoshun.github.io/2020/04/constraintlayout-practical1/</link>
      <pubDate>Tue, 07 Apr 2020 00:41:08 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2020/04/constraintlayout-practical1/</guid>
      <description>ä»Šå›ã®è¨˜äº‹ã§ã¯æ¬¡ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ã€ConstraintLayoutã§çµ„ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚
    ãƒã‚¤ãƒ³ãƒˆã¯ä»¥ä¸‹ã®3ã¤ã§ã™ã€‚
 4ã¤ã®ç”»åƒã‚’çµ„ã¿åˆã‚ã›ã¦ã€1ã¤ã®å††å½¢ç”»åƒã‚’ä½œã‚‹éƒ¨åˆ† 01/01ã®éƒ¨åˆ†ã¯å³ã«ã€@your_idã®éƒ¨åˆ†ã¯Your Nameã®å³ã«é…ç½®ã•ã‚Œã‚‹ Your Nameã®éƒ¨åˆ†ã®æ–‡å­—æ•°ãŒå¤šã„ã¨ãã«ã€&amp;hellip;ã§çœç•¥ã•ã‚Œã‚‹  ä»Šå›ã¯ã€4ã¤ã®ç”»åƒã‚’çµ„ã¿åˆã‚ã›ã‚‹éƒ¨åˆ†ã§ã€Material Componentã®ShapeableImageViewã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚ShapeableImageViewã®èª¬æ˜ã¯ã“ã“ã‚’è¦‹ã¦ãã ã•ã„ã€‚
ä¸Šè¨˜ã§ä¸Šã’ãŸãƒã‚¤ãƒ³ãƒˆã‚’ä¸­å¿ƒã«èª¬æ˜ã—ã¦ã„ãã¾ã™ã€‚
4ã¤ã®ç”»åƒã‚’çµ„ã¿åˆã‚ã›ã¦ã€1ã¤ã®å††å½¢ç”»åƒã‚’ä½œã‚‹éƒ¨åˆ† ã“ã®éƒ¨åˆ†ã¯ã€Picassoã€Glideãªã©ã®ç”»åƒãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«é ¼ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚‚ã‚ã‚‹ã¨æ€ã†ã‚“ã§ã™ãŒã€ä»Šå›ã¯ShapeableImageViewã‚’ä½¿ã„ãŸã„ã¨æ€ã„ã¾ã™ã€‚
4ã¤ã®ShapeableImageViewã‚’ä½¿ã„ã€ãã‚Œãã‚Œã€Œå·¦ä¸Šã€å³ä¸Šã€å·¦ä¸‹ã€å³ä¸‹ã€ã®éƒ¨åˆ†ãŒä¸¸ããªã‚‹Shapeã‚’å®šç¾©ã—ã¾ã™ã€‚ å·¦ä¸Šã‚’ä¸¸ãã™ã‚‹Shapeã¯æ¬¡ã®ã‚ˆã†ã«å®šç¾©ã§ãã¾ã™ã€‚
&amp;lt;style name=&amp;#34;ShapeAppearanceOverlay.Example.TopLeft&amp;#34; parent=&amp;#34;&amp;#34;&amp;gt; &amp;lt;item name=&amp;#34;cornerFamilyTopLeft&amp;#34;&amp;gt;rounded&amp;lt;/item&amp;gt; &amp;lt;item name=&amp;#34;cornerSizeTopLeft&amp;#34;&amp;gt;100%&amp;lt;/item&amp;gt; &amp;lt;/style&amp;gt; å³ã®ç”»åƒãŒã€ä¸Šã®Shapeã‚’æŒ‡å®šã—ãŸå ´åˆã«ãªã‚Šã¾ã™ã€‚
  å³ä¸Šã€å·¦ä¸‹ã€å³ä¸‹ã®Shapeã‚‚åŒã˜ã‚ˆã†ã«ä½œã£ã¦ã‚ã’ã¾ã™ã€‚ãã—ã¦ã€ãã‚Œã‚‰4ã¤Viewã®åˆ¶ç´„ã‚’æ¬¡ã®ã‚ˆã†ã«ä½œã£ã¦ã‚ã’ã¾ã™ã€‚
&amp;lt;com.google.android.material.imageview.ShapeableImageView android:id=&amp;#34;@+id/top_left&amp;#34; android:layout_width=&amp;#34;30dp&amp;#34; android:layout_height=&amp;#34;30dp&amp;#34; android:adjustViewBounds=&amp;#34;true&amp;#34; android:scaleType=&amp;#34;centerCrop&amp;#34; app:layout_constraintStart_toStartOf=&amp;#34;parent&amp;#34; app:layout_constraintTop_toTopOf=&amp;#34;parent&amp;#34; app:shapeAppearanceOverlay=&amp;#34;@style/ShapeAppearanceOverlay.Example.TopLeft&amp;#34; tools:src=&amp;#34;@tools:sample/avatars&amp;#34; /&amp;gt; &amp;lt;com.google.android.material.imageview.ShapeableImageView android:id=&amp;#34;@+id/top_right&amp;#34; android:layout_width=&amp;#34;30dp&amp;#34; android:layout_height=&amp;#34;30dp&amp;#34; android:adjustViewBounds=&amp;#34;true&amp;#34; android:scaleType=&amp;#34;centerCrop&amp;#34; app:layout_constraintStart_toEndOf=&amp;#34;@id/top_left&amp;#34; app:layout_constraintTop_toTopOf=&amp;#34;@id/top_left&amp;#34; app:shapeAppearanceOverlay=&amp;#34;@style/ShapeAppearanceOverlay.Example.TopRight&amp;#34; tools:src=&amp;#34;@tools:sample/avatars&amp;#34; /&amp;gt; &amp;lt;com.google.android.material.imageview.ShapeableImageView android:id=&amp;#34;@+id/bottom_left&amp;#34; android:layout_width=&amp;#34;30dp&amp;#34; android:layout_height=&amp;#34;30dp&amp;#34; android:adjustViewBounds=&amp;#34;true&amp;#34; android:scaleType=&amp;#34;centerCrop&amp;#34; app:layout_constraintStart_toStartOf=&amp;#34;@id/top_left&amp;#34; app:layout_constraintTop_toBottomOf=&amp;#34;@id/top_left&amp;#34; app:shapeAppearanceOverlay=&amp;#34;@style/ShapeAppearanceOverlay.Example.BottomLeft&amp;#34; tools:src=&amp;#34;@tools:sample/avatars&amp;#34; /&amp;gt; &amp;lt;com.google.android.material.imageview.ShapeableImageView android:id=&amp;#34;@+id/bottom_right&amp;#34; android:layout_width=&amp;#34;30dp&amp;#34; android:layout_height=&amp;#34;30dp&amp;#34; android:adjustViewBounds=&amp;#34;true&amp;#34; android:scaleType=&amp;#34;centerCrop&amp;#34; app:layout_constraintStart_toEndOf=&amp;#34;@id/bottom_left&amp;#34; app:layout_constraintTop_toTopOf=&amp;#34;@id/bottom_left&amp;#34; app:shapeAppearanceOverlay=&amp;#34;@style/ShapeAppearanceOverlay.</description>
    </item>
    
    <item>
      <title>Dagger2: Dagger2.27ã®æ–°ã—ã„ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å°‘ã—è©¦ã—ã¦ã¿ã‚‹</title>
      <link>https://satoshun.github.io/2020/03/dagger-improve-error-message/</link>
      <pubDate>Tue, 17 Mar 2020 09:33:04 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2020/03/dagger-improve-error-message/</guid>
      <description>Dagger 2.27ã§ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ”¹å–„ãŒå…¥ã£ã¦ã„ãŸã®ã§ã€è»½ãè©¦ã—ã¦ã¿ã¾ã—ãŸã€‚è©¦ã—ã¦ã¿ãŸç³»ã®è¨˜äº‹ã«ãªã‚Šã¾ã™ã€‚
ã¾ãšæœ‰åŠ¹ã«ã™ã‚‹ ã“ã®æ©Ÿèƒ½ã¯experimentalãªã®ã§ã€æ˜ç¤ºçš„ã«æœ‰åŠ¹ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚kaptã‚’ä½¿ã£ã¦ã„ã‚‹ãªã‚‰ã€æ¬¡ã®ã‚ˆã†ã«æœ‰åŠ¹ã«ã—ã¾ã™ã€‚
allprojects { afterEvaluate { extensions.findByName(&amp;#34;kapt&amp;#34;)?.arguments { arg(&amp;#34;dagger.experimentalDaggerErrorMessages&amp;#34;, &amp;#34;enabled&amp;#34;) } } } é©å½“ã«ã‚¨ãƒ©ãƒ¼ã‚’å‡ºã—ã¦ã¿ã‚‹ ã¾ãšã¯ã€Providesã®æŒ‡å®šã‚’å¤–ã—ã¦ã¿ã¾ã™ã€‚
// @Provides &amp;lt;-- ã‚¨ãƒ©ãƒ¼ã‚’å‡ºã—ãŸã„ã®ã§ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆ fun provideTestObject(): TestObject = TestObject() @Inject lateinit var testObject: TestObject ã™ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
æ–°ã—ã„ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°   
å¤ã„ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°   
 æ¬¡ã«ã€è¤‡æ•°Providesã®æŒ‡å®šã‚’ã—ã¦ã¿ã¾ã™ã€‚
@Provides fun provideTestObject(): TestObject = TestObject() @Provides fun provideTestObject2(): TestObject = TestObject() @Inject lateinit var testObject: TestObject ã™ã‚‹ã¨ã€æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
æ–°ã—ã„ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°   
å¤ã„ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°   
ã¾ã¨ã‚ å…¨éƒ¨ã®ã‚¨ãƒ©ãƒ¼ã‚’è¦‹ãŸã‚ã‘ã§ã¯ãªã„ã®ã§åˆ†ã‹ã‚‰ãªã„ã§ã™ãŒã€æ‰‹å…ƒã§è»½ãã‚¨ãƒ©ãƒ¼ã‚’å‡ºã—ã¦è¦‹ãŸæ„Ÿã˜ã ã¨ã€è¦‹ã‚„ã™ããªã£ãŸã‹ãªã¨æ€ã„ã¾ã™ã€‚ Daggerã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯é›£ã—ã„ã“ã¨ã§æœ‰å?</description>
    </item>
    
    <item>
      <title>Jetpack Compose: Ambientã‚’ä½¿ã£ã¦ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’æ³¨å…¥ã€å–å¾—ã™ã‚‹</title>
      <link>https://satoshun.github.io/2020/03/compose-ambient/</link>
      <pubDate>Thu, 05 Mar 2020 10:38:47 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2020/03/compose-ambient/</guid>
      <description>ã“ã‚“ã«ã¡ã‚ã£ãµã‚‹ğŸ°
ä»Šå›ã¯ã€Composeã«ã‚ã‚‹Ambientã‚’èª¬æ˜ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚ã“ã®è¨˜äº‹ã¯dev06ã§æ¤œè¨¼ã—ã¦ã„ã¾ã™ã€‚
å‰æãƒ»èª²é¡Œ ä¸€èˆ¬çš„ã«ã€Composableãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ãƒ‡ãƒ¼ã‚¿ã‚’æ¸¡ã™ã¨ãã€é–¢æ•°ã®å¼•æ•°ã‹ã‚‰æ¸¡ã—ã¾ã™ã€‚
@Composable fun MyView(someData: Data) { ... } ã“ã‚ŒãŒã‚·ãƒ³ãƒ—ãƒ« ã‹ã¤ åˆ†ã‹ã‚Šã‚„ã™ã„æ–¹æ³•ã§ã™ã€‚ ã—ã‹ã—ã€ä¸­é–“ã«å¤šãã®Composableãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒã‚ã‚‹å ´åˆã€å…¨ã¦ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å¼•æ•°ã§ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚Šã€ã•ã‚‰ã«æ¸¡ã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¯å°‘ã€…é¢å€’ã§å†—é•·ã§ã™ã€‚
ã“ã“ã§ã€Ambientã‚’ä½¿ã†ã¨ã™ã£ãã‚Šã¨æ›¸ãã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
Ambientã‚’ä½¿ã† ã¾ãšã€æœ€åˆã«Ambientã®å®šç¾©ã‚’ã—ã¾ã™ã€‚Ambientã®å®šç¾©ã¯ambientOfãƒ¡ã‚½ãƒƒãƒ‰ã‹ã‚‰è¡Œãˆã¾ã™ã€‚
ä»Šå›ã¯ä¾‹ã¨ã—ã¦ã€ExampleViewModelã‚’Ambientã§å®šç¾©ã—ã¦ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‹ã‚‰ä½¿ç”¨ã—ã¾ã™ã€‚
ã¾ãšã€å®šç¾©ã‚’è¡Œã„ã¾ã™ã€‚
val exampleViewModelAmbient = ambientOf&amp;lt;ExampleViewModel&amp;gt;() ã“ã‚Œã§å®šç¾©ã¯å®Œäº†ã§ã™ã€‚ambientOfãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã™ã ã‘ã§ã™ã€‚
æ¬¡ã«ã€ã“ã‚Œã‚’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‹ã‚‰ä½¿ã£ã¦ã¿ã¾ã™ã€‚
val exampleViewModelAmbient = ambientOf&amp;lt;ExampleViewModel&amp;gt;() @Composable fun ExampleApp() { val viewModel = ExampleViewModel() Providers(exampleViewModelAmbient provides viewModel) { MyView() } } @Composable private fun MyView() { val viewModel = exampleViewModelAmbient.current ... } ã“ã‚Œã§å®Œäº†ã§ã™ã€‚ã‚³ãƒ¼ãƒ‰ã‚’èª¬æ˜ã—ã¦ãã¾ã™ã€‚
 Providers(exampleViewModelAmbient provides viewModel)
Ambientã«å¯¾ã—ã¦å€¤ã‚’æ³¨å…¥ã—ã¦ã„ã¾ã™ã€‚ã“ã®å ´åˆã€å®šç¾©ã—ãŸexampleViewModelAmbientã«ã€ExampleViewModelã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’æ³¨å…¥ã€ã‚»ãƒƒãƒˆã—ã¦ã„ã¾ã™ã€‚
 val viewModel = exampleViewModelAmbient.current
æ³¨å…¥ã—ãŸå€¤ã¯ .current ã‹ã‚‰å–å¾—ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚ã“ã®å ´åˆã€ä¸Šè¨˜ã§ç”Ÿæˆã—ãŸExampleViewModelã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®å€¤ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>Jetpack Compose: Modelã¨state</title>
      <link>https://satoshun.github.io/2020/02/compose-model-state/</link>
      <pubDate>Sat, 29 Feb 2020 23:32:01 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2020/02/compose-model-state/</guid>
      <description>Jetpack Composeã®ãƒ‡ãƒ¼ã‚¿ç›£è¦–æ–¹æ³•ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚
state ã¾ãšã€stateãƒ¡ã‚½ãƒƒãƒ‰ã®ç´¹ä»‹ã‚’ã—ã¾ã™ã€‚
stateãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†ã¨å€¤ã‚’ç›£è¦–ã™ã‚‹ã“ã¨ãŒã§ãã€å€¤ãŒå¤‰æ›´ã•ã‚ŒãŸã¨ãã«è‡ªå‹•ã§å†æ§‹æˆï¼ˆrecompositionï¼‰ã—ã¦ãã‚Œã¾ã™ã€‚
æ¬¡ã®ã‚ˆã†ã«ã€Viewã®çŠ¶æ…‹ã‚’è¡¨ã™ã®ã«ä¾¿åˆ©ã«ä½¿ãˆã¾ã™ã€‚
@Composable fun MyCheckbox() { // åˆæœŸå€¤false  var checked by state { false } Checkbox( checked = checked, onCheckedChange = { // stateã§å®šç¾©ã—ãŸå€¤ã‚’æ›´æ–°ã™ã‚‹ã¨ã€è‡ªå‹•ã§UIã®å†æ§‹æˆï¼ˆrecomposition)ãŒèµ°ã‚‹  checked = it } ) } state { åˆæœŸå€¤ }ã£ã¦æ„Ÿã˜ã§å®šç¾©ã—ã¦ã€ãã®å€¤ã‚’æ›´æ–°ã™ã‚‹ã¨UIã®å†æ§‹æˆã‚’ã—ã¦ãã‚Œã¾ã™ã€‚
ã“ã®ä¾‹ã®å ´åˆã€CheckboxãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã‚‹ã¨ã€checkedã®çŠ¶æ…‹ãŒå¤‰ã‚ã‚Šã€ViewãŒå†æ§‹æˆã•ã‚Œã¾ã™ã€‚
Model æ¬¡ã«Modelã§ã™ã€‚Modelã¯ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã§å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚ Modelã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã¤ã‘ãŸã‚¯ãƒ©ã‚¹ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒç›£è¦–å¯¾è±¡ã«ãªã‚Šã€ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒæ›´æ–°ã•ã‚ŒãŸã¨ãã«è‡ªå‹•ã§å†æ§‹æˆã—ã¦ãã‚Œã¾ã™ã€‚
ä¾‹ãˆã°ã€ã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã‚«ã‚¦ãƒ³ãƒˆã‚’ä¿æŒã™ã‚‹Modelã¯æ¬¡ã®ã‚ˆã†ã«ä½œã‚Šã¾ã™ã€‚
@Model class Count( var count: Int = 0 ) @Composable fun MyText() { // Modelã®å®šç¾©ã€‚å¼•æ•°ã‹ã‚‰æ¸¡ã™ã“ã¨ã‚‚ã‚ã‚‹  val count = Count() Ripple(bounded = false) { Clickable(onClick = { // Modelã®å€¤ã‚’æ›´æ–°ã™ã‚‹ã¨ã€è‡ªå‹•ã§å†æ§‹æˆï¼ˆrecomposition)ãŒèµ°ã‚‹  count.</description>
    </item>
    
    <item>
      <title>Android: findViewTreeLifecycleOwnerã§Viewã‹ã‚‰LifecycleOwnerã‚’å–å¾—ã™ã‚‹</title>
      <link>https://satoshun.github.io/2020/02/jetpack-find-view-tree-lifecycle-owner/</link>
      <pubDate>Sun, 23 Feb 2020 01:50:36 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2020/02/jetpack-find-view-tree-lifecycle-owner/</guid>
      <description>lifecycle-2.3.0ã«ã€Viewã‹ã‚‰LifecycleOwnerã‚’å–å¾—ã™ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ãŒè¿½åŠ ã•ã‚Œãã†ãªã®ã§ã€ãã‚Œã®ãƒ¡ãƒ¢ã€‚
ã¾ã 2.3.0-alphaã¯ãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¦ã„ãªã„ã®ã§ã€androidxã®SNAPSHOTã§è©¦ã—ã¾ã™ã€‚ SNAPSHOTã®ä½¿ã„æ–¹ã¯ã€Using AndroidX Snapshot Buildsã‚’å‚è€ƒã«ã—ã¾ã—ãŸã€‚
ä½¿ã„æ–¹ é–¢æ•°ã®å®šç¾©ã¨ä½¿ã„æ–¹ã«ãªã‚Šã¾ã™ã€‚
// é–¢æ•°ã®å®šç¾© fun View.findViewTreeLifecycleOwner(): LifecycleOwner? // ä½¿ã„æ–¹ val owner = view.findViewTreeLifecycleOwner() // ä½¿ã„æ–¹ + Coroutine view.findViewTreeLifecycleOwner()?.lifecycleScope?.launch { ... } Viewã«æ‹¡å¼µé–¢æ•°ãŒå®šç¾©ã•ã‚Œã¦ãŠã‚Šã€ãã“ã‹ã‚‰ä½¿ã†ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
Fragmentã§ç”Ÿæˆã—ãŸViewã‹ã‚‰findViewTreeLifecycleOwnerã‚’ã—ãŸå ´åˆã«ã¯ã€ Fragmentã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãŒå–å¾—å‡ºæ¥ã‚‹ã®ã§ã€é©åˆ‡ãªãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚’ä½¿ã†ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
å†…éƒ¨å®Ÿè£… ã‚·ãƒ³ãƒ—ãƒ«ãªä½œã‚Šã«ãªã£ã¦ãŠã‚Šã€Viewã®ã‚¿ã‚°ã«Activityã‚„Fragmentã®LifecycleOwnerã‚’ç™»éŒ²ã—ã¦ã„ã¾ã™ã€‚
public class ViewTreeLifecycleOwner { public static void set(@NonNull View view, @Nullable LifecycleOwner lifecycleOwner) { view.setTag(R.id.view_tree_lifecycle_owner, lifecycleOwner); } @Nullable public static LifecycleOwner get(@NonNull View view) { LifecycleOwner found = (LifecycleOwner) view.getTag(R.id.view_tree_lifecycle_owner); ... } } ã˜ã‚ƒã‚setã¯ã©ã“ã‹ã‚‰è¡Œã‚ã‚Œã‚‹ã‹ã¨ã„ã†ã¨ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå´ã§è‡ªå‹•çš„ã«è¡Œã‚ã‚Œã¾ã™ã€‚ãªã®ã§ã€æ˜ç¤ºçš„ã«setã‚’å‘¼ã³å‡ºã™å¿…è¦ã¯ç‰¹ã«ã‚ã‚Šã¾ã›ã‚“ã€‚ å…·ä½“çš„ã«ã¯ã€Fragmentã¨ComponentActivityã‚’ç¶™æ‰¿ã—ã¦ã„ã‚Œã°Viewã‚’ç”Ÿæˆã—ãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã€è‡ªå‹•ã§ã‚»ãƒƒãƒˆã—ã¦ãã‚Œã¾ã™ã€‚
ãŸã ã—ã€è©¦ã—ãŸSNAPSHOTã ã¨AppCompatActivityã®ç¶™æ‰¿ã®å ´åˆã€è‡ªå‹•ã§LifecycleOwnerãŒç™»éŒ²ã•ã‚Œã¦ã„ã¾ã›ã‚“ã§ã—ãŸã€‚ ç¾çŠ¶ã ã¨ã€AppCompatActivityã®ç¶™æ‰¿ã®å ´åˆã¯æ‰‹å‹•ã§LifecycleOwnerã‚’ç™»éŒ²ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
override fun onCreate(savedInstanceState: Bundle?</description>
    </item>
    
    <item>
      <title>Gradle: BOMã‚’ä½¿ã£ã¦ä¾å­˜ã‚’æŒ‡å®šã™ã‚‹</title>
      <link>https://satoshun.github.io/2020/02/gradle-bom-android/</link>
      <pubDate>Tue, 18 Feb 2020 13:08:10 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2020/02/gradle-bom-android/</guid>
      <description>Gradleã®5ã‹ã‚‰ã€Bill Of Materials(BOM)ãŒä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ã“ã‚ŒãŒã€çµæ§‹ã„ã„ã‚‚ã®ã ã¨æ€ã£ãŸã®ã§ç´¹ä»‹ã—ã¾ã™ã€‚
ã¤ã„ã§ã«dependabotã®è©±ã‚‚ã¡ã‚‡ã£ã¨ã—ã¾ã™ã€‚
BOM? BOMã‚’ä½¿ã†ã“ã¨ã§ã€ è¤‡æ•°ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’çœç•¥ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ä¾‹ã«ã¯spring-bootãŒæŒ™ã’ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚
dependencies { // import a BOM  implementation platform(&amp;#39;org.springframework.boot:spring-boot-dependencies:1.5.8.RELEASE&amp;#39;) // define dependencies without versions  implementation &amp;#39;com.google.code.gson:gson&amp;#39; implementation &amp;#39;dom4j:dom4j&amp;#39; } gsonã€dom4jã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’çœç•¥ã—ã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚‹ã¨æ€ã„ã¾ã™ã€‚
Androidã§ã‚ˆãä½¿ã†ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§BOMã«å¯¾å¿œã—ã¦ã„ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã¯ã€ä¾‹ãˆã°æ¬¡ãŒã‚ã‚Šã¾ã™ã€‚
 OkHttp Kotlin Coroutine Firebase  ä¾‹ãˆã°ã€OkHttpãªã‚‰ã“ã‚“ãªæ„Ÿã˜ã§æ›¸ã‘ã¾ã™ã€‚
dependencies { implementation platform(&amp;#34;com.squareup.okhttp3:okhttp-bom:4.4.0&amp;#34;) implementation &amp;#34;com.squareup.okhttp3:okhttp&amp;#34; implementation &amp;#34;com.squareup.okhttp3:logging-interceptor&amp;#34; } BOMã‚’ä½¿ã†ã“ã¨ã§ã€é–¢é€£ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã¾ã¨ã‚ã¦ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹ã®ã§ã¨ã¦ã‚‚ä¾¿åˆ©ã§ã™ã€‚
dependabot? ç›´æ¥ã¯BOMã«é–¢ä¿‚ãªã„ã‚“ã§ã™ã‘ã©ã€æœ€è¿‘ã€dependabotãŒä¾¿åˆ©ã ã¨è‡ªåˆ†ã®ä¸­ã§è©±é¡Œã«ãªã£ã¦ã„ã¦ã€ã“ã‚Œã¯ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’è‡ªå‹•ã§ã‚„ã£ã¦ãã‚Œã‚‹botã«ãªã‚Šã¾ã™ã€‚
ä¾‹ãˆã°ã€ã“ã‚“ãªæ„Ÿã˜ã®PRã‚’ä½œã£ã¦ãã‚Œã¾ã™ã€‚
Bump versions.retrofit from 2.7.0 to 2.7.1
    ãã‚Œã§dependabotã£ã¦ã€versions.retrofit = &#39;2.7.1&#39;ã£ã¦æ„Ÿã˜ã§ã€å¤‰æ•°ã§å®šç¾©ã™ã‚‹ã¨æ¤œçŸ¥ã§ããªã„ã£ã¦æ€ã£ã¦ã„ãŸã‚“ã§ã™ã‘ã©ã€ ã„ã‚ã„ã‚è©¦ã—ã¦ã¿ãŸã‚‰ã€æ™®é€šã«å‡ºæ¥ã¾ã—ãŸ:D
BOMã¨dependabotã¯ç›¸æ€§ã„ã„ãï¼ï¼ã£ã¦æ›¸ã“ã†ã¨æ€ã£ãŸã‚“ã§ã™ã‘ã©ã€å¤‰æ•°ã®å ´åˆã§ã‚‚ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’æ¤œçŸ¥ã—ã¦ãã‚ŒãŸã®ã§ã€ç‰¹ã«é–¢ä¿‚ãªã‹ã£ãŸã§ã™ğŸ˜…
ã¨ã¯ã„ãˆã€ã‚ã–ã‚ã–è‡ªå‰ã§å¤‰æ•°å®šç¾©ã™ã‚‹å¿…è¦ã¯ãªããªã‚‹ã®ã§ã€BOMã¯ä¾¿åˆ©ã§ã™ï¼
ã¾ã¨ã‚  BOMã¯ã„ã„ãã€œ dependabotã¯ã„ã„ãã€œ  </description>
    </item>
    
    <item>
      <title>doOnNextLayoutã€doOnLayoutã€doOnPreDrawã®é•ã„ã¨ã€Coroutineã§ã“ã‚Œã‚‰ã‚’å‹•ã‹ã—ã¦ã¿ã‚‹</title>
      <link>https://satoshun.github.io/2020/02/android-doonxxx/</link>
      <pubDate>Tue, 11 Feb 2020 14:02:02 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2020/02/android-doonxxx/</guid>
      <description>ã‚¿ã‚¤ãƒˆãƒ«ã«ã‚ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã¯Jetpack core-ktxã«å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚
 doOnNextLayout doOnLayout doOnPreDraw  ã“ã‚Œã‚‰ã‚’é›°å›²æ°—ã§ä½¿ã£ã¦ã„ãŸã®ã§ã€è»½ãèª¿ã¹ã¦ã¿ã¾ã—ãŸã€‚
doOnNextLayout ã“ã‚Œã¯ã€æŒ‡å®šã—ãŸViewãŒãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã•ã‚ŒãŸã¨ãã«å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚ ãªã®ã§ã€measureã€layoutã®å¾Œã«ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã•ã‚Œã¾ã™ã€‚
æ³¨æ„ã¨ã—ã¦ã¯ã€ã€Œæ—¢ã«ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ¸ˆã¿ ã‹ã¤ å†ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãŒè¡Œã‚ã‚Œãªã„æ™‚ã€ã¯ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã•ã‚Œã¾ã›ã‚“ã€‚
doOnLayout doOnNextLayoutã¨ä¼¼ã¦ã„ã‚‹ã®ã§ã™ãŒã€ç•°ãªã‚‹ç‚¹ã¯ã€ã€Œãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ¸ˆã¿ ã‹ã¤ å†ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®è¦æ±‚ãŒãªã„ã€å ´åˆã«ã¯ã€å³æ™‚å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚
inline fun View.doOnLayout(crossinline action: (view: View) -&amp;gt; Unit) { if (ViewCompat.isLaidOut(this) &amp;amp;&amp;amp; !isLayoutRequested) { action(this) } else { doOnNextLayout { action(it) } } } doOnPreDraw æç”»ã•ã‚Œã‚‹å‰ã«å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚ã‚ˆã£ã¦ã€ã“ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã¯measureã€layoutã¯å®Œäº†ã—ã¦ã„ã¦ã€æç”»ã™ã‚‹ãã£ã¦ã„ã†ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã•ã‚Œã¾ã™ã€‚
doOnNextLayoutã¨é•ã†ã¨ã“ã‚ã¯ã€goneã§ã‚‚ã‚³ãƒ¼ãƒ«ã•ã‚Œã‚‹ç‚¹ãªã®ã‹ãªã¨æ€ã„ã¾ã™ã€‚ ViewãŒgoneã®å ´åˆã€doOnNextLayoutã¯ã‚³ãƒ¼ãƒ«ã•ã‚Œãªã„ã§ã™ãŒã€doOnPreDrawã§ã¯ã‚³ãƒ¼ãƒ«ã•ã‚Œã¾ã™ã€‚
ã‚³ãƒ«ãƒ¼ãƒãƒ³ã¨ä¸€ç·’ã«ä½¿ã† chrisbanes/tiviãŒå‡„ãå‚è€ƒã«ãªã‚Šã¾ã™ã€‚
PreDrawã‚’Coroutineã¨å”èª¿ã—ã¦å‹•ãã‚ˆã†ã«ã—ãŸã„ãªã‚‰ã€æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
/* * Copyright 2019 Google LLC * * Licensed under the Apache License, Version 2.0 (the &amp;#34;License&amp;#34;); * you may not use this file except in compliance with the License.</description>
    </item>
    
    <item>
      <title>Dagger2: 2.26æ™‚ç‚¹ã§ã®Kotlinã‚µãƒãƒ¼ãƒˆçŠ¶æ³</title>
      <link>https://satoshun.github.io/2020/02/dagger-kotlin-support-2.26/</link>
      <pubDate>Sun, 02 Feb 2020 04:51:36 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2020/02/dagger-kotlin-support-2.26/</guid>
      <description>Daggerã®2.25ã‹ã‚‰å°‘ã—ãšã¤Kotlinå‘ã‘ã®å¯¾å¿œãŒå…¥ã£ã¦ã„ã¾ã™ã€‚
ã“ã®è¨˜äº‹ã§ã¯ãã‚Œã‚‰ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¦ã„ãã¾ã™ã€‚
objectã‚¯ãƒ©ã‚¹ã«JvmStaticãŒå¿…é ˆã§ã¯ãªããªã£ãŸ 2.25ã‹ã‚‰å…¥ã£ãŸå¤‰æ›´ã§ã™ã€‚
å‰ @Module object AppModule { @JvmStatic // JvmStaticã®æŒ‡å®šãŒå¿…é ˆã ã£ãŸ  @Provides fun provideFuga(): Fuga = Fuga() } ä»Š @Module object AppModule { @Provides fun provideFuga(): Fuga = Fuga() } Qualifierã‚’ä½¿ã†ã¨ãã«ã€fieldã®æŒ‡å®šãŒã„ã‚‰ãªããªã£ãŸ ã“ã‚Œã‚‚2.25ã‹ã‚‰å…¥ã£ãŸå¤‰æ›´ã§ã™ã€‚
å‰ @Inject @field:HogeQualifier // @field:ã®æŒ‡å®šãŒå¿…é ˆã ã£ãŸ lateinit var namedObject: NamedObject ä»Š @Inject @HogeQualifier lateinit var namedObject: NamedObject companion objectã«Moduleã‚’ã¤ã‘ãªãã¦è‰¯ããªã£ãŸ ã“ã‚Œã¯2.26ã‹ã‚‰å…¥ã£ãŸå¤‰æ›´ã§ã™ã€‚
å‰ @Module interface MainActivityModule { @Module // å¿…é ˆã ã£ãŸ  companion object { @JvmStatic // å¿…é ˆã ã£ãŸ  @Provides fun provideTestHoge(): TestHoge = TestHoge() } } ä»Š @Module interface MainActivityModule { companion object { @Provides fun provideTestHoge(): TestHoge = TestHoge() } } ã¾ã¨ã‚ ãƒãƒã‚ŠãŒã¡ã ã£ãŸéƒ¨åˆ†ãŒå°‘ã—ãšã¤è§£æ¶ˆã•ã‚Œã¦ã„ãğŸ˜Š</description>
    </item>
    
    <item>
      <title>fitsSystemWindowsã®è©±ã‚’ã¤ã‚‰ã¤ã‚‰ã¨</title>
      <link>https://satoshun.github.io/2020/01/android-fitssystemwindows/</link>
      <pubDate>Sun, 26 Jan 2020 04:40:11 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2020/01/android-fitssystemwindows/</guid>
      <description>fitsSystemWindowsã«ã¤ã„ã¦ãƒã‚¹ã‚¿ãƒ¼ã—ã¤ã¤ã‚ã‚‹ã®ã§ã€ã¤ã‚‰ã¤ã‚‰ã¨å­¦ã‚“ã ã“ã¨ã‚’ã¾ã¨ã‚ã¦ãŠãã¾ã™ã€‚
SystemUiVisibilityã®è©³ç´°ãªè¨­å®šã«ã¤ã„ã¦ã¯èª¬æ˜ã‚’å‰²æ„›ã™ã‚‹ã®ã§ã”äº†æ‰¿ãã ã•ã„ã€‚
ãã‚‚ãã‚‚fitsSystemWindowsã¨ã¯? Androidç«¯æœ«ã«ã¯ã€status barã€navigation barãªã©ã®System UIã¨ç·ç§°ã•ã‚Œã‚‹ViewãŒã‚ã‚Šã¾ã™ã€‚ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€System UIã«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è¦ç´ ãŒè¢«ã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãã“ã«ã¯åˆ¶ç´„ãŒã‚ã‚Šã¾ã™ã€‚ ã—ã‹ã—ã€SystemUiVisibilityã®è¨­å®šã‚’å¤‰ãˆã‚‹ã“ã¨ã§ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è¦ç´ ã‚’System UIã®è£å´æãã“ã¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚
    å³ã®å›³ãŒSystemUiVisibilityã®è¨­å®šã‚’å¤‰æ›´ã—ãŸã‚‚ã®ã§ã™ã€‚ç”»åƒãŒstatus barã€navigation barã®èƒŒå¾Œã«æç”»ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚
ã“ã“ã‹ã‚‰ãŒæœ¬é¡Œã§ã™ã€‚ä¸Šè¨˜ã®ç”»åƒã®å ´åˆã¯ã€ç”»åƒã‚’ã‚ã„ã„ã£ã±ã„ã«åºƒã’ã¦è¡¨ç¤ºã—ã¦ã‚‚é•å’Œæ„ŸãŒã‚ã‚Šã¾ã›ã‚“ã€‚ã—ã‹ã—ã€AppBarLayoutã¨ã„ã£ãŸToolbarã®å ´åˆã¯ã©ã†ãªã‚‹ã§ã—ã‚‡ã†ã‹?
    å³ã®å›³ã®AppBarLayoutãŒã€status barã«é£Ÿã„è¾¼ã‚“ã§ã—ã¾ã£ã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚SystemUiVisibilityã®è¨­å®šã‚’å¤‰ãˆã¦ã„ã‚‹å ´åˆã€status barã®é«˜ã•ã‚’è€ƒæ…®ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚
ã“ã®ã¨ãã«ã€fitsSystemWindowsã‚’ä½¿ã†ã¨System UIã«è¢«ã‚‰ãªã„ã‚ˆã†ã«ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’é…ç½®ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
&amp;lt;LinearLayout android:fitsSystemWindows=&amp;#34;true&amp;#34;&amp;gt; &amp;lt;com.google.android.material.appbar.AppBarLayout /&amp;gt; ... &amp;lt;/LinearLayout&amp;gt;     è¦‹ãŸç›®ãŒå…ƒã«æˆ»ã‚Šã¾ã—ãŸã€‚fitsSystemWindowsã‚’ã¤ã‘ã‚‹ã¨ã€ã©ã®Viewã®è¦ç´ ãŒå¤‰åŒ–ã™ã‚‹ã‹ã‚’Layout Inspectorã§ç¢ºèªã—ã¾ã™ã€‚
    paddingTopã¨ã€paddingBottomã«å€¤ãŒæŒ‡å®šã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚ã“ã‚Œã¯fitsSystemWindowsã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®æŒ¯ã‚‹èˆã„ã«ã‚ˆã‚‹ã‚‚ã®ã§ã™ã€‚
fitsSystemWindowsã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã€paddingTopã«status barã®é«˜ã•ã‚’ã€paddingBottomã«navigation barã®é«˜ã•ã‚’è¨­å®šã—ã¾ã™ã€‚ãã‚Œã«ã‚ˆã‚Šã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒSystem UIã«è¢«ã‚‰ãªã„ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
ã¾ã¨ã‚ã‚‹ã¨ã€ŒfitsSystemWindowsã¯System UIã®é«˜ã•ã«å¿œã˜ã¦paddingã«å€¤ã‚’ã‚»ãƒƒãƒˆã™ã‚‹ã€æŒ¯ã‚‹èˆã„ã‚’ã—ã¾ã™ã€‚
ã—ã‹ã—ã€ã“ã‚Œã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®å‹•ä½œã§ã€fitsSystemWindowsã®å‹•ä½œã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
AppBarLayoutã¯fitsSystemWindowsã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®å‹•ä½œã‚’å¤‰æ›´ã—ã¦ã„ã‚‹Viewãªã®ã§ã€AppBarLayoutã«fitsSystemWindowsã‚’ã¤ã‘ãŸå ´åˆã«ã©ã®ã‚ˆã†ã«å‹•ä½œã™ã‚‹ã‹ã‚’è¦‹ã¦ã¿ã¾ã™ã€‚
AppBarLayoutã®fitsSystemWindowsã®è§£é‡ˆ fitsSystemWindowsã‚’AppBarLayoutã«è¨­å®šã—ã¾ã™ã€‚
&amp;lt;LinearLayout&amp;gt; &amp;lt;com.google.android.material.appbar.AppBarLayout android:fitsSystemWindows=&amp;#34;true&amp;#34; /&amp;gt; ... &amp;lt;/LinearLayout&amp;gt;       è¦‹ãŸç›®ã¯ãŠã‹ã—ããªã„ã®ã§ã™ãŒã€paddingãŒå¤‰æ›´ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ã˜ã‚ƒã‚ã©ã“ãŒå¤‰ã‚ã£ãŸã‹ã¨ã„ã†ã¨ã€heightã®å€¤ãŒå¤‰ã‚ã£ã¦ã„ã¾ã™ã€‚
    çœç•¥ã™ã‚‹ã®ã§ã™ãŒã€fitsSystemWindowsã‚’æŒ‡å®šã—ãªã„å ´åˆã®AppBarLayoutã®é«˜ã•ã¯154ã§ã—ãŸã€‚ä¸Šè¨˜ã®å›³ã®220ã¨ã„ã†æ•°å­—ã¯ 154(å…ƒã®é«˜ã•) + 66(status barã®é«˜ã•) = 220ã§ã™ã€‚</description>
    </item>
    
    <item>
      <title>Fragmentã§Viewã®å‚ç…§ã‚’æŒã¤ã¨ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ã™ã‚‹è©±ã¨å®Ÿè£…</title>
      <link>https://satoshun.github.io/2020/01/fragment-view-memory-leak/</link>
      <pubDate>Sat, 18 Jan 2020 13:09:08 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2020/01/fragment-view-memory-leak/</guid>
      <description>View Bindingã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒæ›´æ–°ã•ã‚Œã€onDestroyViewã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ä¿æŒã—ã¦ã„ã‚‹Bindingã®å‚ç…§ã‚’è§£æ”¾ã™ã‚‹ç¯€ãŒè¿½è¨˜ã•ã‚Œã¾ã—ãŸã€‚
Use view binding in fragments
Fragmentè‡ªä½“ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã®ã»ã†ãŒã€Fragmentã®Viewã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚ˆã‚Šé•·ã„ã®ã§ã€Fragmentã§Bindingã®å‚ç…§ã‚’ä¿æŒã™ã‚‹ã¨ãƒªãƒ¼ã‚¯ã—ã¦ã—ã¾ã†ãŸã‚ã§ã™ã€‚
ã“ã®è¨˜äº‹ã§ã¯ã€ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ã‚’ã—ãªã„ãŸã‚ã«ã€ã©ã®ã‚ˆã†ãªå®Ÿè£…ãŒè€ƒãˆã‚‰ã‚Œã‚‹ã‹ã‚’ç´¹ä»‹ã—ã¦ã„ãã¾ã™ã€‚
1. onDestoryViewã§è§£æ”¾ã™ã‚‹ å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¼‰ã£ã¦ã„ã‚‹æ–¹æ³•ã§ã™ã€‚
// onCreatedViewã§åˆæœŸåŒ– private var _binding: ResultProfileBinding? = null private val binding get() = _binding!! override fun onCreateView( inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle? ): View? { _binding = ResultProfileBinding.inflate(inflater, container, false) val view = binding.root return view } override fun onDestroyView() { _binding = null } onDestroyViewã§å‚ç…§ã‚’è§£æ”¾ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã¾ã™ã€‚ã‚·ãƒ³ãƒ—ãƒ«ã§ã™ãŒã€å†—é•·ãªã®ã‹ãªã¨æ€ã„ã¾ã™ã€‚
2. AACã‚µãƒ³ãƒ—ãƒ«ã§ä½¿ã£ã¦ã„ã‚‹AutoClearedValueã‚’ä½¿ã† takahiromã•ã‚“ã«Twitterã§æ•™ãˆã¦ã‚‚ã‚‰ã£ãŸã‚“ã§ã™ãŒã€AACã‚µãƒ³ãƒ—ãƒ«ã§ã¯Delegationã‚’ä½¿ã£ã¦ã€è‡ªå‹•ã§å‚ç…§ã‚’è§£æ”¾ã—ã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚
 DroiKaigiã§ã¯ã€Adapterã¨ã‹æŒã¡ãŸã„å ´åˆã‚‚ã‚ã‚‹ã®ã§ã€AACã®ã‚µãƒ³ãƒ—ãƒ«ã«ã‚ã‚‹AutoCleardValueã«ã—ã¦ã¿ã¾ã—ãŸ https://t.co/IUNmeQLzfB
&amp;mdash; takahirom (@new_runnable) January 17, 2020   æ¬¡ã®ã‚ˆã†ã«ä½¿ã„ã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>Kotlin: Flowã®flowOnã‚ªãƒšãƒ¬ãƒ¼ã‚¿ã®æŒ™å‹•</title>
      <link>https://satoshun.github.io/2020/01/coroutine-flowon/</link>
      <pubDate>Mon, 13 Jan 2020 11:47:10 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2020/01/coroutine-flowon/</guid>
      <description>Coroutineã®Flowã«ã¯flowOnã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãŒå®šç¾©ã•ã‚Œã¦ãŠã‚Šã€å®Ÿè¡Œã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
ã“ã®è¨˜äº‹ã¯RxJava2ã®subscribeOnã¨ã®æŒ™å‹•ã®é•ã„ã‚’è¦‹ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚
å‹•ã‹ã—ã¦ã¿ã‚‹ ã¾ãšã¯ã€Flowã‹ã‚‰ã€‚
withContext(Dispatchers.Main) { flowOf(1) .map { // Dispatchers.Defaultã§å‹•ã  println(&amp;#34;${Thread.currentThread()}&amp;#34;) it } .flowOn(Dispatchers.Default) .map { // Dispatchers.Mainã§å‹•ã  println(&amp;#34;${Thread.currentThread()}&amp;#34;) it } .collect { // Dispatchers.Mainã§å‹•ã  println(&amp;#34;${Thread.currentThread()}&amp;#34;) } } flowOnã®ä¸Šéƒ¨ï¼ˆupstream)ã§ã¯ã€Dispatchers.Defaultã§å‹•ãã€ä¸‹éƒ¨ï¼ˆdownstream)ã§ã¯ã€flowOnã®å½±éŸ¿ã‚’å—ã‘ã¦ã„ãªã„ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚flowOnã¯downstreamã«å½±éŸ¿ã—ãªã„ãŸã‚ã€ã“ã®ã‚ˆã†ãªå‹•ä½œã«ãªã‚Šã¾ã™ã€‚
æ¬¡ã«RxJavaã§ã™ã€‚
Single .just(1) .map { // Schedulers.ioä¸Šã§å‹•ã  println(&amp;#34;${Thread.currentThread()}&amp;#34;) it } .subscribeOn(Schedulers.io()) .map { // Schedulers.ioä¸Šã§å‹•ã  println(&amp;#34;${Thread.currentThread()}&amp;#34;) it } .subscribe({ // Schedulers.ioä¸Šã§å‹•ã  println(&amp;#34;${Thread.currentThread()}&amp;#34;) }) {} RxJavaã§ã¯subscribeOnã¯ã€ç‰¹ã«é€”ä¸­ã§ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼ã®å¤‰æ›´ãŒç„¡ã„é™ã‚ŠåŒä¸€ã®ã‚¹ãƒ¬ãƒƒãƒ‰ã§å‹•ä½œã—ã¾ã™ã€‚ ãªã®ã§ã€subscribeOn(Schedulers.io())ã‚’è¨­å®šã™ã‚‹ã¨ã€ä¸‹éƒ¨ï¼ˆdownstream)ã§ã‚‚Schedulers.ioä¸Šã§å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚
Flowã®flowOnã‚’ã€RxJavaã®subscribeOnã¨åŒã˜æ„Ÿè¦šã§å®Ÿè£…ã™ã‚‹ã¨ã€é–“é•ã£ã¦ã—ã¾ã†ã®ã§æ³¨æ„ãŒå¿…è¦ã§ã™ã€‚
ãŸã ã€Flowã®mapãªã©ã®ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã¯suspendé–¢æ•°ã‚’å–ã‚‹ã®ã§ã€åŸºæœ¬çš„ã«ã¯ã‚¹ãƒ¬ãƒƒãƒ‰ã‚’æ„è­˜ã—ãªãã¦ã‚‚è‰¯ã„ã¯ãšã§ã™ã€‚
ã¾ã¨ã‚  flowOnã¨RxJavaã®subscribeOnã€å‹•ä½œãŒãã‚Œãã‚Œç•°ãªã‚‹ã®ã§æ³¨æ„ãŒå¿…è¦  </description>
    </item>
    
    <item>
      <title>2019å¹´ã®ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆæŒ¯ã‚Šè¿”ã‚Š</title>
      <link>https://satoshun.github.io/2019/12/2019-output/</link>
      <pubDate>Sat, 28 Dec 2019 13:05:58 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/12/2019-output/</guid>
      <description>å‡ºã—ãŸPRé”  AOSP: setLayoutTransitionUnsupported add fails test  https://android-review.googlesource.com/c/platform/frameworks/support/+/1126581 ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ãŒé–“é•ã£ã¦ã„ãŸã®ã§ä¿®æ­£ã—ãŸ  åˆã‚ã¦ã®AOSPãƒ‡ãƒ“ãƒ¥ãƒ¼     RxAndroid: considers async option in HandlerScheduler.scheduleDirect  https://github.com/ReactiveX/RxAndroid/pull/442 RxAndroidã§asyncãƒ•ãƒ©ã‚°ã®è¨­å®šæ¼ã‚ŒãŒã‚ã£ãŸã®ã§ã€ãã‚Œã®ä¿®æ­£   Kotlin  https://blog.jetbrains.com/kotlin/2019/11/kotlin-1-3-60-released/ åå‰ã‚‚è¼‰ã£ã¦å¬‰ã—ã„   OkHttp kotlinx.coroutine LeadCanary Groupie material-components-android DroidKaigi 2019  AOSPã¸PRã‚’é€ã‚ŒãŸã®ã¯éå¸¸ã«è‰¯ã‹ã£ãŸ
ç™»å£‡é”  DroidKaigi2019: R8/ProGuard å¾¹åº•æ¯”è¼ƒ  https://speakerdeck.com/satoshun/proguard-che-di-bi-jiao DroidKaigi2020ã‚‚é ‘å¼µã‚‹   KotlinFest2019: Kotlinã®å‹å®Ÿè·µå…¥é–€  https://speakerdeck.com/satoshun/kotlin-fest-2019-kotlinxing-shi-jian-ru-men   Ca.Apk: ã‚¿ãƒƒãƒ—ãƒ«ã§ãŸã£ã·ã‚ŠDaggerã‚’ä½¿ã£ã¦ ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹ç¯‰ã—ã¦ã„ã‚‹è©± :)  https://speakerdeck.com/satoshun/tatupurudetatupuridaggerwoshi-tute-marutimoziyurugou-zhu-siteiruhua    KotlinFestã«ç™»å£‡ã§ããŸã®ã¯éå¸¸ã«è‰¯ã‹ã£ãŸã€‚ã¾ãŸDroidKaigiã‚‚3å¹´é€£ç¶šã§ç™»å£‡ã§ãã‚‹ã®ã‚‚ã¨ã¦ã‚‚å¬‰ã—ã„
ã¾ã¨ã‚  æ¥å¹´ã¯å€‹äººã‚¢ãƒ—ãƒªå‡ºã—ã¦è¡Œã å€‹äººãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚‚ã€ã•ã‚‰ã«ã‚„ã£ã¦ã„ã ç™»å£‡ã‚‚ã‚‚ã†å°‘ã—å¢—ã‚„ã—ãŸã„  </description>
    </item>
    
    <item>
      <title>Material Components: ShapeableImageViewã§ä¸¸ãåˆ‡ã‚ŠæŠœã‹ã‚ŒãŸç”»åƒã‚’è¡¨ç¤ºã™ã‚‹</title>
      <link>https://satoshun.github.io/2019/12/material-shapeable-image-view/</link>
      <pubDate>Tue, 24 Dec 2019 00:40:05 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/12/material-shapeable-image-view/</guid>
      <description>Material androidã®1.2.0-alpha03ã«ShapeableImageViewãŒçˆ†èª•ã—ãŸã®ã§ãã‚Œã®ç´¹ä»‹ã§ã™ã€‚
material-components-android/1.2.0-alpha03
ShapeableImageView? åã¯ä½“ã‚’è¡¨ã—ã¦ãŠã‚Šã€shapeã«å¯¾å¿œã—ãŸImageViewã«ãªã‚Šã¾ã™ã€‚shapeã«ã¯ä¸¸ã‚„ã²ã—å½¢ãªã©ã‚’è¨­å®šã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚
ã•ã£ããã„ã˜ã£ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚
ä¸¸ã‚’è¨­å®šã—ã¦ã¿ã‚‹ ã‚¹ã‚¿ã‚¤ãƒ«ã‹ã‚‰å®šç¾©ã™ã‚‹å ´åˆã¯ã€æ¬¡ã®ã‚ˆã†ã«ã‚„ã‚Šã¾ã™ã€‚
&amp;lt;!-- ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾© --&amp;gt; &amp;lt;style name=&amp;#34;ShapeAppearance.Example.PILL&amp;#34; parent=&amp;#34;&amp;#34;&amp;gt; &amp;lt;item name=&amp;#34;cornerFamily&amp;#34;&amp;gt;rounded&amp;lt;/item&amp;gt; &amp;lt;item name=&amp;#34;cornerSize&amp;#34;&amp;gt;50%&amp;lt;/item&amp;gt; &amp;lt;/style&amp;gt; &amp;lt;!-- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ --&amp;gt; &amp;lt;com.google.android.material.imageview.ShapeableImageView android:id=&amp;#34;@+id/circle&amp;#34; android:layout_width=&amp;#34;200dp&amp;#34; android:layout_height=&amp;#34;200dp&amp;#34; android:layout_gravity=&amp;#34;center&amp;#34; android:layout_margin=&amp;#34;10dp&amp;#34; android:adjustViewBounds=&amp;#34;true&amp;#34; android:elevation=&amp;#34;4dp&amp;#34; app:shapeAppearanceOverlay=&amp;#34;@style/ShapeAppearance.Example.PILL&amp;#34; app:srcCompat=&amp;#34;@drawable/img&amp;#34; /&amp;gt;   ç”»åƒãŒä¸¸ããªã£ã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚‹ã¨æ€ã„ã¾ã™ã€‚cornerSizeã‚’50%æŒ‡å®šã™ã‚‹ã¨ã€ã¡ã‚‡ã†ã©ä¸¸ã®shapeã«ãªã‚Šã¾ã™ã€‚
ã‚³ãƒ¼ãƒ‰ã‹ã‚‰è¨­å®šã™ã‚‹å ´åˆã¯ã€ShapeAppearanceModelã‚’ä»‹ã—ã¦è¡Œã„ã¾ã™ã€‚
val model = ShapeAppearanceModel.builder().setAllCornerSizes(ShapeAppearanceModel.PILL).build() imageView.shapeAppearanceModel = model ã²ã—å½¢ã‚’è¨­å®šã—ã¦ã¿ã‚‹ &amp;amp; strokeã‚’ã¤ã‘ã‚‹ ã‚¹ã‚¿ã‚¤ãƒ«ã‹ã‚‰å®šç¾©ã™ã‚‹å ´åˆã¯ã€æ¬¡ã®ã‚ˆã†ã«ã‚„ã‚Šã¾ã™ã€‚
&amp;lt;!-- ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾© --&amp;gt; &amp;lt;style name=&amp;#34;ShapeAppearance.Example.Diamond&amp;#34; parent=&amp;#34;&amp;#34;&amp;gt; &amp;lt;item name=&amp;#34;cornerFamily&amp;#34;&amp;gt;cut&amp;lt;/item&amp;gt; &amp;lt;item name=&amp;#34;cornerSize&amp;#34;&amp;gt;50%&amp;lt;/item&amp;gt; &amp;lt;/style&amp;gt; &amp;lt;!-- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ --&amp;gt; &amp;lt;com.google.android.material.imageview.ShapeableImageView android:id=&amp;#34;@+id/diamond&amp;#34; android:layout_width=&amp;#34;200dp&amp;#34; android:layout_height=&amp;#34;200dp&amp;#34; android:layout_gravity=&amp;#34;center&amp;#34; android:layout_margin=&amp;#34;10dp&amp;#34; android:adjustViewBounds=&amp;#34;true&amp;#34; android:elevation=&amp;#34;4dp&amp;#34; app:shapeAppearanceOverlay=&amp;#34;@style/ShapeAppearance.</description>
    </item>
    
    <item>
      <title>ViewModelã¨Kotlin Coroutinesã®æ›¸ãæ–¹ã‚ã‚Œã“ã‚Œ</title>
      <link>https://satoshun.github.io/2019/12/android-viewodel-kotlin-coroutine/</link>
      <pubDate>Sun, 15 Dec 2019 07:15:43 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/12/android-viewodel-kotlin-coroutine/</guid>
      <description>ViewModel + Kotlin Coroutineã‚’ä½¿ã†å ´åˆã€ã©ã‚“ãªæ„Ÿã˜ã§ViewModelã§Coroutineã‚’è¡¨ç¾ã™ã‚‹ã‹ã«ã¤ã„ã¦ã‚ã‚Œã“ã‚Œæ›¸ã„ã¦ã¿ã¾ã—ãŸã€‚
MVVM + Repositoryã‚’æƒ³å®šã—ã¦ãŠã‚Šã€UIã«åæ˜ ã™ã‚‹éƒ¨åˆ†ã¯LiveDataã‚’è€ƒãˆã¦ã„ã¾ã™ã€‚
ç’°å¢ƒã¯androidx.lifecycle:lifecycle-viewmodel-ktxã¯2.2.0-rc03ã€Coroutineã¯1.3.3ã§ã™ã€‚
ã“ã®è¨˜äº‹ã¯æ¬¡ã®é †åºã§é€²ã‚“ã§ã„ãã¾ã™ã€‚
 viewModelScopeã¨ã¯? suspendé–¢æ•°ã‚’ã‚³ãƒ¼ãƒ«ã™ã‚‹ã¨ã Flowã‚’ã‚³ãƒ¼ãƒ«/è³¼èª­ã™ã‚‹ã¨ã  viewModelScopeã¨ã¯? androidx.lifecycle:lifecycle-viewmodel-ktxãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã¯ã€viewModelScopeæ‹¡å¼µé–¢æ•°ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚å®šç¾©ã¯æ¬¡ã®é€šã‚Šã§ã™ã€‚
/** * [CoroutineScope] tied to this [ViewModel]. * This scope will be canceled when ViewModel will be cleared, i.e [ViewModel.onCleared] is called */ val ViewModel.viewModelScope: CoroutineScope ViewModelã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã«åˆã‚ã›ãŸCoroutineScopeã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚ ã“ã®ã‚¹ã‚³ãƒ¼ãƒ—ä¸Šã§Coroutineã‚’å®Ÿè¡Œã™ã‚Œã°ã€ViewModelã®ç ´æ£„ã«åˆã‚ã›ã¦ã€è‡ªå‹•ã§disposeã—ã¦ãã‚Œã¾ã™ã€‚
ã¾ãŸã€viewModelScopeã¯ã€ãƒ¡ã‚¤ãƒ³ã‚¹ãƒ¬ãƒƒãƒ‰ä¸Šã§å®Ÿè¡Œã—ã¦ãã‚Œã‚‹ãŸã‚ã€LiveData.setValueã‚’ä½¿ã„ã€å€¤ã‚’æ›´æ–°ã—ã¾ã™ã€‚
val userLiveData = MutableLiveData(...) viewModelScope.launch { val user = userRepository.getUser() // é©å½“ãªsuspendé–¢æ•°ã‚’ã‚³ãƒ¼ãƒ«  userLiveData.setValue(user) // ãƒ¡ã‚¤ãƒ³ã‚¹ãƒ¬ãƒƒãƒ‰ä¸Šã§å®Ÿè¡Œã•ã‚Œã‚‹ã“ã¨ãŒä¿è¨¼ã•ã‚Œã¦ã„ã‚‹ã®ã§setValueã‚’ä½¿ã†  // userLiveData.postValues(user) } viewModelScopeã‚’ä½¿ã£ã¦ã„ã‚‹å ´åˆã¯ã€postValueãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†ã‚±ãƒ¼ã‚¹ã¯ç„¡ã„ã¨æ€ã„ã¾ã™ã€‚
suspendé–¢æ•°ã‚’ã‚³ãƒ¼ãƒ«ã™ã‚‹ã¨ã ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚³ãƒ¼ãƒ«ãªã©ã®APIã¯ã€suspendã§è¡¨ç¾ã™ã‚‹ã“ã¨ã«ãªã‚‹ã¨æ€ã„ã¾ã™ã€‚ ã¾ãŸã€Retrofitã§ã¯2.6.0ã‹ã‚‰ã€suspendã§APIã‚’å®šç¾©å‡ºæ¥ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ã¾ãŸRoomã§ã‚‚suspendé–¢æ•°ã‚’ä½¿ã†ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚
ãªã®ã§ã€Repositoryå±¤ã§ã®å®šç¾©ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>GitHub Actionsã§ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ†ã‚¹ãƒˆã‚’ã™ã‚‹</title>
      <link>https://satoshun.github.io/2019/12/github-actions-emulator-test/</link>
      <pubDate>Thu, 12 Dec 2019 12:25:11 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/12/github-actions-emulator-test/</guid>
      <description>GitHub Actionsã§ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã§ãƒ†ã‚¹ãƒˆã‚’å›ã—ãŸã‹ã£ãŸã®ã§èª¿ã¹ã¦ã¿ã¾ã—ãŸã€‚
çµè«–ã€AutoDisposeã§ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã§ãƒ†ã‚¹ãƒˆã‚’è¡Œã£ã¦ã„ãŸã®ã§ã€ãã‚Œã‚’ã‚¢ãƒ¬ãƒ³ã‚¸ã™ã‚‹æ„Ÿã˜ãŒã„ã„ã¨æ€ã„ã¾ã™ã€‚è©³ã—ãã¯ AutoDispose/ci.yml ã‚’è¦‹ã¦ãã ã•ã„ã€‚
ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ†ã‚¹ãƒˆã‚’ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆ ç‰¹ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¨ã‹ã‚’è€ƒãˆãªã„ãªã‚‰ã€ä»¥ä¸‹ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§å‹•ãã¾ã™ã€‚
name: CI on: [push, pull_request] jobs: build: name: JDK 1.8 runs-on: macOS-latest steps: - name: Checkout uses: actions/checkout@v1 - name: Install JDK 1.8 uses: actions/setup-java@v1 with: java-version: 1.8 - name: Install Android SDK uses: malinskiy/action-android/install-sdk@release/0.0.5 - name: Build project run: ./gradlew assemble --stacktrace - name: Run instrumentation tests uses: malinskiy/action-android/emulator-run-cmd@release/0.0.5 with: cmd: ./gradlew connectedCheck --stacktrace api: 25 tag: default abi: x86 malinskiy/action-androidã¨ã„ã†ã€ä¾¿åˆ©GitHub ActionãŒã‚ã‚‹ã®ã§ã€ãã‚Œã‚’å‘¼ã³å‡ºã™ã ã‘ã§ãŠï½‹ã§ã™ã€‚</description>
    </item>
    
    <item>
      <title>GitHub Actions: æœ€è¿‘ä½¿ã£ã¦ã„ã‚‹GitHub ActionsãŸã¡</title>
      <link>https://satoshun.github.io/2019/12/github-actions-first/</link>
      <pubDate>Sun, 08 Dec 2019 10:32:03 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/12/github-actions-first/</guid>
      <description>ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆã€ä»•äº‹ã§ä½¿ã£ã¦ã„ã‚‹GitHub Actionsã‚’é›‘ã«ç´¹ä»‹ã—ã¾ã™ã€‚
Release Drafter Release Drafterã¯ã€ãƒãƒ¼ã‚¸ã•ã‚ŒãŸPRã‚’ã‚‚ã¨ã«ã€ã„ã„æ„Ÿã˜ã«ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆã‚’ä½œã£ã¦ãã‚Œã¾ã™ã€‚
OSSã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªé–‹ç™ºã§ä¾¿åˆ©ãªã®ã§ã€æœ€è¿‘å°å…¥ã—ã¾ã—ãŸã€‚
Image Actions Image Actionsã¯ã€PRã‚’å‡ºã—ãŸã¨ãã«ã€ç”»åƒã‚’åœ§ç¸®ã‚’ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ã€å°ã•ããªã£ãŸå ´åˆã€åœ§ç¸®ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒŸãƒƒãƒˆã—ã¦ãã‚Œã¾ã™ã€‚
ãŸã ã—ã€ãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ãŒã™ã§ã«åœ§ç¸®ã—ã¦ãã‚Œã¦ã„ã‚‹ãªã‚‰ã€ç‰¹ã«ä½•ã‚‚ã—ã¦ãã‚Œãªã„ã®ã§ã€å¼Šã‚¢ãƒ—ãƒªã§ã¯ã‚ã¾ã‚Šæ´»èºã—ã¦ãªã„ã§ã™ã€‚
First Interaction First Interactionã¯ã€åˆã‚ã¦PRã‚’å‡ºã—ãŸäººã«ã€å®šå‹æ–‡ã‚’å‡ºã™ã“ã¨ãŒå‡ºæ¥ã‚‹GitHub actionã§ã™ã€‚
ã€Œã¯ã˜ã‚ã¦ã®PRã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ğŸ™ã“ã“è¦‹ã¨ã„ã¦ã­ã€ã¿ãŸã„ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‡ºã—ã¦ä½¿ã£ã¦ã¾ã™ã€‚
Assign Author/Auto Assign Assign Authorã€Auto Assignã¯ã€è‡ªåˆ†ã«ã‚¢ã‚µã‚¤ãƒ³ã—ãŸã‚Šã€å‡ç­‰ã«ãƒ¬ãƒ“ãƒ¥ãƒ¯ãƒ¼ã‚’æŒ‡å®šã™ã‚‹äº‹ãŒã§ãã¾ã™ã€‚
ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ¯ãƒ¼ã‚’åˆ†æ•£ã•ã›ãŸã‹ã£ãŸã®ã§ã€ä½¿ã£ã¦ã¾ã™ã€‚ã“ã‚Œç³»ã®actionã¯ä»–ã«ã‚‚ã‚ã‚‹ã®ã§ã€ã„ã‚ã„ã‚èª¿ã¹ã‚‹ã®ã‚‚æ¥½ã—ãã†ã€‚
ã¾ã¨ã‚  GitHub Actionsã¯ã„ã„ãã€œ  </description>
    </item>
    
    <item>
      <title>ãƒ¡ãƒ¢ Android: Navigation Component &#43; Toolbar(ActionBar)å‘¨ã‚Šã®ã‚³ãƒ¼ãƒ‰ã‚’èª­ã‚“ã§è¦‹ã‚‹</title>
      <link>https://satoshun.github.io/2019/11/navigation-toolbar-internal-code/</link>
      <pubDate>Sat, 30 Nov 2019 06:14:19 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/11/navigation-toolbar-internal-code/</guid>
      <description>Navigation Component + Toolbarã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®æŒ™å‹•ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ãŸã‹ã£ãŸã®ã§ã€ãã®å‘¨è¾ºã®ã‚³ãƒ¼ãƒ‰ã‚’èª­ã‚“ã§ã¿ãŸãƒ¡ãƒ¢ãƒ–ãƒ­ã‚°ã«ãªã‚Šã¾ã™ã€‚
ã“ã®è¨˜äº‹ã®ã‚³ãƒ¼ãƒ‰ã¯ã€æ¬¡ã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã«å¾“ã„ã¾ã™ã€‚
/* * Copyright 2018 The Android Open Source Project * * Licensed under the Apache License, Version 2.0 (the &amp;#34;License&amp;#34;); * you may not use this file except in compliance with the License. * You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an &amp;#34;AS IS&amp;#34; BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</description>
    </item>
    
    <item>
      <title>Material Components: Shapeã¨BottomSheetDialogã¨MaterialButton</title>
      <link>https://satoshun.github.io/2019/11/material-shape/</link>
      <pubDate>Tue, 26 Nov 2019 00:30:46 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/11/material-shape/</guid>
      <description>ShapeãŒmaterial androidã®1.1.0-alpha01ã‹ã‚‰å®Ÿè£…ã•ã‚Œã¾ã—ãŸã€‚
Shapeã¨ã¯ã€ã“ã‚“ãªã‚„ã¤ã§ã™ã€‚
  å‚ç…§: About shape
ã“ã®è¨˜äº‹ã§ã¯ã€BottomSheetDialogã¨MaterialButtonã‚’å‚è€ƒã«ã€Shapeã‚’ã©ã®ã‚ˆã†ã«è¨­å®šã™ã‚‹ã‹ã‚’èª¬æ˜ã—ã¾ã™ã€‚
ã‚ˆã‚Šè©³ã—ã„èª¬æ˜ã¯å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ/Shape.mdã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
ã¾ãšã¯ãƒ†ãƒ¼ãƒã‚’è¨­å®šã™ã‚‹ Theme.MaterialComponentsã‚’ä½¿ã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
 Theme.MaterialComponents.Light Theme.MaterialComponents.DayNight  ãªã©ã‚’ãƒ†ãƒ¼ãƒã«æŒ‡å®šã—ã¾ã™ã€‚
&amp;lt;style name=&amp;#34;AppTheme&amp;#34; parent=&amp;#34;Theme.MaterialComponents.DayNight&amp;#34;&amp;gt; ... ã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚
æº–å‚™ã¯çµ‚ã‚ã£ãŸã®ã§ã€BottomSheetDialogã«Shapeã‚’é©ç”¨ã—ã¦ã¿ã¾ã™ã€‚
BottomSheetDialogã«Shapeã‚’æŒ‡å®šã—ã¦ã„ã ï¼ˆå¤šåˆ†ï¼‰å¤§ãã3ã¤ã®æŒ‡å®šæ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚
 shapeAppearanceLargeComponentã‚’æŒ‡å®šã™ã‚‹ bottomSheetDialogThemeã‚’æŒ‡å®šã™ã‚‹ ç‹¬è‡ªã§ãƒ†ãƒ¼ãƒã‚’ä½œã‚Šã€BottomSheetDialogã®å¼•æ•°ãªã©ã‹ã‚‰ä¸ãˆã‚‹  shapeAppearanceLargeComponentã‚’æŒ‡å®šã™ã‚‹ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã ã¨BottomSheetDialogã®ã‚¹ã‚¿ã‚¤ãƒ«ã¨ã—ã¦ã€@style/Widget.MaterialComponents.BottomSheet.Modalã‚’ä½¿ã†ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚
ã“ã®ã‚¹ã‚¿ã‚¤ãƒ«ã®å®šç¾©ã¯ã€æ¬¡ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚
&amp;lt;style name=&amp;#34;Widget.MaterialComponents.BottomSheet.Modal&amp;#34; parent=&amp;#34;Widget.MaterialComponents.BottomSheet&amp;#34;&amp;gt; ... &amp;lt;style name=&amp;#34;Widget.MaterialComponents.BottomSheet&amp;#34; parent=&amp;#34;Widget.Design.BottomSheet.Modal&amp;#34;&amp;gt; ... &amp;lt;item name=&amp;#34;shapeAppearance&amp;#34;&amp;gt;?attr/shapeAppearanceLargeComponent&amp;lt;/item&amp;gt; ... &amp;lt;/style&amp;gt; shapeAppearanceã«ã€?attr/shapeAppearanceLargeComponentãŒä½¿ã‚ã‚Œã¦ã„ã¾ã™ã€‚shapeAppearanceã¯ã€Shapeã®è¨­å®šã‚’æµã—è¾¼ã‚€éƒ¨åˆ†ã§ã™ã€‚ ãªã®ã§ã€ã“ã‚Œã‚’å¤‰ãˆã‚Œã°BottomSheetDialogã®Shapeã‚’å¤‰ãˆã‚‹äº‹ãŒã§ãã¾ã™ã€‚
ãŸã¨ãˆã°ã€æ¬¡ã®ã‚ˆã†ã«è¨­å®šã—ã¦ã¿ã¾ã™ã€‚
&amp;lt;style name=&amp;#34;AppTheme&amp;#34; parent=&amp;#34;Theme.MaterialComponents.DayNight&amp;#34;&amp;gt; &amp;lt;!-- ?attr/shapeAppearanceLargeComponentã®è¨­å®š --&amp;gt; &amp;lt;item name=&amp;#34;shapeAppearanceLargeComponent&amp;#34;&amp;gt;@style/ShapeAppearance.Sample.LargeComponent&amp;lt;/item&amp;gt; &amp;lt;/style&amp;gt; &amp;lt;style name=&amp;#34;ShapeAppearance.Sample.LargeComponent&amp;#34; parent=&amp;#34;&amp;#34;&amp;gt; &amp;lt;item name=&amp;#34;cornerFamily&amp;#34;&amp;gt;cut&amp;lt;/item&amp;gt; &amp;lt;!-- å„corner(top right, top left, bottom left, bottom right)ã®ã‚µã‚¤ã‚ºã‚’æŒ‡å®š --&amp;gt; &amp;lt;item name=&amp;#34;cornerSize&amp;#34;&amp;gt;36dp&amp;lt;/item&amp;gt; &amp;lt;/style&amp;gt; ã“ã‚“ãªæ„Ÿã˜ã«ãªã‚Šã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>Android: Groupieã®å†…éƒ¨ã§ã‚„ã£ã¦ã„ã‚‹å·®åˆ†æ›´æ–°å‘¨ã‚Šã®è©±</title>
      <link>https://satoshun.github.io/2019/11/groupie-diffutil/</link>
      <pubDate>Thu, 21 Nov 2019 12:35:25 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/11/groupie-diffutil/</guid>
      <description>Groupieã«ã¯GroupAdapter#updateãƒ¡ã‚½ãƒƒãƒ‰ã¨ã„ã†ä¾¿åˆ©ãªãƒ¡ã‚½ãƒƒãƒ‰ãŒã‚ã‚Šã¾ã™ã€‚
ã“ã®è¨˜äº‹ã§ã¯updateãƒ¡ã‚½ãƒƒãƒ‰ã‚’ã‚³ãƒ¼ãƒ«ã—ãŸæ™‚ã«ã€ã©ã®ã‚ˆã†ã«å·®åˆ†æ›´æ–°ã•ã‚Œã‚‹ã‹ã‚’ã€ç°¡å˜ãªèª¬æ˜ã¨å®Ÿéš›ã«å‹•ã‹ã—ã¦ã¿ã¦è¦‹ã¦ã„ãã¾ã™ã€‚
ãã‚‚ãã‚‚RecyclerViewã®å·®åˆ†æ›´æ–°ã£ã¦ä½•ã‚ˆ RecyclerViewã§ã¯ã€DiffUtil.Callbackã‚¯ãƒ©ã‚¹ã‚’å®Ÿè£…ã™ã‚‹ã“ã¨ã§ã€å‰ã®Adapterã®çŠ¶æ…‹ã¨ã€æ–°ã—ã„Adapterã®çŠ¶æ…‹ã®å·®åˆ†ã‚’è¨ˆç®—ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚ãã®è¨ˆç®—çµæœã‚’ã‚‚ã¨ã«ã€RecyclerViewã§ã¯åŠ¹ç‡çš„ã«Viewã‚’æ›´æ–°ã—ã¦ãã‚Œã¾ã™ã€‚ã¾ãŸã„ã„æ„Ÿã˜ã«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã—ã¦ãã‚Œã¾ã™ã€‚
Groupieã§ã¯ã€å†…éƒ¨ã§DiffUtil.Callbackã‚’å®Ÿè£…ã—ãŸDiffCallbackã‚¯ãƒ©ã‚¹ãŒã‚ã‚Šã€ãã®ã‚¯ãƒ©ã‚¹ã‚’ã‚‚ã¨ã«å·®åˆ†æ›´æ–°ãŒè¡Œã‚ã‚Œã¾ã™ã€‚
DiffCallbackã‚¯ãƒ©ã‚¹ã®å®Ÿè£…ã‚’è¦‹ã¦ã„ã ã¾ãšã¯areItemsTheSameãƒ¡ã‚½ãƒƒãƒ‰ã‹ã‚‰ã€‚areItemsTheSameãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€ItemãŒåŒä¸€ã‹ã©ã†ã‹ã‚’åˆ¤å®šã—ã¾ã™ã€‚
@Override public boolean areItemsTheSame(int oldItemPosition, int newItemPosition) { Item oldItem = GroupUtils.getItem(oldGroups, oldItemPosition); Item newItem = GroupUtils.getItem(newGroups, newItemPosition); return newItem.isSameAs(oldItem); } ã¾ãšã€1ã¤å‰ã®Itemã¨æ–°ã—ã„Itemã‚’å–ã£ã¦ãã¦ã€newItem.isSameAs(oldItem);ã‚’ã‚³ãƒ¼ãƒ«ã—ã¦ã„ã¾ã™ã€‚
isSameAsãƒ¡ã‚½ãƒƒãƒ‰ã¯æ¬¡ã®å®šç¾©ã«ãªã£ã¦ã„ã¾ã™ã€‚
public boolean isSameAs(Item other) { if (getViewType() != other.getViewType()) { return false; } return getId() == other.getId(); } Itemã®viewTypeãŒç­‰ã—ã„ ã‹ã¤ IdãŒç­‰ã—ã„å ´åˆã«trueã‚’è¿”ã—ã¾ã™ã€‚
Idã¯ã€Itemã‚¯ãƒ©ã‚¹ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‹ã‚‰ä¸ãˆã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
protected Item(long id) { this.id = id; } ãªã®ã§ã€GroupAdapterãŒupdateã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãªã‚‰ã€é©åˆ‡ãªIdã‚’æ¸¡ã™ã®ãŒè‰¯ã„ã§ã™ã€‚ ä¾‹ãˆã°ã€Userã‚¯ãƒ©ã‚¹çš„ãªã‚‚ã®ãŒã‚ã£ã¦ã€é‹è‰¯ãUserã‚’ä¸€æ„ã«åˆ¤å®šã§ãã‚‹idãŒå®šç¾©ã•ã‚Œã¦ã„ãŸã‚‰ã€ãã‚Œã‚’æ¸¡ã™ã¨è‰¯ã„ã¨æ€ã„ã¾ã™ã€‚
 æ¬¡ã«ã€areContentsTheSameãƒ¡ã‚½ãƒƒãƒ‰ã€‚areContentsTheSameãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€ã“ã®Itemã®å†…å®¹ãŒåŒã˜ã‹ã©ã†ã‹ã‚’åˆ¤å®šã—ã¾ã™ã€‚
@Override public boolean areContentsTheSame(int oldItemPosition, int newItemPosition) { Item oldItem = GroupUtils.</description>
    </item>
    
    <item>
      <title>Android ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«: Gradleå‘¨ã‚Šã§ä¾¿åˆ©ã ã¨æ€ã†è¨­å®š</title>
      <link>https://satoshun.github.io/2019/11/multi-module-gradle-properties/</link>
      <pubDate>Mon, 11 Nov 2019 00:50:18 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/11/multi-module-gradle-properties/</guid>
      <description>ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãªã‚¢ãƒ—ãƒªã‚’ä½œã‚‹ã“ã¨ã‚’ãƒ†ãƒ¼ãƒã«ãƒ–ãƒ­ã‚°ã‚’æ›¸ã„ã¦ã„ã“ã†ã®ã€2æœ¬ç›®ã§ã™ã€‚
1æœ¬ç›®ã¯ã“ã¡ã‚‰ã«ãªã‚Šã¾ã™ã€‚
 Android ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«: ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã«ã¤ã„ã¦  ä»Šå›ã¯ã€ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ç’°å¢ƒã«ãŠã‘ã‚‹ã€Gradleå‘¨ã‚Šã®ä¾¿åˆ©ã§ã‚ã‚ã†è¨­å®šã«ã¤ã„ã¦ã€æ¬¡ã®4ã¤ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚
 ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å†…ã®ãƒªã‚½ãƒ¼ã‚¹åã«ãƒ«ãƒ¼ãƒ«ã‚’æŒãŸã›ã‚‹ BuildConfigã‚’ä½œã‚‰ãªã„ ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å†…ã§ProGuard/R8ã®è¨­å®šã‚’ã™ã‚‹ Rãƒ•ã‚¡ã‚¤ãƒ«ã‚’å°ã•ãä¿ã¤  ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å†…ã®ãƒªã‚½ãƒ¼ã‚¹åã«ãƒ«ãƒ¼ãƒ«ã‚’æŒãŸã›ã‚‹ resourcePrefixã¯ã€ãƒªã‚½ãƒ¼ã‚¹åã®ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ã«ãƒ«ãƒ¼ãƒ«ã‚’è¨­ã‘ã‚‹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã§ã™ã€‚
ä¾‹ãˆã°ã€æ¬¡ã®ã‚ˆã†ã«æ›¸ãã¨ã€ã“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å†…ã®ãƒªã‚½ãƒ¼ã‚¹ï¼ˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã€Drawableã€Stringãªã©ï¼‰ã¯home_ã‹ã‚‰å§‹ã¾ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
// build.gradle android { ... resourcePrefix &amp;#39;home_&amp;#39; } // strings.xml &amp;lt;resource&amp;gt; // home_ã‹ã‚‰å§‹ã¾ã‚‹å¿…è¦ãŒã‚ã‚‹  &amp;lt;string name=&amp;#34;home_app_name&amp;#34;&amp;gt;é©å½“ãªæ–‡å­—åˆ—&amp;lt;/string&amp;gt; &amp;lt;/resource&amp;gt; ã“ã‚Œã‚’å®šç¾©ã™ã‚‹ã“ã¨ã§ã€åå‰ã®ã‚³ãƒ³ãƒ•ãƒªã‚¯ãƒˆã‚’é˜²ãã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚ã¾ãŸã€åå‰ã‹ã‚‰ãƒªã‚½ãƒ¼ã‚¹ãŒã©ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‹ã‚’æ¨æ¸¬ã™ã‚‹ã“ã¨å‡ºæ¥ã¾ã™ã€‚
BuildConfigã‚’ä½œã‚‰ãªã„ ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®BuildConfigã®ç”Ÿæˆã‚’ç„¡åŠ¹ã«ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚ä¾‹ãˆã°ã€uber/AudoDisposeã§ã¯ã€æ¬¡ã®ã‚ˆã†ã«è¨­å®šã—ã¦ã„ã¾ã™ã€‚
// build.gradle project.android { libraryVariants.all { it.generateBuildConfigProvider.configure { it.enabled = false } } } ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã€BuildConfigãŒå¿…è¦ã«ãªã‚‹ã“ã¨ã¯ç¨€ãªã®ã§ã€åŸºæœ¬ã¤ã‘ã¦ãŠãã¨è‰¯ã„ã¨æ€ã„ã¾ã™ã€‚
ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å†…ã§ProGuard/R8ã®è¨­å®šã‚’ã™ã‚‹ consumerProguardFilesã‚’ä½¿ã†ã“ã¨ã§ã€ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®Proguard/R8ã®è¨­å®šã‚’å®šç¾©ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
ä¾‹ãˆã°ã€æ¬¡ã®ã‚ˆã†ã«ä½¿ã„ã¾ã™ã€‚
// build.gradle android { defaultConfig { consumerProguardFiles &amp;#39;consumer-rules.pro&amp;#39; } } // consumer-rules.pro -keep class * implements com.</description>
    </item>
    
    <item>
      <title>Android: Navigationã®dialogã‚¿ã‚°å‘¨ã‚Šã®ã‚³ãƒ¼ãƒ‰ã¡ã‚‡ã£ã¨èª­ã‚“ã§ã¿ãŸ</title>
      <link>https://satoshun.github.io/2019/11/navigation-dialog-internal-code/</link>
      <pubDate>Sat, 09 Nov 2019 06:23:13 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/11/navigation-dialog-internal-code/</guid>
      <description>Navigation Component 2.1.0ã‹ã‚‰dialogã‚¿ã‚°ãŒä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ ã©ã‚“ãªæ„Ÿã˜ã§å‡¦ç†ã‚’ã—ã¦ã„ã‚‹ã®ã‹æ°—ã«ãªã£ãŸã®ã§ã€ã–ã£ãã‚Šã¨ãƒ¡ãƒ¢æ›¸ãã€‚
1. abstract Navigatorã‚¯ãƒ©ã‚¹ ã“ã®ã‚¯ãƒ©ã‚¹ã¯æœ€çµ‚çš„ã«ã©ã®ã‚ˆã†ã«ã€å¯¾è±¡ã‚¯ãƒ©ã‚¹ã‚’navigateã•ã‚Œã‚‹ã‹ã‚’æ±ºã‚ã‚‹ã‚¯ãƒ©ã‚¹ã§ã™ã€‚ Activityãªã‚‰ã€ActivityNavigatorã€‚Fragmentãªã‚‰FragmentNavigatorãŒä½¿ã‚ã‚Œã¾ã™ã€‚ dialogã®å ´åˆã¯ã€DialogFragmentNavigatorçµŒç”±ã§dialogãŒç™ºç«ã™ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚
2. NavInlaterã§dialogã‚¿ã‚°ã®å ´åˆã€DialogFragmentNavigatorã‚’ä½¿ã†ã‚ˆã†ã«ã—ã¦ã„ã‚‹ NavInflaterã¯å˜ç´”ãªXMLãƒ‘ãƒ¼ã‚µãƒ¼ã«ãªã£ã¦ã„ã¾ã™ã€‚&amp;lt;dialog &amp;hellip;&amp;gt; ã‚’ç™ºè¦‹ã—ãŸã‚‰ã€DialogFragmentNavigatorã‹ã‚‰NavDestinationã‚’ä½œæˆã™ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚ ã“ã®NavDestinationã¯å®Ÿéš›ã«ã‚³ãƒ¼ãƒ«ã•ã‚Œã‚‹ã¨ãã«ã€DialogFragmentNavigatorã‚’å‘¼ã³å‡ºã™ã‚ˆã†ãªä»•çµ„ã¿ãªã£ã¦ã„ã¾ã™ã€‚
3. DialogFragmentNavigatorã®ä¸­èº« ä¸€éƒ¨åˆ†ã‚’æŠœç²‹ã—ã¾ã™ã€‚
/* * Copyright 2019 The Android Open Source Project * * Licensed under the Apache License, Version 2.0 (the &amp;#34;License&amp;#34;); * you may not use this file except in compliance with the License. * You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an &amp;#34;AS IS&amp;#34; BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</description>
    </item>
    
    <item>
      <title>Android Studio: Firebaseãªã©ã®ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ãƒ­ã‚°ã‹ã‚‰é–¢æ•°ã‚¸ãƒ£ãƒ³ãƒ—ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹</title>
      <link>https://satoshun.github.io/2019/10/analyze-stack-trace/</link>
      <pubDate>Tue, 29 Oct 2019 01:32:36 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/10/analyze-stack-trace/</guid>
      <description>Android Studio: Debugging Tips n&#39; Tricks (Android Dev Summit &amp;lsquo;19)ã§ã€ä¾¿åˆ©ãªæ©Ÿèƒ½ãŒã‚ã£ãŸã®ã§ã€ãã‚Œã®ç´¹ä»‹ã§ã™ã€‚
 ãƒ†ã‚­ã‚¹ãƒˆå½¢å¼ã®ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ãƒ­ã‚°ã‚’ã€Android Studioä¸Šã§é–¢æ•°ã‚¸ãƒ£ãƒ³ãƒ—å‡ºæ¥ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ Firebaseã®ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ãƒ­ã‚°ã‚’ä¾‹ã«ã—ã¦èª¬æ˜ã—ã¦ãã¾ã™ã€‚
ã¾ãšã€ Firebaseã‹ã‚‰ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ãƒ­ã‚°ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã™ã€‚
   æ¬¡ã«ã€Android Studioã®Analyze Stack Trace or Thread Dumpã‚’ä½¿ã„ã€ã•ãã»ã©ã‚³ãƒ”ãƒ¼ã—ãŸã‚¯ãƒ©ãƒƒã‚·ãƒ¥ãƒ­ã‚°ã‚’ãƒšãƒ¼ã‚¹ãƒˆã—ã¾ã™ã€‚
   ãã†ã™ã‚‹ã¨ã€Android Studioä¸Šã§ã€é–¢æ•°ã‚¸ãƒ£ãƒ³ãƒ—ãŒå‡ºæ¥ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼
  </description>
    </item>
    
    <item>
      <title>Android Gradle Plugin 4.0ã§java.timeãŒãƒãƒƒã‚¯ãƒãƒ¼ãƒˆã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸ</title>
      <link>https://satoshun.github.io/2019/10/desugar-java-time/</link>
      <pubDate>Sat, 26 Oct 2019 02:21:55 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/10/desugar-java-time/</guid>
      <description>Java 8 library desugaring in D8 and R8ã§ã€desugarãŒA subset of java.timeã«å¯¾å¿œã—ãŸã¨ã®ã“ã¨ã§ã€ThreeTenABPãŒç½®ãæ›ãˆã‚‰ã‚Œã‚‹ã®ã§ã¯ï¼Ÿã¨æ€ã„ã€ã‚¦ã‚­ã‚¦ã‚­ã§è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚
ç’°å¢ƒã¯ com.android.tools.build:gradle:4.0.0-alpha01ã«ãªã‚Šã¾ã™ã€‚
ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— build.gradleã«ã€coreLibraryDesugaringEnabledã‚’è¿½åŠ ã—ã¾ã™ã€‚
compileOptions { sourceCompatibility JavaVersion.VERSION_1_8 targetCompatibility JavaVersion.VERSION_1_8 coreLibraryDesugaringEnabled true } ã“ã‚Œã§å®Œäº†ã§ã™ã€‚
java.timeã®APIã‚’å‘¼ã³å‡ºã—ã¦ã¿ã‚‹ 29, 21ã®ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ã§æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã‚’è©¦ã—ãŸã¨ã“ã‚ã€ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã™ã‚‹ã“ã¨ãªãã€ç„¡äº‹ã«å®Ÿè¡Œã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã—ãŸï¼
// Instant API val date = Date() val instant = date.toInstant() binding.instant.text = instant.epochSecond.toString() // ZoneId API val zoneId = ZoneId.systemDefault() binding.zoneId.text = zoneId.id println(instant.atZone(zoneId).dayOfMonth) println(instant.atZone(zoneId).month) // LocalDate API val now = LocalDate.now() binding.localDate.text = now.dayOfMonth.toString() println(now.dayOfMonth) // ZoneOffset API val zoneOffset = ZoneOffset.</description>
    </item>
    
    <item>
      <title>ViewPager2ã§è¦ç´ ã‚’ãƒ«ãƒ¼ãƒ—ã•ã›ã‚‹</title>
      <link>https://satoshun.github.io/2019/10/viewpager2-loop/</link>
      <pubDate>Sun, 13 Oct 2019 05:23:44 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/10/viewpager2-loop/</guid>
      <description>ViewPager2ã§è¦ç´ ã‚’ãƒ«ãƒ¼ãƒ—ã•ã›ã‚‹æ–¹æ³•ã®ç´¹ä»‹ã§ã™ã€‚ã„ã‚ã‚†ã‚‹å¾ªç’°ãƒªã‚¹ãƒˆã§ã™ã€‚
ViewPager2ã§ã¯RecyclerViewã‚’ä½¿ã†ã“ã¨ãŒå‡ºæ¥ã‚‹ã®ã§ã€RecyclerViewã¨åŒã˜ã‚ˆã†ãªå®Ÿè£…ã§å®Ÿç¾ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
æœ€çµ‚çš„ã«ã“ã‚“ãªã®ãŒä½œã‚Œã¾ã™ã€‚ï¼ˆaã€bã€cã®è¦ç´ ã§ãƒ«ãƒ¼ãƒ—ã—ã¦ã„ã‚‹ï¼‰
  ä»Šå›ã®æ¤œè¨¼ã«ç”¨ã„ãŸã‚³ãƒ¼ãƒ‰ã¯ã€satoshun/ViewPager2ã«ã‚ã‚Šã¾ã™ğŸ˜ƒ
ã§ã¯ã€ã‚³ãƒ¼ãƒ‰ã‚’èª¬æ˜ã—ã¦ã„ãã¾ã™ã€‚ä»Šå›ã¯ã€1ã¤ã®ViewTypeã‚’æ‰±ã„ã¾ã™ã€‚
å®Ÿéš›ã®ã‚³ãƒ¼ãƒ‰ ã¾ãšã€RecyclerView.Adapterã®ã‚µã‚¤ã‚ºã‚’æ±ºã‚ã‚‹getItemCountãƒ¡ã‚½ãƒƒãƒ‰ã®å®Ÿè£…ã§ã™ã€‚ é™ã‚Šãªãå¤§ãã„å€¤ã€Int.MAX_VALUEã‚’è¿”ã—ã¾ã™ã€‚
override fun getItemCount(): Int = Int.MAX_VALUE æ¬¡ã«ã€onBindViewHolderãƒ¡ã‚½ãƒƒãƒ‰ã‚’æ¬¡ã®ã‚ˆã†ã«å®Ÿè£…ã—ã¾ã™ã€‚
private val itemData: List&amp;lt;Data&amp;gt; override fun onBindViewHolder(holder: InfiniteViewHolder, position: Int) { val data = itemData[position % itemData.size] ... } itemDataã«ã¯Viewã®ç”Ÿæˆã«å¿…è¦ãªå®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿ãŒå…¥ã£ã¦ã„ã¾ã™ã€‚position % itemData.sizeã¨indexã‚’å–ã‚‹ã“ã¨ã§ã€ãƒ«ãƒ¼ãƒ—ä¸­ã®ã©ã“ã®ä½ç½®ã«ã„ã‚‹ã‹ã‚’ç‰¹å®šã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
æœ€çµ‚çš„ãªã€RecyclerView.Adapterã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ï¼ˆonCreateViewHolderãƒ¡ã‚½ãƒƒãƒ‰ã¯é‡è¦ã§ãªã„ã®ã§ã€çœç•¥ã—ã¦ã„ã¾ã™ï¼‰
class InfiniteAdapter( private val itemData: List&amp;lt;Data&amp;gt; ) : RecyclerView.Adapter&amp;lt;InfiniteViewHolder&amp;gt;() { override fun getItemCount(): Int = Int.MAX_VALUE override fun onCreateViewHolder(parent: ViewGroup, viewType: Int) = ... override fun onBindViewHolder(holder: InfiniteViewHolder, position: Int) { val data = itemData[position % itemData.</description>
    </item>
    
    <item>
      <title>ISUCON9 æ±ºå‹å‚åŠ ãƒ­ã‚°</title>
      <link>https://satoshun.github.io/2019/10/isucon2019-final/</link>
      <pubDate>Mon, 07 Oct 2019 22:51:53 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/10/isucon2019-final/</guid>
      <description>ISUCON9ã®æ±ºå‹ã«å‡ºå ´ã—ã¦ãã¾ã—ãŸã€‚æœ€çµ‚ã‚¹ã‚³ã‚¢ã¯å†èµ·å‹•è©¦é¨“å¤±æ•—ã®ã€å‚è€ƒã‚¹ã‚³ã‚¢ã¯3,611ã§ã—ãŸ:D
ã‚„ã£ãŸã“ã¨ã¨ã€åçœç‚¹ã‚’ç°¡å˜ã«ã¾ã¨ã‚ã¦ãŠãã¾ã™ã€‚é¸æŠè¨€èªã¯Goã§ã™ã€‚
ã‚„ã£ãŸã“ã¨  æœ€åˆã®1æ™‚é–“ãã‚‰ã„  é©å½“ã«ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ã€ã‚µã‚¤ãƒˆã‚’è§¦ã£ã¦ã¿ã‚‹ ã‚¢ãƒ—ãƒªã‚³ãƒ¼ãƒ‰èª­ã‚€  ä½•ã‹ç„¡é§„ãªãƒ­ã‚°å¤šã„ãªãã€œã¨æ€ã£ãŸã‘ã©ã€ä»Šæ€ãˆã°ãƒ’ãƒ³ãƒˆã ã£ãŸã£ã½ã„     /api/train/searchã®N+1ã®å‰Šé™¤ã€ã‚¯ã‚¨ãƒªæœ€é©åŒ–  /api/train/searchã§ãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ãŒã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¦ã„ãŸã®ã§ã€ã“ã“ã‚’è§£æ±ºã™ã‚‹ã®ãŒæœ€å„ªå…ˆã ã¨æ€ã£ãŸ  ãŸã ã€å®Ÿè£…ãŒä¸Šæ‰‹ãè¡Œã‹ãªãã¦æœ€åˆã®ã‚¹ã‚³ã‚¢ãŒå‡ºã‚‹ã®ãŒé…ã™ããŸã€‚INDEXè²¼ã‚‹ã¨ã‹ã€ç°¡å˜ãªæ–¹æ³•ã‚’è€ƒãˆãŸã»ã†ãŒè‰¯ã‹ã£ãŸã‹ã‚‚ã—ã‚Œãªã„     /api/train/seatsã®N+1ã®å‰Šé™¤ã€ã‚¯ã‚¨ãƒªæœ€é©åŒ–  è¨ˆæ¸¬ã®çµæœã€æ¬¡ã®2ç•ªç›®ã®ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ã ã£ãŸ  ã“ã£ã¡ã¯å‰²ã¨ã‚¹ãƒ ãƒ¼ã‚ºã«å‡ºæ¥ãŸ     seat_masterãªã©ã®ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªåŒ–  insertãŒãªã„ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªã«ã™ã‚Œã°ã„ã„ã‚“ã¡ã‚ƒã†ã¨æ€ã£ã¦ã‚„ã£ãŸ   ã„ã‚ã„ã‚INDEXè²¼ã£ãŸã‚Šã¨ã‹  åçœç‚¹  ã»ã‚“ã¾ã«ç·´ç¿’ä¸è¶³  Dockeråˆ†ã‹ã‚“ãªã™ãã¦ãƒã‚²ãã†ã ã£ãŸ N+1ã¨ã‹ã‚‚ã£ã¨ã‚¹ãƒ ãƒ¼ã‚ºã«è§£æ±ºã—ãªã„ã¨ã­   å…¨ä½“çš„ãªæµã‚Œã‚’æŠŠæ¡ã—ã‚ˆã†ã¨ã—ãªã‹ã£ãŸã®ã§ã€ã‚‚ã†é§„ç›®  å±€æ‰€çš„ã«æ”»ã‚ã¦ã‚‚ã€ãªã‹ãªã‹ã‚¹ã‚³ã‚¢ä¸ŠãŒã‚“ãªã„ã‚“ã ã‚ˆã­    æ¥å¹´  å„ªå‹ã—ã¾ã™ğŸ’  </description>
    </item>
    
    <item>
      <title>Android ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«: ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã«ã¤ã„ã¦</title>
      <link>https://satoshun.github.io/2019/09/multi-module-dependency-management/</link>
      <pubDate>Mon, 23 Sep 2019 12:07:59 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/09/multi-module-dependency-management/</guid>
      <description>ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãªã‚¢ãƒ—ãƒªã‚’ä½œã‚‹ã“ã¨ã‚’ãƒ†ãƒ¼ãƒã«ã„ãã¤ã‹ã®è¨˜äº‹ã‚’æ›¸ã„ã¦ã„ããŸã„ã¨æ€ã£ã¦ã„ã¾ã™ã€‚
ã¾ã æ­£ç¢ºã«ã¯æ±ºã¾ã£ã¦ã„ãªã„ã®ã§ã™ãŒã€ä»¥ä¸‹ã®ã‚ˆã†ãªå†…å®¹ã‚’ã¾ã¨ã‚ã¦ã„ã“ã†ã¨æ€ã£ã¦ãŠã‚Šã¾ã™ã€‚
 ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã«ã¤ã„ã¦ ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹ç¯‰ã«å½¹ç«‹ã¤Gradleã®è¨­å®š ãƒ¢ãƒãƒªã‚·ãƒƒã‚¯ãªã‚¢ãƒ—ãƒªã‹ã‚‰ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¸ å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ã—ã¦åˆ‡ã‚Šå‡ºã™ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã‚’è€ƒãˆã‚‹ DFMã€ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«é–“ã®é·ç§»æ–¹æ³• ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®éšå±¤ã«ã¤ã„ã¦ ãƒ“ãƒ«ãƒ‰ã®é«˜é€ŸåŒ–ã«ã¤ã„ã¦   ä»Šå›ã¯ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã«ã¤ã„ã¦æ›¸ã„ã¦ãã¾ã™ã€‚
ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ï¼Ÿ Androidé–‹ç™ºã§ã¯ã€Gradleã§å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä¾å­˜ã‚’å®šç¾©ã™ã‚‹ã®ãŒä¸€èˆ¬çš„ã§ã™ã€‚ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å ´åˆã€å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’åˆã‚ã›ã‚‹ãŸã‚ã€å¤‰æ•°ã®ã‚ˆã†ãªå½¢ã§å®šç¾©ã—ã¦ãŠãã¨ä¾¿åˆ©ã§ã™ã€‚
å¤‰æ•°ã®å®šç¾©æ–¹æ³•ã«ã¯ã€ç›´æ¥è¨˜è¿°ã™ã‚‹æ–¹æ³•ã‚’é™¤ãã¨ã€å¤§ãã2ã¤ã®æ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚
1. Gradleã®extraãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä½¿ã† Androidã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: Configure project-wide propertiesã§ç´¹ä»‹ã•ã‚Œã¦ã„ã‚‹æ–¹æ³•ã§ã™ã€‚ extã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å®šç¾©ã—ã¾ã™ã€‚
ä¾‹ãˆã°ã€OkHttpã§ã¯ã€æ¬¡ã®ã‚ˆã†ã«å®šç¾©ã—ã¦ã„ã¾ã™ã€‚
buildscript { ext.versions = [ &amp;#39;animalSniffer&amp;#39;: &amp;#39;1.17&amp;#39;, &amp;#39;assertj&amp;#39;: &amp;#39;3.11.0&amp;#39;, &amp;#39;bouncycastle&amp;#39;: &amp;#39;1.62&amp;#39;, &amp;#39;brotli&amp;#39;: &amp;#39;0.1.2&amp;#39;, ... ext.deps = [ &amp;#39;picocli&amp;#39;: &amp;#34;info.picocli:picocli:${versions.picocli}&amp;#34;, &amp;#39;android&amp;#39;: &amp;#34;org.robolectric:android-all:9-robolectric-4913185-2&amp;#34;, &amp;#39;animalSniffer&amp;#39;: &amp;#34;org.codehaus.mojo:animal-sniffer-annotations:${versions.animalSniffer}&amp;#34;, &amp;#39;assertj&amp;#39;: &amp;#34;org.assertj:assertj-core:${versions.assertj}&amp;#34;, &amp;#39;bouncycastle&amp;#39;: &amp;#34;org.bouncycastle:bcprov-jdk15on:${versions.bouncycastle}&amp;#34;, &amp;#39;brotli&amp;#39;: &amp;#34;org.brotli:dec:${versions.brotli}&amp;#34;, ... extãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ã‚»ãƒƒãƒˆã—ã¾ã™ã€‚
ãã—ã¦ã€æ¬¡ã®ã‚ˆã†ã«ä½¿ã„ã¾ã™ã€‚
dependencies { api deps.okio api deps.kotlinStdlib compileOnly deps.android compileOnly deps.conscrypt ... ãƒ¡ãƒªãƒƒãƒˆã€ãƒ‡ãƒ¡ãƒªãƒƒãƒˆã‚’ã¾ã¨ã‚ã‚‹ã¨æ¬¡ã«ãªã‚Šã¾ã™ã€‚
 ãƒ¡ãƒªãƒƒãƒˆ  Androidã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ç´¹ä»‹ã•ã‚Œã¦ã„ã‚‹æ–¹æ³• ãƒã‚¦ãƒã‚¦ãŒå¤šã„ Android Studioã®Project StructureãŒä½¿ãˆã‚‹ (Project Structureã«ã¤ã„ã¦ã¯æœ€å¾Œã«ç´¹ä»‹ã—ã¾ã™)   ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ  IDEã«ã‚ˆã‚‹ã‚³ãƒ¼ãƒ‰è£œå®ŒãŒåŠ¹ã‹ãªã„    2.</description>
    </item>
    
    <item>
      <title>ISUCON9 äºˆé¸ãƒ­ã‚°</title>
      <link>https://satoshun.github.io/2019/09/isucon2019-qualify/</link>
      <pubDate>Wed, 11 Sep 2019 02:14:03 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/09/isucon2019-qualify/</guid>
      <description>ISUCON9ã«ãƒãƒ¼ãƒ Ssstohã§ä¼šç¤¾ã®å‹é”ã¨å‚åŠ ã—ã¦ãã¾ã—ãŸã€‚æœ€çµ‚ã‚¹ã‚³ã‚¢ã¯11,860ã§ã€ç„¡äº‹ã«æœ¬ç·šã«å‡ºå ´å‡ºæ¥ã‚‹ã“ã¨ã«ãªã‚Šã¾ã—ãŸ:D
åƒ•ãŒã‚„ã£ãŸã“ã¨ã‚’ã¤ã‚‰ã¤ã‚‰ã¨åçœã¨ã¨ã‚‚ã«ã€ãƒ­ã‚°ã«æ®‹ã—ã¦ç½®ã“ã†ã¨æ€ã„ã¾ã™ã€‚
ã¡ãªã¿ã«è¨€èªã¯Goã§ã™ã€‚
åƒ•ãŒã‚„ã£ãŸã“ã¨  æœ  å¯åŠã—ã¾ã—ãŸ    ISUCONèµ·åºŠå¤±æ•—
&amp;mdash; Sato ShunğŸ§ (@stsn_jp) September 7, 2019   12:00ãã‚‰ã„ã¾ã§  ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ¼ãƒ‰èª­ã‚“ã ã‚Šã€alpã®çµæœè¦‹ãŸã‚Šã€ã‚¹ãƒ­ãƒ¼ã‚¯ã‚¨ãƒªãƒ­ã‚°ã«å¯¾ã—ã¦Indexã‚’é©å½“ã«è²¼ã£ã¦ã¿ãŸã‚Šã—ã¦ãŸ  ã‚¹ã‚³ã‚¢ã»ã¼å¤‰ã‚ã‚‰ãšã€‚ãã‚Œã¯ãã†     12:00ã‹ã‚‰  /users/transactions.jsonãŒé…ãã†ã ã£ãŸã®ã§ã€ãã“ã‚’æ½°ã™  USERã®å–å¾—ãªã©ãŒN+1ã‚¯ã‚¨ãƒªã ã£ãŸã®ã§ã€ãã‚Œã‚’ INå¥ã«ç½®ãæ›ãˆ é“ä¸­ã€å¤–éƒ¨APIã‚’å©ã„ã¦ã‚‹ã¨ã“ã‚ãŒãƒœãƒˆãƒ«ãƒãƒƒã‚¯ã£ã½ã„ã“ã¨ã«æ°—ã¥ã   ã“ã“ã‚‰ã¸ã‚“ã®ä¿®æ­£ã§ã€ç¢ºã‹ã‚¹ã‚³ã‚¢ãŒ5000~6000ãã‚‰ã„ï¼ˆä»–ã®äººã®ä¿®æ­£ã‚‚å…¥ã£ã¦ã„ã‚‹ã®ã§ã€ã“ã‚Œã ã‘ã§ã¯ãªã„ã§ã™ï¼‰   16:30ãã‚‰ã„  /new_items/:root_category_id.jsonã€/new_items.jsonã®N+1ã‚¯ã‚¨ãƒªãƒ­ã‚°ã‚’å€’ã™  ã“ã“ã‚‰ã¸ã‚“ã§ç¢ºã‹8000~9000ãã‚‰ã„     17:30ãã‚‰ã„  ä»–ã®äººã®PRã¿ãŸã‚Šã€é™çš„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’Nginxã‹ã‚‰è¿”ã™ã‚ˆã†ã«ã—ã¦ãŸ  ã“ã“ã‚‰ã¸ã‚“ã§10000~ãã‚‰ã„     æœ€å¾Œã‚‰ã¸ã‚“  ãƒ­ã‚°ã‚’å‡ºåŠ›ã—ãªã„ã‚ˆã†ã«ã—ãŸã‚Šä¿®æ­£  ã“ã“ã‚‰ã¸ã‚“ã§æœ€çµ‚ã‚¹ã‚³ã‚¢ã®11,860ãã‚‰ã„      ã“ã‚“ãªæ„Ÿã˜</description>
    </item>
    
    <item>
      <title>ViewPager2ã§ã‚«ãƒ«ãƒ¼ã‚»ãƒ«ã£ã½ã„ã‚‚ã®ã‚’å®Ÿè£…ã™ã‚‹</title>
      <link>https://satoshun.github.io/2019/08/viewpager2-like-a-carousel/</link>
      <pubDate>Thu, 29 Aug 2019 13:29:06 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/08/viewpager2-like-a-carousel/</guid>
      <description>æ¨ªã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’ãƒãƒ©è¦‹ã›ã™ã‚‹ç”»é¢ã‚’ViewPager2ã§æ›¸ã‘ã‚‹ã‚ˆã£ã¦è©±ã§ã™ã€‚
æœ€çµ‚çš„ã«ã“ã‚“ãªã®ãŒä½œã‚Œã¾ã™ã€‚
  ã§ã¯ã€ã‚³ãƒ¼ãƒ‰ã‚’èª¬æ˜ã—ã¦ã„ãã¾ã™ã€‚
1. æ¨ªã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’ãƒãƒ©è¦‹ã›ã™ã‚‹ ã¾ãšã€ViewPager2ã‚’Layoutå†…ã«å®šç¾©ã—ã¾ã™ã€‚
&amp;lt;androidx.viewpager2.widget.ViewPager2 android:id=&amp;#34;@+id/viewpager&amp;#34; android:layout_width=&amp;#34;match_parent&amp;#34; android:layout_height=&amp;#34;200dp&amp;#34; android:orientation=&amp;#34;horizontal&amp;#34; /&amp;gt; æ¬¡ã«ã€æ¨ªã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’ã©ã‚Œã ã‘ãƒãƒ©è¦‹ã›ã‚‹ã‹ã‚’å®šç¾©ã—ã¾ã™ã€‚
&amp;lt;dimen name=&amp;#34;offset&amp;#34;&amp;gt;32dp&amp;lt;/dimen&amp;gt; æ¬¡ã«ã€å„ã‚¢ã‚¤ãƒ†ãƒ é–“ã«ã©ã‚Œã ã‘ã®ãƒãƒ¼ã‚¸ãƒ³ã‚’ã¤ã‘ã‚‹ã‹ã‚’å®šç¾©ã—ã¾ã™ã€‚
&amp;lt;dimen name=&amp;#34;page_margin&amp;#34;&amp;gt;16dp&amp;lt;/dimen&amp;gt; æ¬¡ã«ã€ViewPager2å†…ã§ä½¿ã†ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã®Viewã«marginLeftã€Rightã‚’ã‚»ãƒƒãƒˆã—ã¾ã™ã€‚
&amp;lt;com.google.android.material.card.MaterialCardView android:layout_width=&amp;#34;match_parent&amp;#34; android:layout_height=&amp;#34;match_parent&amp;#34; android:layout_marginLeft=&amp;#34;48dp&amp;#34; // ã“ã‚Œã¯ã€offset + page_marginã®å€¤ android:layout_marginRight=&amp;#34;48dp&amp;#34; app:cardCornerRadius=&amp;#34;16dp&amp;#34;&amp;gt; ... marginã«ã¯å‰ã§å®šç¾©ã—ãŸoffsetã€page_marginã‚’è¶³ã—åˆã‚ã›ãŸã‚‚ã®ã‚’æŒ‡å®šã—ã¾ã™ã€‚
ãã—ã¦ã€æœ€å¾Œã«PageTransformerã‚’è¨­å®šã—ã¾ã™ã€‚
viewpager.offscreenPageLimit = 2 // ã“ã‚Œã¯å·¦å³ã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’æç”»ã™ã‚‹ãŸã‚ã«å¿…è¦  val pageMarginPx = root.context.resources.getDimensionPixelOffset(R.dimen.page_margin) val offsetPx = root.context.resources.getDimensionPixelOffset(R.dimen.offset) viewpager.setPageTransformer { page, position -&amp;gt; val offset = position * (2 * offsetPx + pageMarginPx) page.translationX = -offset } PageTransformerã¯ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã«å¿œã˜ã¦ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã•ã‚Œã‚‹é–¢æ•°ã«ãªã‚Šã¾ã™ã€‚ ã“ã®ä¸­ã§ã€translationXã‚’positionã®å€¤ã«å¿œã˜ã¦å‹•ã‹ã™ã“ã¨ã§ã€å·¦å³ã®ã‚¢ã‚¤ãƒ†ãƒ ã®ãƒãƒ©è¦‹ã›ã‚’å®Ÿç¾å‡ºæ¥ã¾ã™ã€‚
2. ã•ã‚‰ã«Scaleã‚‚å¤‰æ›´ã™ã‚‹ å‰è¿°ã—ãŸãƒãƒ©è¦‹ã›PageTransformerã«åŠ ãˆã€Scaleç”¨ã®PageTransformerã‚‚ä½œã‚Šã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>Kotlin: Flowã®Bufferã®æŒ‡å®šã«ã¤ã„ã¦</title>
      <link>https://satoshun.github.io/2019/08/flow-buffer/</link>
      <pubDate>Sat, 03 Aug 2019 23:37:02 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/08/flow-buffer/</guid>
      <description>Coroutineã®Flowã«ã¯Bufferã‚’æŒ‡å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚Bufferã®æŒ‡å®šã«ã‚ˆã£ã¦ã©ã®ã‚ˆã†ã«å‹•ä½œãŒå¤‰ã‚ã‚‹ã‹ã‚’è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚
ã“ã®è¨˜äº‹ã¯ã€å°‘ã—Flowã‚’è§¦ã£ãŸã“ã¨ã‚ã‚‹ãï¼ã£ã¦è¨€ã†äººå‘ã‘ã«ãªã‚Šã¾ã™ã€‚ã¾ãŸã€æ¤œè¨¼ã¯Coroutine 1.3.0-RCã§è¡Œã£ã¦ãŠã‚Šã¾ã™ã€‚
Bufferã®ç¨®é¡ Bufferã®ç¨®é¡ã¯5ã¤ã‚ã‚Šã¾ã™ã€‚
 UNLIMITED RENDEZVOUS CONFLATED BUFFERED 50ã€100ãªã©ã®ã€å…·ä½“çš„ãªå€¤  å®Ÿè³ªã€BUFFEREDã¨åŒã˜æŒ™å‹•ã‚’ã™ã‚‹    æ¤œè¨¼ã‚³ãƒ¼ãƒ‰ // flowã‚¹ãƒˆãƒªãƒ¼ãƒ ã®ä½œæˆ val f = flow { repeat(100) { delay(1) emit(&amp;#34;$it&amp;#34;) } } // observeã™ã‚‹ lifecycleScope.launch { f .buffer(...) ã“ã“ã§Bufferã‚’æŒ‡å®šã™ã‚‹ .collect { delay(100) Log.d(&amp;#34;t4&amp;#34;, &amp;#34;$it&amp;#34;) } } ã“ã®ã‚³ãƒ¼ãƒ‰ã¯ã€ã¾ãšæœ€åˆã«ã€flowãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã£ã¦ã€Flowã‚¹ãƒˆãƒªãƒ¼ãƒ ã‚’ä½œã‚Šã¾ã™ã€‚ã“ã‚Œã‚’ã“ã®è¨˜äº‹ã§ã¯Producerï¼ˆç”Ÿç”£è€…ï¼‰ã¨å‘¼ã³ã¾ã™ã€‚ã“ã®Producerã¯1ã¤ã®å€¤ã‚’é€ã‚‹ã®ã«ç´„delay(1)ã‹ã‹ã‚Šã¾ã™ã€‚ãªã®ã§ã€å‡¦ç†ã«ç´„1msã‹ã‹ã‚Šã¾ã™ã€‚
æ¬¡ã«ã€ä½œã£ãŸflowã‚’observeã—ã¾ã™ã€‚observeã™ã‚‹å´ã‚’Consumerï¼ˆæ¶ˆè²»è€…ï¼‰ã¨å‘¼ã³ã¾ã™ã€‚Consumerã§ã¯delay(100)ã—ã¦ã„ã‚‹ã®ã§ã€å‡¦ç†ã«ç´„100msã‹ã‹ã‚Šã¾ã™ã€‚
ã“ã‚Œã¯ã€æ¬¡ã®é–¢ä¿‚ã‚’ä½œã‚Šå‡ºã—ã¦ã„ã¾ã™
 Consumerã®å‡¦ç†æ™‚é–“ &amp;gt; Producerã®å‡¦ç†æ™‚é–“  ã“ã®çŠ¶æ…‹ã§ã€Bufferã‚’æŒ‡å®šã—ãŸã‚‰ã©ã®ã‚ˆã†ã«æŒ™å‹•ãŒå¤‰ã‚ã‚‹ã‹ã‚’è¦‹ã¦ã„ãã¾ã™ã€‚
UNLIMITED f .buffer(Channel.UNLIMITED) .collect { delay(100) Log.d(&amp;#34;t4&amp;#34;, &amp;#34;$it&amp;#34;) } UNLIMITEDã¯Bufferã®ã‚µã‚¤ã‚ºã‚’ç„¡åˆ¶é™ã«ã—ã¾ã™ã€‚
Consumerå´ã§å‡¦ç†ãŒçµ‚ã‚ã£ã¦ãªãã¦ã‚‚å€¤ã‚’é€ã‚Šã¾ã™ã€‚ãã®å€¤ã¯ã€ConsumerãŒç¾åœ¨ã®ã‚¿ã‚¹ã‚¯ã‚’ã—ã¦ã„ãŸã‚‰ã€flowã®å†…éƒ¨ã§ä¸€æ—¦ä¿å­˜ã•ã‚Œã¾ã™ã€‚ãã—ã¦ã€Consumerã®ç¾åœ¨ã®ã‚¿ã‚¹ã‚¯ãŒå®Œäº†ã—ãŸã‚‰ã€å†…éƒ¨ã§ä¿å­˜ã—ãŸãƒ‡ãƒ¼ã‚¿ãŒ1ã¤ãšã¤æµã‚Œã¦ãã¾ã™ã€‚
 Producer: Consumerã®çŠ¶æ…‹ã«é–¢ã‚ã‚‰ãšã€å€¤ã‚’æµã—ã¦ãã‚‹ã€‚Consumerã®å‡¦ç†ãŒçµ‚ã‚ã£ã¦ã„ãªã„ã¨ãã¯ã€å†…éƒ¨ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ä¿å­˜ã•ã‚Œã¦ã„ã Consumer: ã™ã¹ã¦ã®å€¤ã‚’é †ç•ªé€šã‚Šã«å—ã‘å–ã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹  RENDEZVOUS f .</description>
    </item>
    
    <item>
      <title>GitHubã®Notificationsã§ã€androidxãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒªãƒªãƒ¼ã‚¹ã®é€šçŸ¥ã‚’å—ã‘å–ã‚Œã‚‹ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œã‚Šã¾ã—ãŸ</title>
      <link>https://satoshun.github.io/2019/07/androidx-releases/</link>
      <pubDate>Sat, 20 Jul 2019 02:57:15 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/07/androidx-releases/</guid>
      <description>androidxã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒªãƒªãƒ¼ã‚¹ã‚’GitHubã®Releases onlyã‚’ä½¿ã£ã¦æ¤œçŸ¥ã™ã‚‹ãŸã‚ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œã‚Šã¾ã—ãŸã€‚ androidx-releasesã«ãã‚Œãã‚Œã®ãƒªãƒã‚¸ãƒˆãƒªãŒã‚ã‚Šã¾ã™ã€‚
ä¾‹ãˆã°ã€Appcompatã®ãƒªãƒªãƒ¼ã‚¹ã‚’æ¤œçŸ¥ã—ãŸã‹ã£ãŸã‚‰ã€æ¬¡ã®ç”»åƒã®ã‚ˆã†ã«ã€androidx-releases/appcompatã®Notificationsã®Releases Onlyã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚

  
ã“ã®çŠ¶æ…‹ã§ã€Appcompatã«æ–°ã—ã„ãƒªãƒªãƒ¼ã‚¹ãŒã‚ã£ãŸã‚‰ã€GitHubã«ç™»éŒ²ã—ã¦ã‚ã‚‹ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã«ãƒ¡ãƒ¼ãƒ«ãŒå±Šãã¾ã™ã€‚

  
ã¾ã¨ã‚  ä½œã£ã¦ã¿ãŸã‚‚ã®ã®ã€ã“ã‚ŒãŒä¾¿åˆ©ãªã®ã‹ã¯è‰¯ãåˆ†ã‹ã£ã¦ãªã„ã§ã™:D ä»–ã®androidxãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒªãƒªãƒ¼ã‚¹ã®é€šçŸ¥ã‚’å—ã‘ãŸã„ãªã‚‰ã€androidx-releasesã‹ã‚‰ç™»éŒ²ã‚’ã€‚ ä½•ã‹ä»–ã«æ¬²ã—ã„androidxãƒªãƒã‚¸ãƒˆãƒªãŒã‚ã£ãŸã‚‰æ•™ãˆã¦ãã ã•ã„ğŸ˜ƒ  </description>
    </item>
    
    <item>
      <title>Material Components: MaterialTextViewã§lineHeightãŒTextAppearanceã‹ã‚‰æŒ‡å®šå‡ºæ¥ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸ</title>
      <link>https://satoshun.github.io/2019/07/material-textview/</link>
      <pubDate>Mon, 15 Jul 2019 03:09:15 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/07/material-textview/</guid>
      <description>å¾“æ¥ã®TextViewï¼ˆAppCompatTextViewï¼‰ã§ã¯ã€lineHeightã®æŒ‡å®šã‚’TextAppearanceã‹ã‚‰å‡ºæ¥ã¾ã›ã‚“ã§ã—ãŸã€‚
ãã‚ŒãŒã€material-component 1.1.0-alpha08ã«MaterialTextViewãŒçˆ†èª•ã—ã€lineHeightãŒTextAppearanceã‹ã‚‰æŒ‡å®šå‡ºæ¥ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸğŸ‰
ä½¿ã„æ–¹ ã¾ãšã¯styleã‚’å®šç¾©ã—ã¾ã™ã€‚
&amp;lt;style name=&amp;#34;TextAppearance.LineHeight&amp;#34;&amp;gt; &amp;lt;item name=&amp;#34;lineHeight&amp;#34;&amp;gt;20sp&amp;lt;/item&amp;gt; &amp;lt;/style&amp;gt; æ¬¡ã«ã€TextViewã‹ã‚‰æŒ‡å®šã—ã¾ã™ã€‚
&amp;lt;TextView android:layout_width=&amp;#34;wrap_content&amp;#34; android:layout_height=&amp;#34;wrap_content&amp;#34; android:text=&amp;#34;ãƒ†ã‚¹ãƒˆ&amp;#34; android:textAppearance=&amp;#34;@style/TextAppearance.LineHeight&amp;#34; /&amp;gt; ã“ã‚Œã§å®Œäº†ã§ã™ğŸ˜ƒ
MaterialTextViewã‚’XMLã‹ã‚‰ç›´æ¥æŒ‡å®šã—ã¦ã‚‚ã„ã„ã®ã§ã™ãŒã€AppCompatActivityã‚’ä½¿ã£ã¦ã„ã‚Œã°ã€è‡ªå‹•çš„ã«MaterialTextViewãŒinflateã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚ è©³ã—ãã¯MaterialComponentsViewInflater.javaã‚’ã”è¦§ä¸‹ã•ã„ã€‚
ã¾ã¨ã‚  material-component 1.1.0-alpha08ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã™ã‚‹ã¨ã€è‡ªå‹•çš„ã«MaterialTextViewãŒä½¿ã‚ã‚Œã€TextAppearanceã‹ã‚‰lineHeightãŒæŒ‡å®šã§ãã‚‹ğŸ˜ƒ  </description>
    </item>
    
    <item>
      <title>Android: RestrictToã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã®IDEä¸Šã§ã®æŒ¯ã‚‹èˆã„</title>
      <link>https://satoshun.github.io/2019/07/jetpack-annotation-restrict-to/</link>
      <pubDate>Wed, 03 Jul 2019 12:30:11 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/07/jetpack-annotation-restrict-to/</guid>
      <description>androidx.annotation:annotationã«ã¯ã€RestrictToã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚¯ãƒ©ã‚¹ãŒå®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚ ã“ã®ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã¯æ¬¡ã®ç”¨é€”ã‚’æŒã¡ã¾ã™ã€‚
 Denotes that the annotated element should only be accessed from within a specific scope (as defined by Scope).
 æŒ‡å®šã—ãŸScopeä»¥å¤–ã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’åˆ¶é™ã™ã‚‹ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚
ã“ã®è¨˜äº‹ã§ã¯ã€ã“ã®RestrictToã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãŒã¤ã„ãŸã‚¯ãƒ©ã‚¹ã«æ§˜ã€…ãªå ´æ‰€ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã¨ãã«ã€ã©ã®ã‚ˆã†ã«IDEä¸Šã§è­¦å‘ŠãŒå‡ºã‚‹ã‹ã«ã¤ã„ã¦è¦‹ã¦ã„ãã¾ã™ã€‚
ã¾ãŸã€Android Studio 3.5.0-beta05ã§æ¤œè¨¼ã—ã¾ã—ãŸã€‚
ã“ã®è¨˜äº‹å†…ã«å‡ºã¦ãã‚‹RestrictToé–¢é€£ã®ã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã«å¾“ã„ã¾ã™ã€‚
/* * Copyright (C) 2016 The Android Open Source Project * * Licensed under the Apache License, Version 2.0 (the &amp;#34;License&amp;#34;); * you may not use this file except in compliance with the License. * You may obtain a copy of the License at * * http://www.</description>
    </item>
    
    <item>
      <title>Retrofit: Coroutineã‚’ä½¿ã†ã¨ãã®ã€Response&lt;T&gt;ã¨ç”Ÿã®Tã®ä½¿ã„åˆ†ã‘</title>
      <link>https://satoshun.github.io/2019/07/retrofit-coroutine-return-type/</link>
      <pubDate>Tue, 02 Jul 2019 13:46:54 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/07/retrofit-coroutine-return-type/</guid>
      <description>psideã•ã‚“ã®ã€Retrofit2ã§RxJavaã‚’ä½¿ã†æ™‚ã® Result, Response, ãã®ã¾ã¾T ã®ä½¿ã„åˆ†ã‘æ‰€æ„Ÿã®Coroutineãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®è¨˜äº‹ã¨ãªã‚Šã¾ã™ã€‚
ä¸Šè¨˜ã®è¨˜äº‹ã«æ›¸ã„ã¦ã‚ã‚‹ã€Rxã¨ã¯é•ã„ã€Resultå‹ã¯ç”¨æ„ã•ã‚Œã¦ã„ãªã„ã®ã§ã€Responseå‹ã§åŒ…ã‚€ã‹ã€ç”Ÿã§å€¤ï½—å—ã‘å–ã‚‹ã‹ã®ã©ã¡ã‚‰ã‹ãŒåŸºæœ¬ã¨ãªã‚Šã¾ã™ã€‚
interface HogeService { suspend fun getHoge(): Hoge or suspend fun getHoge(): Response&amp;lt;Hoge&amp;gt; } Retrofitã®2.6.0ã§ã€æŒ™å‹•ã®é•ã„ã‚’ç¢ºèªã—ã¾ã—ãŸã€‚
    ç”Ÿ Response     200 æˆåŠŸ æˆåŠŸ   404 ä¾‹å¤– æˆåŠŸ   ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã«ç¹‹ãŒã£ã¦ã„ãªã„ ä¾‹å¤– ä¾‹å¤–   ã‚·ãƒªã‚¢ãƒ©ã‚¤ã‚ºãŒå‡ºæ¥ãªã„ï¼ˆå‹ãŒãŠã‹ã—ã„ï¼‰ ä¾‹å¤– ä¾‹å¤–     ç”Ÿã®å ´åˆã€HTTPã®status Codeçš„ã«å¤±æ•—ã¨ã•ã‚Œã‚‹ã‚‚ã®ã¯ä¾‹å¤–ã«ãªã‚‹ Responseå‹ã§åŒ…ã‚ã°ã€HTTPã®status Codeçš„ã«å¤±æ•—ã ã¨ã—ã¦ã‚‚ä¾‹å¤–ãŒç™ºç”Ÿã—ãªã„  ã£ã¦ã„ã†æ„Ÿã˜ã®æŒ™å‹•ã«ãªã‚Šã¾ã™ã€‚
ã©ã£ã¡ã‚’ä½¿ãˆã°ã„ã„ã®? ã‚µãƒ¼ãƒãŒã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã‚’è¿”ã—ã¦ããŸæ™‚ã«ã€ç‰¹åˆ¥ãªæŒ¯ã‚‹èˆã„ã‚’ã—ãŸã„ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã£ã¦ã‚ã‚‹ã¨æ€ã†ã®ã§ã€ãã†ã„ã†ã¨ãã¯Responseã§åŒ…ã‚“ã§ã‚ã’ã¦ã€ãã‚Œä»¥å¤–ã¯ç”Ÿã§ã„ã„ã‚“ã˜ã‚ƒãªã„ï¼Ÿã£ã¦æ€ã£ã¦ã¾ã™ï¼ˆå°ä¸¦æ„Ÿ</description>
    </item>
    
    <item>
      <title>RxJava 3.xã®é–‹ç™ºãŒæœ¬æ ¼çš„ã«å§‹ã¾ã‚Šã¾ã—ãŸ</title>
      <link>https://satoshun.github.io/2019/06/rxjava3-preview/</link>
      <pubDate>Mon, 24 Jun 2019 13:52:14 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/06/rxjava3-preview/</guid>
      <description>ç¾çŠ¶ã§ã®å·®ç•°ã‚’ã¾ã¨ã‚ã¦ãŠãã¾ã™ã€‚
RxJava2ã¨ã®å·®ç•° READMEã‹ã‚‰ README.md
RxJava2 ã¨ã®å·®åˆ†ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚
 fixed API mistakes and many limits of RxJava 2  RxJava2ã®ã„ãã¤ã‹ã®APIã®ãƒŸã‚¹ã€åˆ¶é™ã‚’ç›´ã—ã¦ã„ã‚‹   intended to be a replacement for RxJava 2 with relatively few binary incompatible changes  APIã«å¤šå°‘ã®å¤‰æ›´ãŒã‚ã‚Šã€ãƒã‚¤ãƒŠãƒªäº’æ›ãŒãªã„   test and diagnostic support via test schedulers, test consumers and plugin hooks  ãƒ†ã‚¹ãƒˆã®ã‚µãƒãƒ¼ãƒˆã®å……å®Ÿ    3.x different docsã‹ã‚‰ 3.x different docs
asãƒ¡ã‚½ãƒƒãƒ‰ã¨toãƒ¡ã‚½ãƒƒãƒ‰ toãƒ¡ã‚½ãƒƒãƒ‰ã¯Functionå‹ã‚’å¼•æ•°ã‹ã‚‰å–ã£ã¦ã„ãŸã€‚ã—ã‹ã—ã€ã‚ã‚‰ã‚†ã‚‹Reactiveå‹ã§Functionå‹ã‚’å—ã‘å–ã£ã¦ã„ãŸã®ã§ã€å…±é€šã®Converterã‚’ä½œã‚‹ã“ã¨ãŒå‡ºæ¥ãªã‹ã£ãŸã€‚
// Obsevable.java public final &amp;lt;R&amp;gt; R to(Function&amp;lt;? super Observable&amp;lt;T&amp;gt;, R&amp;gt; converter) // Single.</description>
    </item>
    
    <item>
      <title>Kotlinã®wildcard importã¨æ‹¡å¼µé–¢æ•°</title>
      <link>https://satoshun.github.io/2019/06/kotlin-wildcard-import-extension-method/</link>
      <pubDate>Wed, 19 Jun 2019 00:48:27 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/06/kotlin-wildcard-import-extension-method/</guid>
      <description>Kotlinã®å…¬å¼?ã§ã¯wildcard importã‚’å¤šæ§˜ã—ã¦ã„ã‚‹ãªã£ã¦æ€ã£ã¦ã„ã¾ã—ãŸã€‚
Roman Elizarovã•ã‚“ãŒã€Extension-oriented designä¸­ã§ã¡ã‚‰ã£ã¨ãƒ¡ãƒªãƒƒãƒˆã«ã¤ã„ã¦è©±ã—ã¦ã„ã¾ã—ãŸã€‚
 You might notice that our Kotlin code usually uses wildcard imports like import com.example.*. It is handy in Kotlin, because importing just a class in Kotlin is rarely enough. All the useful, convenient, utility functions are typically defined in the same package but outside of the class as extension functions.
 ã¾ã¨ã‚ã‚‹ã¨ã€Javaã¨ã¯é•ã„ã€Kotlinã§ã¯æ‹¡å¼µé–¢æ•°ãŒã‚ã‚Šã¾ã™ã€‚æ‹¡å¼µé–¢æ•°ã®å¤šãã¯ã€ã‚¯ãƒ©ã‚¹ã¨åŒã˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«å®šç¾©ã•ã‚Œã¾ã™ãŒã€æ‹¡å¼µé–¢æ•°ãªã®ã§ã‚¯ãƒ©ã‚¹ã®å¤–å´ã«é…ç½®ã•ã‚Œã¾ã™ã€‚wildcard importã§ã¯å¤–å´ã«é…ç½®ã•ã‚ŒãŸã€æ‹¡å¼µé–¢æ•°ã‚‚ã¾ã¨ã‚ã¦importã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹ãŸã‚ä¾¿åˆ©ã§ã™ã€‚
ã¨ã„ã†ç†ç”±ã‚‰ã—ã„ã§ã™ã€‚
é›‘è«‡: wildcard importã®ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ  åå‰è¡çªãŒèµ·ãã‚„ã™ã„ ã©ã®ã‚ˆã†ãªä¾å­˜ãŒã‚ã‚‹ã®ã‹ãŒåˆ†ã‹ã‚Šã«ãã„  ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®ã—ãšã‚‰ã•   ç„¡é§„ãªã‚¯ãƒ©ã‚¹ã¸ã®ä¾å­˜ãŒç”Ÿã¾ã‚Œã‚‹  </description>
    </item>
    
    <item>
      <title>Google I/O&#39;19: Build a Modular Android App Architectureã®ã¾ã¨ã‚ãƒ»æ„Ÿæƒ³</title>
      <link>https://satoshun.github.io/2019/06/build-a-modular-android-app-architecture/</link>
      <pubDate>Sun, 09 Jun 2019 12:04:27 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/06/build-a-modular-android-app-architecture/</guid>
      <description>ä»¥ä¸‹ã®å‹•ç”»ã®ã¾ã¨ã‚ã§ã™ã€‚
Build a Modular Android App Architecture (Google I/O&#39;19)
ãªãœãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–ã‚’ã™ã‚‹ã‹? ã‚¹ã‚±ãƒ¼ãƒ« ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–ã™ã‚‹ã“ã¨ã§ã€é–‹ç™ºè€…ãŒç‹¬ç«‹ã—ã¦é–‹ç™ºå‡ºæ¥ã‚‹ã‚ˆã†ã«ãªã‚‹
 äººæ•°ãŒå¢—ãˆã¦ããŸæ™‚ã€ã‚¢ãƒ—ãƒªãŒå¤§ãããªã£ã¦ããŸæ™‚ã«ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–ã¯æœ‰åŠ¹  ä¿å®ˆæ€§ ä¾‹ãˆã°ã€ãƒ¢ãƒãƒªã‚·ãƒƒã‚¯ã‚¢ãƒ—ãƒªã ã¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’1ã¤ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«æŒã¤ã“ã¨ã«ãªã‚‹
 ä½•ã‚’ã—ã¦ã„ã‚‹ã®ã‹ã€ä½•ã‚’ã—ãŸã„ã®ã‹ãŒç†è§£ã—ã«ãã„ é•·ã„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ•ã‚¡ã‚¤ãƒ«åã«ãªã‚ŠãŒã¡  ãƒ“ãƒ«ãƒ‰æ™‚é–“ã®çŸ­ç¸® å¤‰æ›´ãŒã‚ã£ãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« + ãã®ä¾å­˜é–¢ä¿‚ã«ã‚ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒå†ãƒ“ãƒ«ãƒ‰ã•ã‚Œã‚‹ãŸã‚ã€ãƒ“ãƒ«ãƒ‰æ™‚é–“ãŒçŸ­ããªã‚‹
CIã®é«˜é€ŸåŒ– å†ãƒ“ãƒ«ãƒ‰ãŒå¿…è¦ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã¿ãƒ†ã‚¹ãƒˆã‚’ã™ã‚Œã°è‰¯ã„ã®ã§ã€ãƒ†ã‚¹ãƒˆæ™‚é–“ãŒçŸ­ããªã‚‹
 androidx/dependencyTrackerã‚’ä½¿ã†ã¨ã„ã„æ„Ÿã˜ã«ãƒ†ã‚¹ãƒˆãŒå‡ºæ¥ã‚‹ï¼ˆã‚‰ã—ã„ï¼‰  APKã‚µã‚¤ã‚ºã®ç¸®å° App Bundleã€Dynamic Deliveryã®æ©æµã‚’å—ã‘ã‚‰ã‚Œã‚‹
ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« ã©ã®ã‚ˆã†ã«ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åˆ†ã‘ã‚’ã™ã‚‹ã‹?
1. Featureï¼ˆæ©Ÿèƒ½ï¼‰ã”ã¨ã«åˆ†ã‘ã‚‹ ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨Dynamic Featureãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®2ç¨®é¡ãŒã‚ã‚‹ã€‚
 ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«  com.android.libraryã‚’æŒ‡å®šã™ã‚‹   Dynamic Featureãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«  onDemand trueã¨falseãŒã‚ã‚‹  Paidã®ã‚ˆã†ãªä¸€éƒ¨ã®ãƒ¦ãƒ¼ã‚¶ãŒä½¿ã†æ©Ÿèƒ½ã®å ´åˆã¯trueãŒè‰¯ã„ Onboardingã®ã‚ˆã†ã«ã€å¾Œã§ã„ã‚‰ãªããªã‚‹æ©Ÿèƒ½ã®å ´åˆã¯falseãŒè‰¯ã„      Plaidã§ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆã«ã—ãŸã€‚
  dribbleã¨ã€designernewsãŒDynamic Featureãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ãªã£ã¦ã„ã‚‹ã€‚
2. Layerï¼ˆå±¤ã€éšå±¤ï¼‰ã”ã¨ã«åˆ†ã‘ã‚‹ Plaidã§ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«åˆ†ã‘ãŸã€‚
     Web Servicesã®çŸ¥è­˜ã¯UIã¯ã„ã‚‰ãªã„ã®ã§ã€implementationã‚’æŒ‡å®šã™ã‚‹  ãã†ã™ã‚‹ã“ã¨ã§ã€UIãŒDTOã‚„Retrofitã®çŸ¥è­˜ã‚’çŸ¥ã‚‰ãªã„ã§ã™ã‚€   Entitiesã®çŸ¥è­˜ã¯UIãŒå¿…è¦ãªã®ã§ã€apiã‚’æŒ‡å®šã™ã‚‹  ãŸã ã—ã€ã“ã®å ´åˆã€DAOsã®çŸ¥è­˜ã¾ã§UIãŒçŸ¥ã£ã¦ã—ã¾ã†ã®ã§å¾®å¦™  ãã“ã§Common Value Objectsã®å°å…¥        ã“ã†ã™ã‚‹ã“ã¨ã§ã€UIãŒDAOã®çŸ¥è­˜ã‚’çŸ¥ã‚‰ãšã«æ¸ˆã‚€</description>
    </item>
    
    <item>
      <title>Dagger2: 2.23ã«å…¥ã£ãŸHasAndroidInjectorã«ã¤ã„ã¦</title>
      <link>https://satoshun.github.io/2019/06/dagger-android-injector/</link>
      <pubDate>Sun, 02 Jun 2019 09:08:57 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/06/dagger-android-injector/</guid>
      <description>Dagger 2.23ã«æ–°ã—ãã€HasAndroidInjectorã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãŒå…¥ã‚Šã¾ã—ãŸã€‚ ã“ã‚Œã¯ã€å¾“æ¥ã®HasActivityInjectorã‚„HasFragmentInjectorãªã©ã‚’ç½®ãæ›ãˆã‚‹ãŸã‚ã«ä½œã‚‰ã‚Œã¾ã—ãŸã€‚
ã“ã®è¨˜äº‹ã§ã¯ã€ã©ã®ã‚ˆã†ã«ç½®ãæ›ãˆã‚‹ã‹ã‚’èª¬æ˜ã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚
ã¾ãŸã€DaggerApplicationã‚„DaggerActivityãªã©ã®åŸºåº•ã‚¯ãƒ©ã‚¹ã¯ä½¿ã£ã¦ã„ãªã„ã‚‚ã®ã¨ã—ã¾ã™ã€‚
ç½®ãæ›ãˆã¦ã„ã AppComponent AndroidSupportInjectionModuleã‚’ä½¿ã£ã¦ã„ã‚‹ãªã‚‰ã€AndroidInjectionModuleã«ç½®ãæ›ãˆã¾ã™ã€‚ ä»Šå¾Œã¯ã€AndroidSupportInjectionModuleã‚’ä½¿ã†å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
@Singleton @dagger.Component( modules = [ AndroidInjectionModule::class, // AndroidInjectionModuleã‚’ä½¿ã†  ... ] ) interface AppComponent ... Application Applicationã§å®Ÿè£…ã—ã¦ã„ã‚‹ã€HasActivityInjectorã€HasServiceInjectorãªã©ã®HasxxxInjectorã‚’HasAndroidInjectorã«ç½®ãæ›ãˆã¾ã™ã€‚
class App : Application(), // HasAndroidInjectorã®ã¿ã§ãŠï½‹  HasAndroidInjector { // å‹å¤‰æ•°ãŒAnyã«ãªã‚‹  @Inject lateinit var androidInjector: DispatchingAndroidInjector&amp;lt;Any&amp;gt; // è¿”ã‚Šå€¤ã®å‹å¤‰æ•°ãŒAnyã«ãªã‚‹  override fun androidInjector(): AndroidInjector&amp;lt;Any&amp;gt; { DaggerAppComponent.factory().create(this).inject(this) return androidInjector } } ä»Šã¾ã§ã¯Activityç”¨ã€Fragmentç”¨ã€Serviceç”¨ãªã©ã®ã‚¯ãƒ©ã‚¹ã”ã¨ã«DispatchingAndroidInjectorãŒã‚ã‚Šã¾ã—ãŸãŒã€ãã‚ŒãŒ1ã¤ã®DispatchingAndroidInjector&amp;lt;Any&amp;gt;ã¾ã¨ã¾ã‚Šã¾ã—ãŸã€‚
Activity, Fragment HasSupportFragmentInjectorãªã©ã®Injectorã¯ã€HasAndroidInjectorã«ç½®ãæ›ãˆã¾ã™ã€‚
class MainActivity : AppCompatActivity(), // HasSupportFragmentInjectorã®ä»£ã‚ã‚Šã«ã€HasAndroidInjectorã‚’ä½¿ã†  HasAndroidInjector { @Inject lateinit var androidInjector: DispatchingAndroidInjector&amp;lt;Any&amp;gt; override fun onCreate(savedInstanceState: Bundle?</description>
    </item>
    
    <item>
      <title>ViewModel SavedState &#43; Dagger</title>
      <link>https://satoshun.github.io/2019/05/viewmodel-savedstate-dagger/</link>
      <pubDate>Sat, 25 May 2019 10:38:15 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/05/viewmodel-savedstate-dagger/</guid>
      <description>ViewModel + SavedStateã§Daggerã‚’ä½¿ã†æ–¹æ³•ã‚’è€ƒãˆã¦ã¿ã¾ã—ãŸã€‚
å‰æçŸ¥è­˜ãƒ»èª²é¡Œ SavedStateã‚’ä½¿ã†å ´åˆã€ViewModelã«SavedStateHandleã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’æ¸¡ã•ãªã‘ã‚Œã°ã„ã‘ã¾ã›ã‚“ã€‚
class MyViewModel( private val state: SavedStateHandle ) : ViewModel() { ... } SavedStateHandleã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œã‚‹ãŸã‚ã«ã€SavedStateVMFactoryã‚‚ã—ãã¯ã€AbstractSavedStateVMFactoryã‚’ä½¿ã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
ç”Ÿæˆã—ãŸã„ViewModelã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã®å¼•æ•°ãŒSavedStateHandleã®ã¿ãªã‚‰ã€SavedStateVMFactoryã‚’ä½¿ã„ã¾ã™ã€‚
// thisã¯FragmentActivity ViewModelProvider(this, MyViewModel(this)) .get(MyViewModel::class.java) ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã®å¼•æ•°ãŒSavedStateHandleä»¥å¤–ã«ã‚‚ã‚ã‚‹ãªã‚‰ã€AbstractSavedStateVMFactoryã‚’æ‹¡å¼µã—ã¾ã™ã€‚
class TestViewModel( private val state: SavedStateHandle, private val name: String ) : ViewModel() class TestViewModelFactory( owner: SavedStateRegistryOwner, defaultArgs: Bundle? = null ) : AbstractSavedStateVMFactory(owner, defaultArgs) { override fun &amp;lt;T : ViewModel&amp;gt; create( key: String, modelClass: Class&amp;lt;T&amp;gt;, handle: SavedStateHandle ): T { return TestViewModel(handle, &amp;#34;test&amp;#34;) as T } } // ä»¥ä¸‹ã€ç”Ÿæˆã‚³ãƒ¼ãƒ‰ ViewModelProvider(this, TestViewModelFactory(this)) .</description>
    </item>
    
    <item>
      <title>é›‘ãƒ¡ãƒ¢: ViewModel SavedStateã®ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°</title>
      <link>https://satoshun.github.io/2019/05/viewmodel-savedstate/</link>
      <pubDate>Tue, 21 May 2019 23:59:53 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/05/viewmodel-savedstate/</guid>
      <description>ViewModelã®SavedStateãŒã©ã®ã‚ˆã†ã«å®Ÿç¾ã—ã¦ã„ã‚‹ã®ã‹ã€å†…éƒ¨ã§ã©ã®ã‚ˆã†ã«å‹•ä½œã—ã¦ã„ã‚‹ã®ã‹æ°—ã«ãªã£ãŸã®ã§ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’èª­ã‚“ã§ã¿ã¾ã—ãŸã€‚
ã“ã®è¨˜äº‹ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯å…¨ã¦ã€ä¸‹è¨˜ã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã«å¾“ã„ã¾ã™ã€‚
/* * Copyright 2019 The Android Open Source Project * * Licensed under the Apache License, Version 2.0 (the &amp;#34;License&amp;#34;); * you may not use this file except in compliance with the License. * You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an &amp;#34;AS IS&amp;#34; BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</description>
    </item>
    
    <item>
      <title>ViewPager2 with TabLayout</title>
      <link>https://satoshun.github.io/2019/05/viewpager2-with-tablayout/</link>
      <pubDate>Fri, 17 May 2019 04:08:42 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/05/viewpager2-with-tablayout/</guid>
      <description>Material Componentsã§ViewPager2 + TabLayoutã®ã‚³ãƒ¼ãƒ‰ãŒå…¥ã£ãŸã®ã§ãã‚Œã®ç´¹ä»‹ã€‚ã¾ã alphaã¸ã®ãƒªãƒªãƒ¼ã‚¹ã‚‚ã•ã‚Œã¦ã„ãªã„ã®ã§ã€APIã¯å¤§ããå¤‰ã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ãŠãã‚‰ã1.1.0-alpha07ã«å…¥ã£ã¦ãã‚‹ã¨æ€ã„ã¾ã™ã€‚
TabLayoutã¯ViewPagerã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã—ãŸãŒã€ãã‚ŒãŒViewPager2ã«ã‚‚æ¥ãŸã£ã¦æ„Ÿã˜ã§ã™ã€‚
ä½¿ã„æ–¹ æ–°ã—ãè¿½åŠ ã•ã‚ŒãŸTabLayoutMediatorã‚’ä½¿ã„ã¾ã™ã€‚
ã¾ãšã€TabLayoutMediatorã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã—ã¾ã™ã€‚
val viewPager: ViewPager2 = findViewById(R.id.viewpager) val tabLayout: TabLayout = findViewById(R.id.tab) val mediator = TabLayoutMediator(tabLayout, viewPager) { tab: TabLayout.Tab, position: Int -&amp;gt; tab.text = &amp;#34;test $position&amp;#34; // ã‚¿ãƒ–ã«ã‚¿ã‚¤ãƒˆãƒ«ã‚’ã‚»ãƒƒãƒˆ } ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã«ã¯ã€TabLayoutã€ViewPager2ã€OnConfigureTabCallbackã‚’æ¸¡ã—ã¾ã™ã€‚ OnConfigureTabCallbackã¯ã€tabã¨positionã‚’å—ã‘å–ã‚Šã€tabã«å¯¾ã—ã¦ã€ã‚¿ã‚¤ãƒˆãƒ«ã‚’ã‚»ãƒƒãƒˆã—ã¾ã™ã€‚ ViewPagerã®PageAdapterã¨ã¯é•ã„ã€RecyclerViewã®Adapterã‹ã‚‰ã¯ã‚¿ã‚¤ãƒˆãƒ«ã‚’å–å¾—ã§ããªã„ã®ã§ã€ã“ã®ã‚ˆã†ãªå¤‰æ›´ã«ãªã£ãŸã¨æ€ã‚ã‚Œã¾ã™ã€‚
æœ€å¾Œã«attaché–¢æ•°ã‚’å‘¼ã³å‡ºã—ã¾ã™ã€‚
mediator.attach() ã“ã‚Œã§ã€ViewPager2 + TabLayoutã‚’å®Ÿç¾ã§ãã¾ã™ã€‚ã¨ã¦ã‚‚ç°¡å˜ï¼ï¼
ã¾ã¨ã‚  ViewPager2ã‚‚ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ãŒæ•´ã„ã¤ã¤ã‚ã‚‹ğŸ˜Š ä»Šå›è©¦ã—ãŸã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ satoshun-android-example/ViewPager2ã«ã‚ã‚Šã¾ã™ğŸ˜ƒ  </description>
    </item>
    
    <item>
      <title>Data Binding 3.5ã¨3.6ã®ã¾ã¨ã‚/æ„Ÿæƒ³</title>
      <link>https://satoshun.github.io/2019/05/databinding-3dot5/</link>
      <pubDate>Thu, 16 May 2019 00:33:48 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/05/databinding-3dot5/</guid>
      <description>Google I/O 2019ã§DataBindingã«ã¤ã„ã¦å°‘ã—è©±ã•ã‚Œã¦ã„ãŸã®ã§æ„Ÿæƒ³ã¨ã¾ã¨ã‚ã‚’ã€‚ å‹•ç”»ã ã¨ã“ã“ã‚‰ã¸ã‚“ã«ãªã‚Šã¾ã™ã€‚
æ”¹å–„ç³» ãƒ“ãƒ«ãƒ‰ã®é«˜é€ŸåŒ–!  20%ãã‚‰ã„ãƒ“ãƒ«ãƒ‰ãŒæ—©ããªã£ãŸ distributed build cacheå¯¾å¿œ Incremental annotation processingå¯¾å¿œ  android.databinding.incremental=true ã‚’è¨­å®šã«ã™ã‚‹ã¨ä½¿ãˆã¾ã™    Android Studioã¨ã®é€£æºå¼·åŒ–!!  Live Class Generation  XMLã‚’å¤‰æ›´ã—ãŸã‚‰ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã›ãšã¨ã‚‚ã‚¯ãƒ©ã‚¹ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹   ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ç³»  ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åã®å¤‰æ›´ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ãªã©ã‚’ã—ãŸã¨ãã«ã€XMLã€ã‚³ãƒ¼ãƒ‰ã®ä¸¡æ–¹ã«åæ˜ ã•ã‚Œã‚‹    Errorãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ”¹å–„!!!  DataBindingç”¨ã®ã‚¨ãƒ©ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒå‡ºæ¥ãŸã“ã¨ã§ã€ã©ã“ã§ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸã‹ç‰¹å®šã—ã‚„ã™ããªã£ãŸ    æ–°è¦ç³» View Binding ç°¡æ˜“ç‰ˆData Bindingã®ã‚ˆã†ãªç«‹ã¡ä½ç½®ã§ã€findViewByIdã‚’çœç•¥ + ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚»ãƒ¼ãƒ• + ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚’é«˜é€Ÿã«ã™ã‚‹ã“ã¨ã‚’ç›®çš„ã«ä½œã‚‰ã‚Œã¾ã—ãŸã€‚3.6ã§å…¥ã‚‹ã¿ãŸã„ã§ã™ã€‚
  Data Bindingã¨æ¯”è¼ƒã—ãŸã¨ãã®ã€ãƒ¡ãƒªãƒƒãƒˆã€ãƒ‡ãƒ¡ãƒªãƒƒãƒˆä»¥ä¸‹ã«ãªã‚Šã¾ã™ã€‚ï¼ˆãŸã ã—ã€ã¾ã alphaã‚‚å‡ºã¦ã„ãªã„æ®µéšãªã®ã§I/Oå‹•ç”»ã‹ã‚‰è¦‹ã‚‹é™ã‚Šã®æ„Ÿæƒ³ã§ã™ï¼‰
ãƒ¡ãƒªãƒƒãƒˆ  ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒæ—©ããªã‚‹  Data Bindingã‚ˆã‚Šæ©Ÿèƒ½ãŒå°‘ãªããªã‚‹ã®ã§ãã‚Œã¯ãã†   &amp;lt;layout&amp;gt;ã§å›²ã†å¿…è¦ãŒãªããªã£ãŸ  ã“ã‚Œå€‹äººçš„ã«ã¯å¥½ãã§ãªã‹ã£ãŸã®ã§å¬‰ã—ã„ã€‚ãƒã‚¹ãƒˆãŒæ¸›ã‚‹    ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ  &amp;lt;data&amp;gt;ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒãªããªã‚‹  ãƒ¢ãƒ‡ãƒ«ã®å€¤ã¨Viewã®ãƒãƒƒãƒ”ãƒ³ã‚°ã¯ã‚³ãƒ¼ãƒ‰å´ã§ã™ã‚‹ã“ã¨ã«ãªã‚Šãã†   å¤šåˆ†BindingAdapterã¯ä½¿ãˆãªã„  ã“ã‚Œã‚‚ã‚³ãƒ¼ãƒ‰å´ã§ã™ã‚‹ã“ã¨ã«ãªã‚Šãã†   åŒæ–¹å‘ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã¨ã‹ä½¿ãˆãªã„  ãŠãã‚‰ããªã‚“ã§ã™ã‘ã©ã€Data Bindingã€View Bindingã¯1ã¤ã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«æ··åœ¨ã•ã›ã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹ã®ã§ã€åŸºæœ¬View Bindingã§ã€åŒæ–¹å‘ä½¿ã„ãŸã„ã¨ãã¯Data Bindingã¿ãŸã„ãªä½¿ã„æ–¹ã‚‚å‡ºæ¥ã‚‹ã¯ãšã§ã™ã€‚</description>
    </item>
    
    <item>
      <title>CameraX: CameraViewè§¦ã£ã¦ã¿ãŸ</title>
      <link>https://satoshun.github.io/2019/05/camerax-camera-view/</link>
      <pubDate>Mon, 06 May 2019 05:47:14 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/05/camerax-camera-view/</guid>
      <description>CameraXã®ã‚³ãƒ¼ãƒ‰ãŒå…¬é–‹ã•ã‚Œã¦ã„ãŸã®ã§ã€ãã®ä¸­ã«ã‚ã£ãŸCameraViewã‚’è§¦ã£ã¦ã¿ã¾ã—ãŸã€‚ã¾ã ã€alphaã§ã‚ã‚‹ã“ã¨ã‹ã‚‰APIã¯å¤§ããå¤‰ã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
å†…éƒ¨ã®å®Ÿè£…ã§ã‚ã£ãŸã‚Šã€ç´°ã‹ã„éƒ¨åˆ†ã¯psideã•ã‚“ã®ã€ŒCameraXã®ã‚³ãƒ¼ãƒ‰ãŒããŸã®ã§æ°—åˆã„å…¥ã‚Œã¦èª­ã‚“ã§ã¿ãŸã€ãŒè©³ã—ã„ã§ã™ã€‚
ç’°å¢ƒæ§‹ç¯‰ CameraViewã¯ã¾ã å…¬é–‹ã•ã‚Œã¦ã„ãªã„ãŸã‚ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‹ã‚‰ãƒ“ãƒ«ãƒ‰ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã¾ãŸã€è¨­å®šã§publishãƒ•ãƒ©ã‚°ãŒfalseã«ãªã£ã¦ã„ã‚‹ã®ã§ã€trueã«ã—ã¦ãƒ“ãƒ«ãƒ‰ã—ã¾ã™ã€‚
 androidx { name = &amp;quot;Jetpack Camera View Library&amp;quot; - publish = false + publish = true mavenVersion = LibraryVersions.CAMERA mavenGroup = LibraryGroups.CAMERA inceptionYear = &amp;quot;2019&amp;quot; } ä½¿ã„æ–¹ CameraViewã¯æ™®é€šã®Viewã®ã‚ˆã†ã«ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ã€‚
&amp;lt;androidx.constraintlayout.widget.ConstraintLayout ...&amp;gt; &amp;lt;androidx.camera.view.CameraView android:layout_width=&amp;#34;0dp&amp;#34; android:layout_height=&amp;#34;0dp&amp;#34; app:layout_constraintBottom_toBottomOf=&amp;#34;parent&amp;#34; app:layout_constraintEnd_toEndOf=&amp;#34;parent&amp;#34; app:layout_constraintStart_toStartOf=&amp;#34;parent&amp;#34; app:layout_constraintTop_toTopOf=&amp;#34;parent&amp;#34; /&amp;gt; &amp;lt;/androidx.constraintlayout.widget.ConstraintLayout&amp;gt; æ¬¡ã«åˆæœŸåŒ–ã‚’ã—ã¾ã™ã€‚
cameraView.bindToLifecycle(this) // thisã¯LifecycleOwner LifecycleOwnerã¨CameraViewã‚’çµã³ã¤ã‘ã‚‹ã“ã¨ã§Lifecycleã«åˆã‚ã›ã¦è‡ªå‹•ã§ãƒªã‚½ãƒ¼ã‚¹ã‚’èª¿æ•´ã—ã¦ãã‚Œã¾ã™ã€‚ CameraViewã¯Lifecycle-Aware Componentã¨ãªã£ã¦ã„ã¾ã™ã€‚éå¸¸ã«æ‰±ã„ã‚„ã™ãã†ã§ã™ã€‚
ã“ã‚Œã ã‘ã§ã‚«ãƒ¡ãƒ©æ©Ÿèƒ½ãŒä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼ã¨ã¦ã‚‚ç°¡å˜ï¼!
ä»¥ä¸‹ã€CameraViewã§ç¾çŠ¶ä½¿ãˆã‚‹APIã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚
CameraViewã§ä½¿ãˆã‚‹APIé” ãƒ¢ãƒ¼ãƒ‰ã®å¤‰æ›´ CameraViewã§ã¯æ¬¡ã®3ã¤ã®ãƒ¢ãƒ¼ãƒ‰ãŒã‚ã‚Šã¾ã™ã€‚
 Image: å†™çœŸã‚’å–ã‚‹ Video: ãƒ“ãƒ‡ã‚ªã‚’å–ã‚‹ Mixed: ä¸¡æ–¹ã€‚ãŸã ã—ã€å‹•ã‹ãªã„ç«¯æœ«ã‚‚ã‚ã‚‹ã‚‰ã—ã„  æ¬¡ã®ã‚ˆã†ã«ä½¿ã„ã¾ã™ã€‚
// Image cameraView.captureMode = CameraView.CaptureMode.IMAGE cameraView.</description>
    </item>
    
    <item>
      <title>MvRxã®é›‘ãªæ„Ÿæƒ³</title>
      <link>https://satoshun.github.io/2019/05/mvrx-architecture/</link>
      <pubDate>Sun, 05 May 2019 05:05:09 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/05/mvrx-architecture/</guid>
      <description>é›‘å¤šãªã“ã¨ã‚’æ›¸ã„ãŸã ã‘ã®ãƒ–ãƒ­ã‚°ã«ãªã‚Šã¾ã™ã€‚å†…å®¹ã¯ã‚ã¾ã‚Šãªã„ã‚ˆã†ã€œã€‚
 MvRxã¯AirbnbãŒé–‹ç™ºã‚’ã—ã¦ã„ã‚‹OSSãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚
ç‰¹å¾´ã¨ã—ã¦ã¯
 Kotlinãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ RxJavaã‚’ä½¿ã£ã¦ã„ã‚‹ AACï¼ˆAndroid Architecture Componentsï¼‰ã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ã¦ã„ã‚‹  AACã‚’RxJavaã§ã‚ã£ãŸã‚Šã€ä¾¿åˆ©é–¢æ•°ã€ã‚¯ãƒ©ã‚¹ç¾¤ã§è£œä½ã—ã¦ã„ã‚‹æ„Ÿã˜   å¤šãã®éƒ¨åˆ†ã§Reactã®APIã‚’å‚è€ƒã«ã—ã¦ã‚‹  Stateã€renderãªã©   Epoxyã¨ç›¸æ€§ãŒè‰¯ã„  ä¸€ç·’ã«ä½¿ã†ã“ã¨ã‚’æ¨å¥¨ã—ã¦ã„ã‚‹ Reactã®Componentã®ã‚ˆã†ã«æŒ¯ã‚‹èˆã‚ã†ã“ã¨ãŒå‡ºæ¥ã‚‹   ViewModelãŒä¿æŒã—ã¦ã„ã‚‹Stateï¼ˆçŠ¶æ…‹ï¼‰ã«å¯¾ã—ã¦ã€ViewãŒpure functionã®ã‚ˆã†ã«æŒ¯ã‚‹èˆã†  å‰¯ä½œç”¨ãŒãªã„ï¼ˆæ¸›ã‚‰ã—ãŸã„ï¼‰    ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆãªã‚³ãƒ¼ãƒ‰ã‚’æ¸›ã‚‰ã™ã“ã¨ãŒæœŸå¾…ã§ãã¾ã™ğŸ˜ƒ
å€‹äººçš„ã«æ°—ã«ãªã£ãŸéƒ¨åˆ†ã€å¥½ããªã¨ã“ Stateã§ViewçŠ¶æ…‹ã‚’ç®¡ç†ã™ã‚‹ã¨ã“ã‚ Stateã‚’å®šç¾©ã™ã‚‹ã“ã¨ã®ãƒ¡ãƒªãƒƒãƒˆã¯ä»¥ä¸‹ã‹ãªã¨æ€ã£ã¦ã¾ã™ã€‚
 Stateã‚’è¦‹ã‚Œã°ã€Viewã®æ§‹æˆè¦ç´ ãŒåˆ†ã‹ã‚‹  MVPã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®Viewã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®ã‚ˆã†ãªå½¹å‰²ã‚’æœãŸã™   çŠ¶æ…‹ã®ç®¡ç†ãŒæ¥½  Androidã§ã¯ã€configuration changesæ™‚ã®çŠ¶æ…‹ã®ä¿æŒãŒé›£ã—ã„ãŒã€Stateã ã‘ã‚’ã‚±ã‚¢ã™ã‚Œã°è‰¯ã„  MvRxã®æµå„€ã«ç¿’ã£ã¦ã€æ­£ã—ãå®Ÿè£…ã™ã‚Œã°ã‚ˆã—ãªã«çŠ¶æ…‹ã®ç®¡ç†ã‚’ã—ã¦ãã‚Œã‚‹     Viewã‹ã‚‰ãƒ­ã‚¸ãƒƒã‚¯ã‚’å–ã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹  ã‚‚ã¡ã‚ã‚“å®Ÿè£…æ¬¡ç¬¬ãªã®ã§ã™ãŒã€Stateã§Viewã®çŠ¶æ…‹ã‚’è¡¨ç¾ã™ã‚‹ã‚ˆã†ã«ã™ã‚Œã°ã€Viewã¯ãƒãƒƒãƒ”ãƒ³ã‚°ã™ã‚‹ã ã‘ã§è‰¯ããªã‚‹    AsyncãŒã™ã”ã„è‰¯ã„ MvRxã§ã¯Asyncã¨ã„ã†sealed classãŒå®šç¾©ã•ã‚Œã¦ã„ã¦ã€
 Uninitialized Loading Success Fail  ã®4çŠ¶æ…‹ã‚’è¡¨ç¾ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ç”»é¢ã®åˆæœŸå€¤ã¯ä¸Šè¨˜4çŠ¶æ…‹ã§ã€å¤§ä½“ã®ã‚±ãƒ¼ã‚¹ã¯ã‚±ã‚¢å‡ºæ¥ã‚‹ã¨æ€ã„ã¾ã™ã€‚
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã€Asyncã ã‘å–ã‚Šå…¥ã‚Œã‚‹ã®ã‚‚ã‚¢ãƒªã ã¨æ€ã„ã¾ã™ã€‚
Single Eventã®å‡¦ç†ã‚’ã©ã†ã™ã‚‹ã®ã‹ Stateå†…ã§ä¿æŒã™ã‚‹ã¨ã€æ¯å›ç™ºç«ã—ã¦ã—ã¾ã†ã®ã§ã€Stateã¨ã¯é•ã†ã€ä»–ã®streamã§è¡¨ç¾ã™ã‚‹ã“ã¨ã«ãªã‚‹ã¨æ€ã†</description>
    </item>
    
    <item>
      <title>Material Components: MotionSpecã‚’ä½¿ã£ã¦ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹</title>
      <link>https://satoshun.github.io/2019/04/fab-motion-spec/</link>
      <pubDate>Tue, 30 Apr 2019 05:59:41 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/04/fab-motion-spec/</guid>
      <description>MotionSpecã¯Android material componentsã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹1ã‚¯ãƒ©ã‚¹ã«ãªã‚Šã¾ã™ã€‚ MotionSpecã‚’ä½¿ã†ã“ã¨ã§ã€æ¬¡ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å±æ€§ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
 startOffset duration interpolator repeatCount repeatMode  ä¾‹ãˆã°ã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é•·ãã—ãŸã„ã¨ãã¯ã€durationã®å€¤ã‚’é•·ãã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®é–‹å§‹æ™‚é–“ã‚’é…ã‚‰ã›ãŸã„ãªã‚‰ã€startOffsetã®å€¤ã‚’é•·ãã—ã¾ã™ã€‚
FloatingActionButtonã‚’ä¾‹ã«ã€å®Ÿéš›ã«MotionSpecã®å€¤ã‚’ã„ã˜ã£ã¦ã¿ã¾ã™ã€‚
æœ€åˆã«MotionSpecç”¨ã®animator XMLã‚’å®šç¾©ã™ã‚‹ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®XMLã‚’ã‚³ãƒ”ãƒšã—ã¦ãã¦ã€ãã‚Œã‚’ãƒ™ãƒ¼ã‚¹ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹ã®ãŒè‰¯ã„ã¨æ€ã„ã¾ã™ã€‚
FloatingActionButtonç”¨ã®XMLã¯ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’èª­ã‚“ã§ã„ãã¨ã€design_fab_show_motion_spec.xmlã¨design_fab_hide_motion_spec.xmlã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚MotionSpecã¯ã€show/hideç”¨ã®2ç¨®é¡ãŒã‚ã‚Šã€ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ãŸã„ã¨ãã¯ä¸¡æ–¹ã¨ã‚‚å¤‰æ›´ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
ã¾ãšã¯showç”¨ã®MotionSpecã‚’å¤‰æ›´ã—ã¦ã„ãã¾ã™ã€‚ä»¥ä¸‹ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹design_fab_show_motion_spec.xmlã®ä¸­èº«ã«ãªã‚Šã¾ã™ã€‚
&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;utf-8&amp;#34;?&amp;gt; &amp;lt;!-- Copyright 2017 The Android Open Source Project Licensed under the Apache License, Version 2.0 (the &amp;#34;License&amp;#34;); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an &amp;#34;AS IS&amp;#34; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</description>
    </item>
    
    <item>
      <title>ConstraintLayout Flowã®ç´¹ä»‹</title>
      <link>https://satoshun.github.io/2019/04/constraintlayout-flow/</link>
      <pubDate>Sun, 28 Apr 2019 11:13:20 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/04/constraintlayout-flow/</guid>
      <description>ConstraintLayoutã®2.0.0 alpha 5ã«Flow Virtual LayoutãŒå°å…¥ã•ã‚Œã¾ã—ãŸğŸ‰ Flowã‚’ä½¿ã†ã“ã¨ã§ã€å¯¾è±¡ã®Viewã‚’æ§˜ã€…ãªãƒ«ãƒ¼ãƒ«ã§ä¸¦ã¹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
ãƒ¡ãƒªãƒƒãƒˆã¨ã—ã¦ã¯ã€æ¬¡ã®ã‚ˆã†ãªã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚
 Viewã®éšå±¤ã‚’ãƒ•ãƒ©ãƒƒãƒˆã«ä¿ã¤ã“ã¨ãŒå‡ºæ¥ã‚‹ Flowã¯æ™®é€šã®Viewã®ã‚ˆã†ã«æ‰±ã†äº‹ãŒã§ãã‚‹ MotionLayoutã¨ç›¸æ€§ãŒè‰¯ã„  ã§ã¯ã€ã©ã®ã‚ˆã†ã«æ›¸ãã®ã‹ã‚’è¦‹ã¦ã„ãã¾ã™ã€‚
 1. é…ç½®ã™ã‚‹æ–¹å‘ã‚’æ±ºã‚ã‚‹ android:orientationã‹ã‚‰ã€horizontal or verticalã‚’æŒ‡å®šã§ãã¾ã™ã€‚
&amp;lt;androidx.constraintlayout.widget.ConstraintLayout android:layout_width=&amp;#34;match_parent&amp;#34; android:layout_height=&amp;#34;match_parent&amp;#34;&amp;gt; &amp;lt;androidx.constraintlayout.helper.widget.Flow android:id=&amp;#34;@+id/flow&amp;#34; android:layout_width=&amp;#34;0dp&amp;#34; android:layout_height=&amp;#34;0dp&amp;#34; android:orientation=&amp;#34;horizontal&amp;#34; android:background=&amp;#34;@android:color/white&amp;#34; app:layout_constraintBottom_toBottomOf=&amp;#34;parent&amp;#34; app:layout_constraintEnd_toEndOf=&amp;#34;parent&amp;#34; app:layout_constraintStart_toStartOf=&amp;#34;parent&amp;#34; app:layout_constraintTop_toTopOf=&amp;#34;parent&amp;#34; /&amp;gt; ... ã“ã‚Œã¯orientationã«horizontalã‚’æŒã¡ã¾ã™ã€‚ã¾ãŸã€é€šå¸¸ã®Viewã®ã‚ˆã†ã«å„constraintsã‚’æŒ‡å®šã—ã€é…ç½®ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
2. wrapModeã‚’æ±ºã‚ã‚‹ flow_wrapModeã§æŒ‡å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
wrapModeã§ã¯ã€ã©ã®ã‚ˆã†ã«Viewã‚’ä¸¦ã¹ã‚‹ã‹ã‚’æŒ‡å®šã§ãã€3ç¨®é¡ã®modeãŒã‚ã‚Šã¾ã™ã€‚
 none  å˜ç´”ã«single lineã«ä¸¦ã¹ã‚‹   chain  å˜ç´”ã«é †ç•ªã«é…ç½®ã—ã¦ã„ãã€‚ãã®è¡Œï¼ˆåˆ—ï¼‰ã«åã¾ã‚‰ãªã„å ´åˆã¯æ¬¡ã®è¡Œï¼ˆåˆ—ï¼‰ã«é…ç½®ã™ã‚‹   aligned  å„è¦ç´ ã‚’æ•´åˆ—ã™ã‚‹ã‚ˆã†ã«é…ç½®ã—ã¦ã„ãã€‚ãƒ†ãƒ¼ãƒ–ãƒ«ã®ã‚ˆã†ãªã‚¤ãƒ¡ãƒ¼ã‚¸    &amp;lt;androidx.constraintlayout.helper.widget.Flow android:id=&amp;#34;@+id/flow&amp;#34; android:layout_width=&amp;#34;0dp&amp;#34; android:layout_height=&amp;#34;0dp&amp;#34; android:orientation=&amp;#34;horizontal&amp;#34; android:background=&amp;#34;@android:color/white&amp;#34; app:flow_wrapMode=&amp;#34;chain&amp;#34; app:layout_constraintBottom_toBottomOf=&amp;#34;parent&amp;#34; app:layout_constraintEnd_toEndOf=&amp;#34;parent&amp;#34; app:layout_constraintStart_toStartOf=&amp;#34;parent&amp;#34; app:layout_constraintTop_toTopOf=&amp;#34;parent&amp;#34; /&amp;gt; ã“ã‚Œã¯chainã§å¯¾è±¡ã®Viewã‚’é…ç½®ã—ã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>Kotlin: ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å¤‰æ›´ã‚’æ¤œçŸ¥ã™ã‚‹</title>
      <link>https://satoshun.github.io/2019/04/kotlin-watch-property-change/</link>
      <pubDate>Wed, 24 Apr 2019 02:21:47 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/04/kotlin-watch-property-change/</guid>
      <description>ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆè‡ªèº«ã®å¤‰æ›´ã§ã¯ãªãã€å¯¾è±¡ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒæŒã¤ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å¤‰æ›´ã‚’æ±ç”¨çš„ã«æ¤œçŸ¥ã™ã‚‹æ–¹æ³•ã®ç´¹ä»‹ã§ã™ã€‚
æ¬¡ãŒã€ã“ã®è¨˜äº‹ã§ç´¹ä»‹ã—ãŸã„ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚
// 1ã¤ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å¤‰æ›´ã‚’æ¤œçŸ¥ã—ãŸã„ fun &amp;lt;S, A1&amp;gt; LiveData&amp;lt;S&amp;gt;.watch(prop1: KProperty1&amp;lt;S, A1&amp;gt;): LiveData&amp;lt;A1&amp;gt; = this .map { prop1.get(it) } .distinctUntilChanged() // 2ã¤ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å¤‰æ›´ã‚’æ¤œçŸ¥ã—ãŸã„ fun &amp;lt;S, A1, A2&amp;gt; LiveData&amp;lt;S&amp;gt;.watch( prop1: KProperty1&amp;lt;S, A1&amp;gt;, prop2: KProperty1&amp;lt;S, A2&amp;gt; ): LiveData&amp;lt;Pair&amp;lt;A1, A2&amp;gt;&amp;gt; = this .map { prop1.get(it) to prop2.get(it) } .distinctUntilChanged() // 3ã¤ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å¤‰æ›´ã‚’æ¤œçŸ¥ã—ãŸã„ fun &amp;lt;S, A1, A2, A3&amp;gt; LiveData&amp;lt;S&amp;gt;.watch( prop1: KProperty1&amp;lt;S, A1&amp;gt;, prop2: KProperty1&amp;lt;S, A2&amp;gt;, prop3: KProperty1&amp;lt;S, A3&amp;gt; ): LiveData&amp;lt;Triple&amp;lt;A1, A2, A3&amp;gt;&amp;gt; = this .map { Triple(prop1.get(it), prop2.get(it), prop3.</description>
    </item>
    
    <item>
      <title>ConstraintLayoutã®ImageFilterViewã£ã¦å˜ä½“ã§ã‚‚ä½¿ãˆã‚‹ã‚“ã‚„ãªã£ã¦</title>
      <link>https://satoshun.github.io/2019/04/constraintlayout-imagefilterview/</link>
      <pubDate>Mon, 15 Apr 2019 13:17:53 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/04/constraintlayout-imagefilterview/</guid>
      <description>ConstraintLayout 2.0.0-alphaã‹ã‚‰ImageFilterViewã‚¯ãƒ©ã‚¹ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚ä»Šã¾ã§ã€MotionLayoutã¨ä¸€ç·’ã«ä½¿ã†ã‚‚ã®ã ã‹ã‚‰ã€ä½¿ã„æ‰€é™ã‚‰ã‚Œãã†ã ãªãã€œã¨æ€ã£ã¦ã„ãŸã®ã§ã™ãŒã€å˜ä½“ã§ã‚‚ä½¿ãˆãã†ã ã£ãŸã®ã§ã€ãã®å ±å‘Šè¨˜äº‹ã«ãªã‚Šã¾ã™ã€‚
ã“ã®è¨˜äº‹ã§ã¯ConstraintLayout 2.0.0-alpha4ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚
è§’ä¸¸ã«ã™ã‚‹ roundå±æ€§ã‹ã‚‰æŒ‡å®šã™ã‚‹äº‹ãŒã§ãã¾ã™ã€‚
&amp;lt;androidx.constraintlayout.utils.widget.ImageFilterView android:id=&amp;#34;@+id/image&amp;#34; android:layout_width=&amp;#34;100dp&amp;#34; android:layout_height=&amp;#34;100dp&amp;#34; app:layout_constraintBottom_toBottomOf=&amp;#34;parent&amp;#34; app:layout_constraintEnd_toEndOf=&amp;#34;parent&amp;#34; app:layout_constraintStart_toStartOf=&amp;#34;parent&amp;#34; app:layout_constraintTop_toTopOf=&amp;#34;parent&amp;#34; app:round=&amp;#34;0.5dp&amp;#34; /&amp;gt;   å½©åº¦ saturationå±æ€§ã‹ã‚‰è¨­å®šã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
&amp;lt;androidx.constraintlayout.utils.widget.ImageFilterView android:id=&amp;#34;@+id/image&amp;#34; android:layout_width=&amp;#34;100dp&amp;#34; android:layout_height=&amp;#34;100dp&amp;#34; app:layout_constraintStart_toStartOf=&amp;#34;parent&amp;#34; app:layout_constraintTop_toTopOf=&amp;#34;parent&amp;#34; app:round=&amp;#34;0.5dp&amp;#34; app:saturation=&amp;#34;0.1&amp;#34; /&amp;gt;   ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆ contrastå±æ€§ã‹ã‚‰è¨­å®šã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
&amp;lt;androidx.constraintlayout.utils.widget.ImageFilterView android:id=&amp;#34;@+id/image&amp;#34; android:layout_width=&amp;#34;100dp&amp;#34; android:layout_height=&amp;#34;100dp&amp;#34; app:contrast=&amp;#34;0.5&amp;#34; app:layout_constraintStart_toStartOf=&amp;#34;parent&amp;#34; app:layout_constraintTop_toTopOf=&amp;#34;parent&amp;#34; app:round=&amp;#34;0.5dp&amp;#34; /&amp;gt;   æš–è‰²ã€å¯’è‰² warmthå±æ€§ã‹ã‚‰ã€æš–è‰²ã€å¯’è‰²ï¼Ÿã‚’è¨­å®šã™ã‚‹ã“ã¨ã§ãã¾ã™ã€‚
&amp;lt;androidx.constraintlayout.utils.widget.ImageFilterView android:id=&amp;#34;@+id/image&amp;#34; android:layout_width=&amp;#34;100dp&amp;#34; android:layout_height=&amp;#34;100dp&amp;#34; app:layout_constraintStart_toStartOf=&amp;#34;parent&amp;#34; app:layout_constraintTop_toTopOf=&amp;#34;parent&amp;#34; app:round=&amp;#34;0.5dp&amp;#34; app:warmth=&amp;#34;2&amp;#34; /&amp;gt;    &amp;lt;androidx.constraintlayout.utils.widget.ImageFilterView android:id=&amp;#34;@+id/image&amp;#34; android:layout_width=&amp;#34;100dp&amp;#34; android:layout_height=&amp;#34;100dp&amp;#34; app:layout_constraintStart_toStartOf=&amp;#34;parent&amp;#34; app:layout_constraintTop_toTopOf=&amp;#34;parent&amp;#34; app:round=&amp;#34;0.5dp&amp;#34; app:warmth=&amp;#34;0.5&amp;#34; /&amp;gt;   ã‚¯ãƒ­ã‚¹ãƒ•ã‚§ãƒ¼ãƒ‰ crossfadeå±æ€§ã‹ã‚‰è¨­å®šã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚ãŸã ã€ã“ã®å±æ€§ã¯MotionLayoutã¨ä¸€ç·’ã«ä½¿ã†ã‚‚ã®ã§ã€å˜ä½“ã§ã¯ä½¿ã‚ãªã„ã¨æ€ã„ã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>Dagger 2.22ã«Factoryã‚¯ãƒ©ã‚¹ãŒå°å…¥ã•ã‚Œã¾ã—ãŸ</title>
      <link>https://satoshun.github.io/2019/04/dagger-component-factory/</link>
      <pubDate>Sun, 07 Apr 2019 06:04:22 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/04/dagger-component-factory/</guid>
      <description>Dagger 2.22ã‹ã‚‰Component.Factoryã‚¯ãƒ©ã‚¹ãŒå°å…¥ã•ã‚Œã¾ã—ãŸã€‚ã“ã®è¨˜äº‹ã§ã¯ã€ç°¡å˜ãªä½¿ã„æ–¹ã¨ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚’è¦‹ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚
Component.Factoryã¨ã¯? å®Ÿã¯ã€Component.Factoryã§ã‚„ã‚Œã‚‹ã“ã¨ã¯Component.Builderã‚¯ãƒ©ã‚¹ã¨ã»ã¼å¤‰ã‚ã‚Šã¾ã›ã‚“ã€‚
ä¾‹ãˆã°ã€æ¬¡ã®ArticlePresenterã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã™ã‚‹2ã¤ã®ã‚³ãƒ¼ãƒ‰ã¯æœ¬è³ªçš„ã«ã‚„ã£ã¦ã„ã‚‹ã“ã¨ã¯åŒç­‰ã§ã™ã€‚
// Factoryã‚’ä½¿ã†å ´åˆ @Component interface AppComponent { val presenter: ArticlePresenter @Component.Factory interface Factory { fun create( @BindsInstance id: Long ): AppComponent } } val component = DaggerAppComponent .factory() .create(50) val presenter = component.presentere --- // Builderã‚’ä½¿ã†å ´åˆ @Component interface AppComponent { val presenter: ArticlePresenter @Component.Builder interface Builder { @BindsInstance fun bindId(id: Long): Builder fun build(): AppComponent } } val component = DaggerAppComponent .builder() .bindId(50) .build() val presenter = component.</description>
    </item>
    
    <item>
      <title>DataBindingã¨Activityã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ Layout IdæŒ‡å®šã‚’ä¸€ç·’ã«ä½¿ã†</title>
      <link>https://satoshun.github.io/2019/04/jetpack-coroutine-support/</link>
      <pubDate>Thu, 04 Apr 2019 00:46:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/04/jetpack-coroutine-support/</guid>
      <description>Jetpackã®Activityã¨Fragmentã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã«ã€Layout IdãŒæŒ‡å®šã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚
 Activity Version 1.0.0-alpha06 Fragment Version 1.1.0-alpha06  ã“ã‚Œã¯ã€æ¬¡ã®ã‚ˆã†ã«ä½¿ã†ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
class MainActivity : AppCompatActivity(R.layout.main_act) class MainFragment : Fragment(R.layout.main_frag) Activityã®å ´åˆã¯ã€setConentViewãŒã€‚Fragmentã®å ´åˆã¯onCreateViewãŒãã‚Œãã‚Œçœç•¥ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
ã“ã“ã‹ã‚‰ãŒæœ¬é¡Œã§ã™ã€‚ã“ã‚Œã‚’DataBindingã¨ä¸€ç·’ã«ä½¿ã†ãªã‚‰ã€æ¬¡ã®ã‚ˆã†ã«ãªã‚‹ã‹ãªã¨æ€ã„ã¾ã™ã€‚
Activityã®å ´åˆ ã¾ãšã¯Actvityã®ä¾‹ã§ã™ã€‚
// æ‹¡å¼µé–¢æ•°ã‚’å®šç¾©ã—ã¦ãŠã fun &amp;lt;T : ViewDataBinding&amp;gt; ComponentActivity.bindView(): T = DataBindingUtil.bind(getContentView())!! private fun Activity.getContentView(): View = findViewById&amp;lt;ViewGroup&amp;gt;(android.R.id.content)[0] // MainActivity.kt class MainActivity : AppCompatActivity(R.layout.main_act) { private lateinit var binding: MainActBinding override fun onCreate(savedInstanceState: Bundle?) { super.onCreate(savedInstanceState) binding = bindView() ... } } ã¾ãŸã€Activityã®å ´åˆã«é™ã‚Šã€by lazyã¨çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚
class MainActivity : AppCompatActivity(R.layout.main_act) { private val binding by lazy { bindView&amp;lt;MainActBinding&amp;gt;() } override fun onCreate(savedInstanceState: Bundle?</description>
    </item>
    
    <item>
      <title>OkHttp: Java to Kotlinã®PRã‚’è¦‹ã¦å‹‰å¼·ã™ã‚‹</title>
      <link>https://satoshun.github.io/2019/03/okhttp-convert-to-kotlin/</link>
      <pubDate>Sun, 24 Mar 2019 02:36:27 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/03/okhttp-convert-to-kotlin/</guid>
      <description>OkHttpãŒKotlinåŒ–ã‚’ã™ã‚‹ã¨ã„ã†ISSUEãŒç«‹ã¦ã‚‰ã‚Œã¾ã—ãŸã€‚ Upgrade OkHttp 3 to Kotlin and call it OkHttp 4
ã“ã‚Œã®æ˜¯éã«ã¤ã„ã¦ã¯ã•ã¦ãŠãã€‚ç¾çŠ¶ã€ã„ãã¤ã‹ã®Javaã‚³ãƒ¼ãƒ‰ãŒKotlinã¸ã¨ç½®ãæ›ã‚ã£ã¦ã„ã‚‹ã®ã§ã€ãã‚Œã‚‰ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§æ°—ã«ãªã£ãŸã“ã¨ã€çŸ¥ã‚‰ãªã‹ã£ãŸã“ã¨ã€å¿˜ã‚ŒãŒã¡ãªã“ã¨ã‚’å‹‰å¼·ãŒã¦ã‚‰ã¾ã¨ã‚ãŸã„ã¨æ€ã„ã¾ã™ã€‚
checkNotNullã‚’ä½¿ã†ã‹ã©ã†ã‹ could also be code no preference myself
Kotlinã®æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã€checkNotNullãŒã‚ã‚Šã¾ã™ã€‚ ã“ã‚Œã¯ã€å€¤ãŒnullãªã‚‰IllegalStateExceptionä¾‹å¤–ã‚’æŠ•ã’ã‚‹ã‚‚ã®ã§ã™ã€‚
ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã¯åŒã˜æ„å‘³ã‚’æŒã¡ã¾ã™ã€‚
val state = someState ?: throw IllegalStateException(&amp;#34;State must be set beforehand&amp;#34;) val state = checkNotNull(someState) { &amp;#34;State must be set beforehand&amp;#34; } ãŸã ã€no preference myselfã¨è¨€ã£ã¦ã„ã‚‹é€šã‚Šã€ä½¿ã†ã‹ã©ã†ã‹ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§åˆ†ã‹ã‚Œãã†ã§ã™ã€‚ äº‹å‰ã«ä½¿ã†ã‹ã©ã†ã‹ã‚’ã€æ±ºã‚ã¦ãŠãã¨æ‰ã‚ãªãè‰¯ã•ãã†ã ã¨æ€ã„ã¾ã—ãŸã€‚
å‘½åã¯to***ãŒæ…£ç”¨çš„ idiomatic naming would be toUrl on the Kotlin side
OkHttpã§ã¯ã€HttpUrlã‚’URLã«å¤‰æ›ã™ã‚‹ãŸã‚ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¨ã—ã¦fun url(): URLãŒå®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚ã—ã‹ã—ã€fun toUrl(): URLã®ã»ã†ãŒKotlinã£ã½ã„ã‚ˆã¨æŒ‡æ‘˜ãŒã‚ã‚Šã¾ã—ãŸã€‚
ç¢ºã‹ã«ã€è¨€ã‚ã‚Œã¦ã¿ã‚‹ã¨AtoBã‚¯ãƒ©ã‚¹å¤‰æ›ã®ãƒ¡ã‚½ãƒƒãƒ‰åã¯ã€to***ãŒå¤šã„æ°—ãŒã—ã¾ã™ã€‚ãŸã ã—ã€ä»Šå›ã¯ä¸‹ä½äº’æ›ã‚’ä¿ã¤ãŸã‚ã«ã€ä¸€æ—¦ã“ã®ä¿®æ­£ã¯å…¥ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚
constã‚’ä½¿ã† discussion link
constã‚’ä½¿ã†ã¨ã€Compile Time Constantsã¨ãªã‚Šã€ä»˜ã‘ãªã„å ´åˆã«æ¯”ã¹åŠ¹ç‡çš„ã«å‹•ä½œã—ã¾ã™ã€‚ãŸã ã—ã€ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–ã‹ã€Stringå‹ã®ã¿ã«æœ‰åŠ¹ã§ã™ã€‚</description>
    </item>
    
    <item>
      <title>Kotlin: ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿å‘¼ã³å‡ºã—ã£ã½ãé–¢æ•°ã‚„companion objectã‚’ä½¿ã†</title>
      <link>https://satoshun.github.io/2019/03/kotlin-invoke-operator/</link>
      <pubDate>Tue, 19 Mar 2019 12:31:05 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/03/kotlin-invoke-operator/</guid>
      <description>Kotlinã§ã¯Javaã¨ç•°ãªã‚Šã€ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿å‘¼ã³å‡ºã—ã®æ™‚ã«newã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒå¿…è¦ã‚ã‚Šã¾ã›ã‚“ã€‚
class A ... val a = A() ã‚ˆã£ã¦ã€æ¬¡ã®ã‚ˆã†ã«é–¢æ•°ã‚’ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã®ã‚ˆã†ã«ä½¿ã†ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
// Coroutine Jobã®å®šç¾© @Suppress(&amp;#34;FunctionName&amp;#34;) public fun Job(parent: Job? = null): Job = JobImpl(parent) ... val job = Job() ã¾ãŸã€æ¬¡ã®ã‚ˆã†ã«companion object + operator invokeã‚’ä½¿ã†ã“ã¨ã‚‚å‡ºæ¥ã¾ã™ã€‚
// ref: https://github.com/JakeWharton/retrofit2-kotlin-coroutines-adapter class CoroutineCallAdapterFactory private constructor() : CallAdapter.Factory() { companion object { @JvmStatic @JvmName(&amp;#34;create&amp;#34;) operator fun invoke() = CoroutineCallAdapterFactory() } } ... val factory = CoroutineCallAdapterFactory() ã¾ã¨ã‚  JobImplã®ã‚ˆã†ãªå®Ÿè£…ã‚¯ãƒ©ã‚¹ã‚’éš ã—ãŸã„ã¨ãã«ä¾¿åˆ©  </description>
    </item>
    
    <item>
      <title>Kotlin: Coroutineã§RxJavaã®zipã£ã½ã„ã‚‚ã®ã‚’è¡¨ç¾ã™ã‚‹</title>
      <link>https://satoshun.github.io/2019/03/coroutine-catalog-zip/</link>
      <pubDate>Sun, 17 Mar 2019 05:17:23 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/03/coroutine-catalog-zip/</guid>
      <description>Coroutineã§éåŒæœŸå‡¦ç†ã‚’ä¸¦åˆ—ã«å‡¦ç†ã—ãŸã„ã¨ã—ã¾ã™ã€‚ä¾‹å¤–ã‚’è€ƒæ…®ã—ãªã„ãªã‚‰å˜ç´”ã«asyncã§åŒ…ã‚ã°è‰¯ã„ã§ã™ã€‚
launch { val task1 = async { MainService.task1() } val task2 = async { MainService.task2() } println(&amp;#34;${task1.await()}\n${task2.await()}&amp;#34;) } asyncã§åŒ…ã‚€ã“ã¨ã§ã€ä¸¦åˆ—ã«å‡¦ç†ã‚’ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
æ¬¡ã«ã€å„éåŒæœŸå‡¦ç†ãŒä¾‹å¤–ã‚’åãå ´åˆã‚’è€ƒãˆã¦ã¿ã¾ã™ã€‚ãã®å ´åˆã¯ã€å‘¼ã³å‡ºã—å…ƒã§runCatchingã‚’ä½¿ã„ã¾ã™ã€‚
launch { val task1 = async { runCatching { MainService.task1() } } val task2 = async { runCatching { MainService.task2() } } val result1 = task1.await() val result2 = task2.await() println(&amp;#34;$result1\n&amp;#34; + &amp;#34;$result2\n&amp;#34;) } runCatchingã‚’ä½¿ã†ã“ã¨ã§ã€å‘¼ã³å‡ºã—å…ˆã§ä¾‹å¤–ãŒèµ·ã“ã£ãŸã¨ã—ã¦ã‚‚ã€å‡¦ç†ã‚’ç¶™ç¶šã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
 ã¾ãŸã€æ¬¡ã®ã‚ˆã†ã«æ›¸ãã“ã¨ã¯å‡ºæ¥ã¾ã›ã‚“ã€‚
launch { val task1 = async { MainService.task1() } val task2 = async { MainService.</description>
    </item>
    
    <item>
      <title>Android: Jetpackã®Coroutine Supportã«ã¤ã„ã¦</title>
      <link>https://satoshun.github.io/2019/03/jetpack-coroutine-support/</link>
      <pubDate>Sun, 10 Mar 2019 10:14:21 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/03/jetpack-coroutine-support/</guid>
      <description>Jetpackã®ã„ãã¤ã‹ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã¯ã€Kotlin Coroutineã®ã‚µãƒãƒ¼ãƒˆãŒå…¥ã£ã¦ã„ã¾ã™ãŒã€ ã©ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§å¯¾å¿œãŒé€²ã‚“ã§ã„ã‚‹ã‹æ°—ã«ãªã£ãŸã®ã§ã€è»½ãã¾ã¨ã‚ã¾ã™ã€‚ä½¿ã„æ–¹ã«ã¤ã„ã¦ã¯è¨€åŠã—ã¾ã›ã‚“ã€‚
ä»¥ä¸‹ã€2019å¹´3æœˆ10æ—¥ 2019å¹´3æœˆ11æ—¥ã®èª¿æŸ»çµæœã«ãªã‚Šã¾ã™ã€‚ ã¾ãŸã€ã“ã‚Œã‚‰ã¯ã€supportãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒªãƒã‚¸ãƒˆãƒªã‹ã‚‰å–ã£ã¦ããŸã®ã§ã€ç¾åœ¨ãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¦ã„ã‚‹ã‹ã©ã†ã‹ã¯ä¸æ˜ã§ã™ã€‚
Lifecycle
// Lifecycleã«å¾“ã†CoroutineScopeã®ç”Ÿæˆ val Lifecycle.coroutineScope: CoroutineScope LifecycleOwner
// LifecycleOwnerã«å¾“ã†CoroutineScopeã®ç”Ÿæˆ val LifecycleOwner.lifecycleScope: CoroutineScope ViewModel
// ViewModelã«å¾“ã†CoroutineScopeã®ç”Ÿæˆ val ViewModel.viewModelScope: CoroutineScope WorkManager
abstract class CoroutineWorker( appContext: Context, params: WorkerParameters ) : ListenableWorker(appContext, params) { // suspendãƒ¡ã‚½ãƒƒãƒ‰ã§å®šç¾©ã•ã‚ŒãŸ  abstract suspend fun doWork(): Result } Room
// Daoå†…ã§suspendãƒ¡ã‚½ãƒƒãƒ‰ãŒä½¿ãˆã‚‹ @Dao interface HogesDao { @Insert suspend fun add(hoge: Hoge) @Query(&amp;#34;SELECT * FROM hoge WHERE id = :id&amp;#34;) suspend fun get(id: String): Hoge .</description>
    </item>
    
    <item>
      <title>Dagger2: Providesã¯Kotlin extension methodã¨ä¸€ç·’ã«ä½¿ã†ã“ã¨ãŒå‡ºæ¥ã‚‹</title>
      <link>https://satoshun.github.io/2019/03/dagger-provide-with-extension-method/</link>
      <pubDate>Tue, 05 Mar 2019 00:10:42 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/03/dagger-provide-with-extension-method/</guid>
      <description>Dagger2ã®ã¡ã‚‡ã£ã¨ã—ãŸtipsã§ã™ã€‚
æ¬¡ã®2ã¤ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¯åŒã˜æŒ¯ã‚‹èˆã„ã‚’ã—ã¾ã™ã€‚
@Module class MainActivityModule { // æ™®é€šã®æ›¸ãæ–¹  @Provides fun provideMainContractView(activity: MainActivity): MainContract.View { return activity } // æ‹¡å¼µé–¢æ•°ã‚’ä½¿ã£ãŸæ›¸ãæ–¹  @Provides fun MainActivity.provideMainContractView(): MainContract.View { return this } } ãªãœãªã‚‰ã€æ‹¡å¼µé–¢æ•°ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã‚‹ã¨æ¬¡ã®ã‚ˆã†ã«è§£é‡ˆã•ã‚Œã‚‹ãŸã‚ã§ã™ã€‚
... @Provides @NotNull public final MainContract.View provideMainContractView(@NotNull MainActivity $receiver) { Intrinsics.checkParameterIsNotNull($receiver, &amp;#34;receiver$0&amp;#34;); return (MainContract.View)$receiver; } ... æ‹¡å¼µé–¢æ•°ã¨ã—ã¦å®šç¾©ã—ãŸMainActivityã¯$receiverã¨ãªã‚Šã€å¼•æ•°ã«å…¥ã£ã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚æ‹¡å¼µé–¢æ•°ã¯ä¸Šè¨˜ã®ã‚ˆã†ã«è§£é‡ˆã•ã‚Œã‚‹ãŸã‚ã€@Providesã¨çµ„ã¿åˆã‚ã›ã¦ä½¿ã†ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
ã¾ã¨ã‚ å¤šåˆ†ã€ä½¿ã„æ‰€ãªã„ã¨æ€ã„ã¾ã™ğŸ˜ƒğŸ˜ƒğŸ˜ƒ</description>
    </item>
    
    <item>
      <title>RxAndroidã«Pull Requestã‚’å‡ºã—ãŸè©±</title>
      <link>https://satoshun.github.io/2019/03/rx-android-pull-request/</link>
      <pubDate>Sat, 02 Mar 2019 13:21:05 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/03/rx-android-pull-request/</guid>
      <description>RxAndroidã«Issueã‚’ç«‹ã¦ã¦ã€PRã‚’å‡ºã—ãŸè©±ã§ã™ã€‚åºƒãä½¿ã‚ã‚Œã¦ã„ã‚‹OSSãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å¯¾ã—ã¦ã€Issueã‚’ç«‹ã¦ã¦ã€ãƒ†ã‚¹ãƒˆã‚‚ã‚»ãƒƒãƒˆã§PRã‚’å‡ºã—ãŸã“ã¨ãŒãªã‹ã£ãŸã®ã§ã€ãã‚Œã®è¨˜å¿µè¨˜äº‹ã«ãªã‚Šã¾ã™ã€‚
Issueã®å†…å®¹ å®Ÿéš›ã®Issueã¯ HandlerScheduler.scheduleDirect supports async option? ã«ãªã‚Šã¾ã™ã€‚
Issueã®æ¦‚è¦ã¯ã€RxAndroidã¯2.1.0ã§async messageã«å¯¾å¿œã—ã¾ã—ãŸã€‚ã—ã‹ã—ã€ã“ã‚Œã¯Worker.scheduleã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‹ã‚‰ã®ã¿ã®ã‚µãƒãƒ¼ãƒˆã§ã—ãŸã€‚RxJavaã§ã¯Scheduler.scheduleDirectã§ã‚‚ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã•ã‚Œã‚‹ã®ã§ã€ã“ã¡ã‚‰ã‚‚å¯¾å¿œã—ãŸã»ã†ãŒè‰¯ã„ã®ã§ã¯ï¼Ÿã¨æ€ã„Issueã‚’ç«‹ã¦ã¾ã—ãŸã€‚
ãã‚‚ãã‚‚ã“ã®å•é¡Œã«æ°—ã¥ã„ãŸãã£ã‹ã‘ RxAndroidãŒ2.1.0ã§async messageã«å¯¾å¿œã—ãŸæ™‚ã«ã€ã‚µãƒ³ãƒ—ãƒ«ã§åŠ¹æœã‚’æ¸¬å®šã—ãŸã¨ã“ã‚ã€ã„ãã¤ã‹ã®ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ã§ã¯ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å‘ä¸ŠãŒè¦‹ã‚‰ã‚Œãªã„ã“ã¨ã«æ°—ã¥ãã¾ã—ãŸã€‚ã“ã®ã¨ãã¯ã€ã‚µãƒ³ãƒ—ãƒ«ãŒæ‚ªã„ã®ã‹ã€ãã‚Œã¨ã‚‚ç’°å¢ƒãŒãŠã‹ã—ã„ã®ã‹ã€ã¾ãŸã¾ãŸã“ã‚ŒãŒæ„å›³ã—ãŸæŒ™å‹•ãªã®ã‹ãŒåˆ†ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚ã¨ã‚Šã‚ãˆãšã€è‡ªåˆ†ã®ã‚¿ã‚¹ã‚¯ç®¡ç†ã‚’ã—ã¦ã„ã‚‹todoistã«ã€Œè‰¯ãåˆ†ã‹ã‚‰ãªã„ã‘ã©ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒå‘ä¸Šã—ãªã„ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒã‚ã‚‹ã€ã¿ãŸã„ãªã‚¿ã‚¹ã‚¯ã‚’ä½œã£ã¦ã€ã‚ã¨ã§èª¿ã¹ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚
èª¿ã¹æ–¹ ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã™ã‚‹ã‚ã‘ã§ã‚‚ãªã„ã®ã§ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒå‘ä¸Šã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã€å‘ä¸Šã—ãªã„ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã•ã‚Œã‹ãŸã«é•ã„ãŒãªã„ã‹ã‚’ãƒ‡ãƒãƒƒã‚¬ãƒ¼ã‚’ä½¿ã„ã€åœ°é“ã«ã‚³ãƒ¼ãƒ‰ã‚’è¿½ã„ã‹ã‘ã¾ã—ãŸã€‚
çµæœã€Observable.observeOnã§ã¯Worker.scheduleãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚¿ã‚¹ã‚¯ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ã‚’ã—ã€Maybe.observeOnã§ã¯Scheduler.scheduleDirectãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ã™ã‚‹é•ã„ãŒã‚ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã—ãŸã€‚å¾Œã¯ã€ãã‚Œãã‚Œã®ãƒ‘ã‚¹ã§ã®async messageã®æŒ™å‹•ã®é•ã„ã‚’ç‰¹å®šã—ã€ä¿®æ­£ã™ã‚‹ã ã‘ã§ã™ã€‚
ãã®ä»–ãƒ»æ„Ÿæƒ³ Jakeã•ã‚“ã¨Zacã•ã‚“ã«ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ã—ã¦ã‚‚ã‚‰ã£ãŸ äºŒäººã®ã‚³ãƒ¼ãƒ‰ã¯è‰¯ãèª­ã‚“ã§ã„ã¦ã€å°Šæ•¬ã—ã¦ã„ã‚‹Androidã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãªã®ã§ã€ãã®2äººã«ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ã—ã¦ã‚‚ã‚‰ãˆãŸã®ã¯å¬‰ã—ã‹ã£ãŸã§ã™ğŸ˜ƒ</description>
    </item>
    
    <item>
      <title>Robolectric &#43; Jetpackã§Activityã®onActivityResultãƒ¡ã‚½ãƒƒãƒ‰ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹</title>
      <link>https://satoshun.github.io/2019/02/androidx-onactivityresult-testing/</link>
      <pubDate>Sat, 23 Feb 2019 02:47:59 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/02/androidx-onactivityresult-testing/</guid>
      <description>Robolectric4.xã‹ã‚‰ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆç’°å¢ƒã§ã€android testã¨ï¼ˆã»ã¼?ï¼‰åŒã˜ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’å‹•ã‹ã™ã“ã¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã—ãŸã€‚ ã¾ã ã€å®Œå…¨ã«äº’æ›æ€§ãŒã‚ã‚‹ã¨ã¯ã„ãˆã¾ã›ã‚“ãŒã€Espressoãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒå‹•ãã€AndroidJUnit4ãƒ©ãƒ³ãƒŠãƒ¼ãŒä½¿ãˆã‚‹ãªã©ã€ã‹ãªã‚Šã®éƒ¨åˆ†ãŒå…±é€šåŒ–å‡ºæ¥ã¾ã™ã€‚
ã“ã®è¨˜äº‹ã§ã¯ã€ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã§Activity.onActivityResultã®ãƒ†ã‚¹ãƒˆã‚’ã©ã“ã¾ã§android testã®ã‚ˆã†ã«æ›¸ã‘ã‚‹ã‹ã‚’æ¤œè¨¼ã—ã¾ã™ã€‚
ãƒ†ã‚¹ãƒˆå¯¾è±¡ã‚³ãƒ¼ãƒ‰ ã¾ãšæœ€åˆã«ã€ãƒ†ã‚¹ãƒˆå¯¾è±¡ã‚³ãƒ¼ãƒ‰ã¯æ¬¡ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚
class MainActivity : AppCompatActivity() { ... override fun onCreate(savedInstanceState: Bundle?) { ... button.setOnClickListener { startActivityForResult( Intent(this, Sub2Activity::class.java).apply { putExtra(&amp;#34;fuga&amp;#34;, &amp;#34;hoge&amp;#34;) }, 1 ) } } override fun onActivityResult( requestCode: Int, resultCode: Int, data: Intent? ) { super.onActivityResult(requestCode, resultCode, data) if (requestCode == 1) { if (resultCode == Activity.RESULT_OK) { val value = data!!.getIntExtra(&amp;#34;test&amp;#34;, -1) button.text = value.toString() } } } } class Sub2Activity : AppCompatActivity() { override fun onCreate(savedInstanceState: Bundle?</description>
    </item>
    
    <item>
      <title>ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®é·ç§»ã«ã¤ã„ã¦è€ƒãˆã‚‹ Part2</title>
      <link>https://satoshun.github.io/2019/02/multi-module_transition_part2/</link>
      <pubDate>Fri, 15 Feb 2019 00:14:56 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/02/multi-module_transition_part2/</guid>
      <description>ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«é·ç§»æ–¹æ³•Part2ã§ã™ã€‚Part1ã¯ã“ã“ã«ãªã‚Šã¾ã™ğŸ˜Œ
Part2ã§ã¯ã€Navigation Componentã‚’ä½¿ã†ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è€ƒãˆã¦ã¿ã¾ã™ã€‚ä»Šå›ã¯Dynamic Feature(DFM)ã«ã¯è§¦ã‚Œã¾ã›ã‚“ã€‚ã„ã‚ã‚†ã‚‹ä¸€èˆ¬çš„ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã®é·ç§»ã«ãªã‚Šã¾ã™ã€‚
ã¾ãŸã€ä»Šå›ã®æ¤œè¨¼ã«ç”¨ã„ãŸã‚³ãƒ¼ãƒ‰ã¯satoshun/MultiModuleNavigationComponentExampleã«ã‚ã‚Šã¾ã™ã€‚
ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆã«ã¤ã„ã¦ ç´°ã‹ã„å®Ÿè£…ã«å…¥ã‚‹å‰ã«ã€å…¨ä½“çš„ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆã‚’èª¬æ˜ã—ã¾ã™ã€‚ä»Šå›ã¯appãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒãƒˆãƒƒãƒ—ã«ã‚ã‚Šã€2ã¤ã®featureãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒã‚ã‚‹ã¨ã—ã¾ã™ã€‚
  å„featureãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã¯é·ç§»ç”¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æŒã£ã¦ãŠã‚Šã€ãã‚Œã‚’ç”¨ã„ã¦ä»–ã®featureç”»é¢ã¸é·ç§»ã‚’ã—ã¾ã™ã€‚é·ç§»ç”¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å®Ÿè£…ã¯appå†…ã®routerãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§è¡Œã„ã¾ã™ã€‚
ã“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆã®ãƒã‚¤ãƒ³ãƒˆã¯ã€å„featureãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å†…ã§è‡ªèº«ãŒä½¿ã†é·ç§»ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®šç¾©ã—ã€appãŒãã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å®Ÿè£…ã‚’è¡Œã†ç‚¹ã§ã™ã€‚ã“ã®ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã§ã€featureé–“ã§ç›´æ¥ã®ä¾å­˜ã‚’æŒã¤ã“ã¨ã‚’é˜²ãã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã‚Œã¯å¾ªç’°ä¾å­˜ã‚’é¿ã‘ã‚‹ãŸã‚ã§ã™ã€‚
ã§ã¯ã€å®Ÿè£…ã«å…¥ã£ã¦ã„ãã¾ã™ã€‚ä»Šå›ã¯Dagger2ã‚’ä½¿ã£ã¦å®Ÿè£…ã‚’ã—ã¾ã™ã€‚
featureãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å´ã®é·ç§»ç”¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å®šç¾© å‰è¿°ã®å›³ã®é€šã‚Šã€å„featureãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å†…ã§é·ç§»ç”¨ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®šç¾©ã—ã¾ã™ã€‚ã“ã“ã§ã¯ã€featureãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å†…ã§ä½¿ç”¨ã™ã‚‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®šç¾©ã—ã¾ã™ã€‚
mainç”»é¢ã‹ã‚‰sub1ç”»é¢ã«ç§»å‹•ã—ãŸã„ã¨ã—ã¾ã™ã€‚æ¬¡ã®ã‚ˆã†ãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®šç¾©ã«ãªã‚Šã¾ã™ã€‚
interface MainModuleRouter { // sub1ç”»é¢ã¸ç§»å‹•ã™ã‚‹  fun routeToSub1() } Mainãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ç”¨ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãªã®ã§ã€MainModuleRouterã¨ã„ã†åå‰ã«ã—ã€sub1ç”»é¢ã¸é·ç§»ã™ã‚‹ãŸã‚ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚
ãã—ã¦ã“ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ã€MainFragmentã§ä½¿ã„ã¾ã™ã€‚
class MainFragment : Fragment() { @Inject lateinit var moduleRouter: MainModuleRouter ... override fun onViewCreated(view: View, savedInstanceState: Bundle?) { super.onViewCreated(view, savedInstanceState) view.findViewById&amp;lt;View&amp;gt;(R.id.route).setOnClickListener { moduleRouter.routeToSub1() } } } ã“ã‚Œã§featureãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã®é·ç§»ç”¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å®šç¾©ã¯å®Œäº†ã§ã™ã€‚
æ¬¡ã«ã“ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å®Ÿè£…ã‚’ã—ã¾ã™ã€‚
routerãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å´ã®é·ç§»ç”¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å®Ÿè£… ä»Šå›ã¯ã€é·ç§»ç”¨ã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹ã®å®Ÿè£…ã‚’routerãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§è¡Œã„ã¾ã™ã€‚ã¾ãšã¯ã€Navigation Componentã‚’ç”¨ã„ã¦ã€Graphã‚’ä½œã‚Šã¾ã™ã€‚
&amp;lt;navigation xmlns:android=&amp;#34;http://schemas.android.com/apk/res/android&amp;#34; xmlns:app=&amp;#34;http://schemas.android.com/apk/res-auto&amp;#34; android:id=&amp;#34;@+id/nav_graph&amp;#34; app:startDestination=&amp;#34;@id/nav_main_frag&amp;#34;&amp;gt; &amp;lt;fragment android:id=&amp;#34;@+id/nav_main_frag&amp;#34; android:name=&amp;#34;com.github.satoshun.example.feature.main.MainFragment&amp;#34;&amp;gt; &amp;lt;action android:id=&amp;#34;@+id/main_to_sub1&amp;#34; app:destination=&amp;#34;@id/nav_sub1_frag&amp;#34; /&amp;gt; &amp;lt;/fragment&amp;gt; .</description>
    </item>
    
    <item>
      <title>ã§ã‹ã„appãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒã‚ã‚‹ã¨ãã«ã€ä¸­é–“ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å…¥ã‚Œã‚‹ã“ã¨ã§å·®åˆ†ãƒ“ãƒ«ãƒ‰ã‚’ä¸Šæ‰‹ãåŠ¹ã‹ã›ã‚‹</title>
      <link>https://satoshun.github.io/2019/02/multi-module-speedup/</link>
      <pubDate>Mon, 11 Feb 2019 01:40:29 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/02/multi-module-speedup/</guid>
      <description>ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆã®ãƒ¡ãƒªãƒƒãƒˆã«å·®åˆ†ãƒ“ãƒ«ãƒ‰ã®åŠ¹ç‡åŒ–ã¨ã„ã†ã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚ã—ã‹ã—ã€ãƒ¢ãƒã‚·ãƒªãƒƒã‚¯ãªappãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‹ã‚‰ã€ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆã«å¤‰æ›´ã—ã¦ã„ãéç¨‹ã§ã¯appãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒã§ã‹ã„ã¾ã¾ãªã®ã§ã€å·®åˆ†ãƒ“ãƒ«ãƒ‰ã«ã‚ˆã‚‹æ©æµãŒå—ã‘ã«ãã„ã¨ã„ã†å•é¡ŒãŒã‚ã‚Šã¾ã™ã€‚ï¼ˆæœ€çµ‚æ®µéšã¾ã§é€²ã‚ã°appãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ååˆ†ã«å°ã•ããªã‚‹ã®ã§ã€å·®åˆ†ãƒ“ãƒ«ãƒ‰ã®æ©æµã‚’å—ã‘ã‚‰ã‚Œã¾ã™ï¼‰
ä¾‹ãˆã°ã€ä»¥ä¸‹ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆã‚’è€ƒãˆã¾ã™ã€‚
  é ‘å¼µã£ã¦2ã¤ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’åˆ‡ã‚Šå‡ºã—ã¾ã—ãŸã€‚ãŸã ã—ã€ã“ã‚Œã§ã¯ã©ã“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å¤‰æ›´ã—ã¦ã‚‚ã‹ãªã‚Šã®ãƒ“ãƒ«ãƒ‰æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™ã€‚ãªãœãªã‚‰ã€Gradleã§ã¯ä¾å­˜é–¢ä¿‚ã«ã‚ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒå¤‰æ›´ã•ã‚ŒãŸã¨ãã«ã€è‡ªåˆ†è‡ªèº«ã‚‚ï¼ˆã‚ã‚‹ç¨‹åº¦?ï¼‰å†ãƒ“ãƒ«ãƒ‰ã•ã‚Œã‚‹ãŸã‚ã§ã™ã€‚ãªã®ã§ã€ä¸Šè¨˜ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆã ã¨ã€ã©ã“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä¿®æ­£ã—ã¦ã‚‚ã€å¸¸ã«å¤§ãã„appãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒå†ãƒ“ãƒ«ãƒ‰ã•ã‚Œã¦ã—ã¾ã†ãŸã‚ã€ãƒ“ãƒ«ãƒ‰æ™‚é–“ãŒã‹ã‹ã£ã¦ã—ã¾ã„ã¾ã™ã€‚
ãã“ã§ã€é–“ã«ä¸­é–“ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’æŒŸã‚€ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚ã“ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’ä½¿ã†ã¨ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
  é€”ä¸­ã«é©å½“ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’æŒŸã‚€ã“ã¨ã§ã€ã‚µãƒ–1ã€ã‚µãƒ–2ãŒå¤‰æ›´ã•ã‚ŒãŸã¨ãã«appãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®å†ãƒ“ãƒ«ãƒ‰ã‚’é˜²ãã“ã¨ãŒã§ãã¾ã™ã€‚
ãŸã ã—ã€ã„ãã¤ã‹æ¡ä»¶ãŒã‚ã‚Šã¾ã™ã€‚
1. ä¸­é–“ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§å…¬é–‹å¯èƒ½ãªã‚‚ã®ã«é™ã‚‹ ä¾‹ãˆã°ã‚µãƒ–1ã§SubActivityã‚’å…¬é–‹ã—ã¦ã„ã¦ã€ã“ã‚Œã‚’ç›´æ¥appã‹ã‚‰å‚ç…§ã—ã¦ã„ã‚‹å ´åˆã¯é§„ç›®ã§ã™ã€‚ ã“ã‚Œã‚’SubActivityã¨ã—ã¦ã§ã¯ãªãã€Activityã¨ã—ã¦å‚ç…§ã§ãã‚‹ãªã‚‰å¤§ä¸ˆå¤«ã§ã™ã€‚ã‚µãƒ–1ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‚¯ãƒ©ã‚¹ãŒappãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‹ã‚‰è¦‹ã‚Œãªã„ãŸã‚ã®åˆ¶ç´„ã§ã™ã€‚
ä¸­é–“ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚³ãƒ¼ãƒ‰ã‚¤ãƒ¡ãƒ¼ã‚¸ã¨ã—ã¦ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
fun createUserFragment(userName: String, age: Int): Fragment { return UserFragment.createFragment(userName, age) } fun createUserIntent(context: Context): Intent { return Intent(context, UserActivity::class.java) } UserActivityã€UserFragmentãŒå…¬é–‹ã•ã‚Œã¦ã„ãªã„ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚Androidã®ã„ã‚ã‚†ã‚‹featureãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã¯ã€Activityã€Fragmentã‚’å…¬é–‹ã™ã‚‹å ´åˆãŒå¤šã„ã¨æ€ã†ã®ã§ã€ãã®å ´åˆã«ã¯æœ‰åŠ¹ã«ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ã€‚
2. implementationã§ä¾å­˜ã‚’å®šç¾©ã™ã‚‹ apiã‚’ä½¿ã†ã¨ã€ä¾å­˜ãŒæ¨ç§»ã™ã‚‹ãŸã‚å†ãƒ“ãƒ«ãƒ‰ãŒè¡Œã‚ã‚Œã¦ã—ã¾ã†ãŸã‚ã§ã™ã€‚implementationã§ä¾å­˜ã‚’è¨˜è¿°ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
3. Dagger2ä½¿ã£ã¦ã‚‹ã¨å¤šåˆ†ç„¡ç† Dagger2ã§ã¯ã€è§£æ±ºã™ã‚‹ä¾å­˜ã‚’AppComponentã§çŸ¥ã£ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ä¸Šè¨˜ã®æ§‹æˆã ã¨ã€appã§AppComponentã‚’æŒã¤ã“ã¨ã«ãªã‚‹ã®ã§ã€appã‹ã‚‰sub1ã€sub2ãŒè¦‹ãˆã¦ã„ãªã„ã¨æœ€çµ‚çš„ã«Dagger2ã§è§£æ±ºã§ãã¾ã›ã‚“ã€‚ãªã®ã§ã€ä¸­é–“ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã€appã‹ã‚‰subã®ä¾å­˜ãŒè¦‹ãˆãªããªã‚‹ã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ä½¿ãˆã¾ã›ã‚“ã€‚
è©³ã—ãã¯Dagger/#970ã«ã‚ã‚Šã¾ã™ã€‚
ã¾ã¨ã‚  ã‚„ã‚Šã™ãæ„Ÿã¯ã‚ã‚‹  ãŸã ã§ã•ãˆè¤‡é›‘ãªã€ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆãŒã•ã‚‰ã«ç…©é›‘ã«ãªã‚Šãã†ã€‚ãŸã ã—ã€æœ€çµ‚çš„ã«ã¯æ¶ˆãˆã‚‹ã®ã§ã€å·®åˆ†ãƒ“ãƒ«ãƒ‰ã®æ©æµã‚’å—ã‘ã‚‹ãŸã‚ã®ã‚¹ãƒ†ãƒƒãƒ—ã ã¨ã™ã‚Œã°è¨±ã›ã‚‹ã‹ã‚‚? Dagger2ã‚’ä½¿ã£ã¦ã„ã‚‹ã¨æ¨ç§»çš„ä¾å­˜ãŒå¿…è¦ã«ãªã‚Šã€ä½¿ãˆãªã„ã€ã‚‚ã—ãã¯å·¥å¤«ãŒå¿…è¦ã«ãªã‚‹   ã‚µãƒ³ãƒ—ãƒ«ã¯satoshun/ApplicationModulesSpeedUpExampleã«ã‚ã‚Šã¾ã™  ã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å¤‰æ›´ã—ãŸã¨ãã®ãƒ“ãƒ«ãƒ‰ã¯çˆ†é€Ÿã§ã—ãŸğŸ˜Š    Daggerã®éƒ¨åˆ†ã®ã„ã„è§£æ±ºæ–¹æ³•ã‚’çŸ¥ã£ã¦ã„ã‚‹äººãŒã„ãŸã‚‰ã€æ•™ãˆã¦é ‚ã‘ã‚‹ã¨å¹¸ã„ã§ã™ğŸ˜ŠğŸ˜ŠğŸ˜Š</description>
    </item>
    
    <item>
      <title>R8/Proguard: Jarãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ProGuardè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚“ã§ãã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸ</title>
      <link>https://satoshun.github.io/2019/01/r8-proguard-metainf/</link>
      <pubDate>Mon, 28 Jan 2019 00:08:35 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/01/r8-proguard-metainf/</guid>
      <description>AGP3.3.0ProGuardã¯AGP3.3.0ã€R8ã¯å°å…¥ã•ã‚ŒãŸAGP3.2.0ã‹ã‚‰ã€Jarãƒ•ã‚¡ã‚¤ãƒ«ã®ProGuardè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’çµ„ã¿è¾¼ã‚ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ãã®æ©Ÿèƒ½ç´¹ä»‹ã§ã™ã€‚ ä»Šã¾ã§ã€aarã§ã¯consumerProguardFilesã§ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ProGuardè¨­å®šã‚’æŒ‡å®šã§ãã¾ã—ãŸã€‚ãã‚Œã®Jarã€Javaãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¨ãªã‚Šã¾ã™ã€‚
ãƒ©ã‚¤ãƒ–ãƒ©ãƒªé–‹ç™ºè€…å´ã®è¨­å®š Retrofitãªã©ã®Squareç¤¾ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã¯ã€æ—©ãã‚‚ã“ã®æ©Ÿèƒ½ã«å¯¾å¿œã—ã¦ã„ã‚‹ã®ã§ã€ãã‚Œã‚’ä¾‹ã«ã—ã¦èª¬æ˜ã—ã¾ã™ã€‚
ã¾ãšã€resources/META-INF/prougardãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä¸­ã«ProGuardã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½®ãã¾ã™ã€‚
square/retrofit
ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå´ã®è¨­å®šã¯ã“ã‚Œã§å®Œäº†ã§ã™ã€‚
ä½¿ã†å´ã®è¨­å®š AGP3.3.0ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã™ã‚‹ã ã‘ã§ä½¿ãˆã¾ã™ã€‚META-INF/ProGuardã¯Retrofitã®2.5.0ã‹ã‚‰å…¥ã£ã¦ã„ã‚‹ã®ã§ã€ã¾ãšã¯META-INFãŒå…¥ã£ã¦ã„ãªã„ã€2.4.0ã§ãƒ“ãƒ«ãƒ‰ã‚’ã—ã¦ã¿ã¾ã™ã€‚
implementation &amp;quot;com.squareup.retrofit2:retrofit:2.4.0&amp;quot; &amp;gt; ./gradlew installRelease ... Warning: there were 267 unresolved references to classes or interfaces. You may need to add missing library jars or update their versions. If your code works fine without the missing classes, you can suppress the warnings with &#39;-dontwarn&#39; options. (http://proguard.sourceforge.net/manual/troubleshooting.html#unresolvedclass) Warning: Exception while processing task java.io.IOException: Please correct the above warnings first. Thread(Tasks limiter_2): destruction å¤±æ•—ã—ã¾ã—ãŸğŸ˜‚</description>
    </item>
    
    <item>
      <title>Fluxã®Dispatcherã‚’Roomã®in memoryã§å®Ÿè£…ã™ã‚‹ã®ã¯ã€å†—é•·ãªã‚³ãƒ¼ãƒ‰ãŒå¤šããªã‚‹ã®ã§è‰¯ããªã„</title>
      <link>https://satoshun.github.io/2019/01/room-with-flux/</link>
      <pubDate>Thu, 24 Jan 2019 00:43:33 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/01/room-with-flux/</guid>
      <description>Fluxã®Dispatcherã‚’Room in memoryã§å®Ÿè£…ã™ã‚Œã°æœ€é«˜ãªã®ã§ã¯?ã¨æ€ã„ã€ã¡ã‚‡ã£ã¨è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚
çµè«–ã‹ã‚‰ç”³ã—ã¾ã™ã¨å†—é•·ãªã‚³ãƒ¼ãƒ‰ãŒå¤šãã€è‰¯ããªã„ã¨æ„Ÿã˜ã¾ã—ãŸã€‚EventBusã‚„ã€ä»–ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã£ã¦å®Ÿè£…ã—ãŸã»ã†ãŒè‰¯ã„ã¨æ€ã„ã¾ã™ğŸ˜‚
ã¾ãŸã€ã‚ªãƒªã‚¸ãƒŠãƒ«Fluxã¯ã€ŒDispatcherãŒã‚¢ãƒ—ãƒªå†…ã§1ã¤ã ã‘å­˜åœ¨ã™ã‚‹ã€ã¨ã„ã†åŸå‰‡ãŒã‚ã£ãŸã¨æ€ã„ã¾ã™ãŒã€ãã‚Œã‚’ç ´ã£ã¦ã„ã¾ã™ã€‚Fluxã§ã™ã‚‰ãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
Room in memory? Roomã§ã¯in memoryã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½œã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚æ­£ç¢ºã«è¨€ãˆã°ã€SQLiteã®æ©Ÿèƒ½ã‚’Roomã®APIã¨ã—ã¦é–‹æ”¾ã—ã¦ã„ã¾ã™ã€‚
ä½¿ã„æ–¹ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
Room .inMemoryDatabaseBuilder(context, MyDatabase::class.java) .build() in memoryã‚’ä½¿ã†ç†ç”±ã¨ã—ã¦ã¯ã€
 ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒã™ã‚‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ°¸ç¶šåŒ–ã™ã‚‹å¿…è¦ã¯ãªã„ã ã‚ã† ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒå¿…è¦ãªã„  ã«ãªã‚Šã¾ã™ã€‚
å®Ÿè£…ã«å…¥ã£ã¦ã„ã ã§ã¯ã€å®Ÿè£…ã®èª¬æ˜ã‚’ã—ã¦ã„ãã¾ã™ã€‚
ã¾ãšã¯Actionã‚’Roomã®Entityã¨ã—ã¦å®šç¾©ã—ã¾ã™ã€‚
sealed class AuthorAction @Entity(tableName = &amp;#34;author1&amp;#34;) data class Author1( @PrimaryKey val _id: Long = 0, // always 0  val name: String, val age: Int ) : AuthorAction() @Entity(tableName = &amp;#34;author2&amp;#34;) data class Author2( @PrimaryKey val _id: Long = 0, // always 0  val name: String, val age: Int ) : AuthorAction() Primary keyã¯å¸¸ã«ä¸€å®šã«ã—ã¦ã€ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¯0 or 1ã¤ã—ã‹å­˜åœ¨ã—ãªã„ã‚ˆã†ã«ã—ã¦ãŠãã¾ã™ã€‚ä»®ã«ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®å±¥æ­´ãŒæ¬²ã—ã„ãªã‚‰ã€@PrimaryKey(autoGenerate = true)ã‚’ä½¿ã£ã¦ã‚‚è‰¯ã„ã¨æ€ã„ã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>R8/Proguard: Daggerã®ç”Ÿæˆã‚³ãƒ¼ãƒ‰ãŒR8ã§ã©ã®ã‚ˆã†ã«å¤‰ã‚ã‚‹ã‹ã‚’è¦‹ã‚‹</title>
      <link>https://satoshun.github.io/2019/01/r8-dagger-optimize/</link>
      <pubDate>Sun, 20 Jan 2019 13:55:46 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/01/r8-dagger-optimize/</guid>
      <description>ã‚³ãƒ¼ãƒ‰ã®æœ€é©åŒ–ã®è©±ã§ã™ã€‚ã“ã®è¨˜äº‹ã§ã¯å®Ÿè·µã«å¯„ã›ã¦ã€Daggerã®ç”Ÿæˆã‚³ãƒ¼ãƒ‰ãŒR8ã«ã‚ˆã£ã¦ã©ã®ã‚ˆã†ã«å¤‰åŒ–ã™ã‚‹ã‹ã‚’è¦‹ã¾ã™ã€‚
ã¾ãšã¯ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚
@Component( modules = [ AppModule1::class, AppModule2::class ] ) interface AppComponent { @Component.Builder interface Builder { fun build(): AppComponent } fun inject(activity: MainActivity) } @Module class AppModule1 { @Provides fun provideService(): AppService { val retrofit = Retrofit.Builder() ... return retrofit.create() } } @Module object AppModule2 { @JvmStatic @Provides fun provideService2(): AppService2 { val retrofit = Retrofit.Builder() ... return retrofit.create() } } --- class MainActivity : AppCompatActivity() { @Inject lateinit var appService: AppService @Inject lateinit var appService2: AppService2 override fun onCreate(savedInstanceState: Bundle?</description>
    </item>
    
    <item>
      <title>R8/Proguard: Kotlinã®lambdaæœ€é©åŒ–ã«ã¤ã„ã¦</title>
      <link>https://satoshun.github.io/2019/01/r8-kotlin-lambda/</link>
      <pubDate>Sun, 20 Jan 2019 06:56:16 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/01/r8-kotlin-lambda/</guid>
      <description>ã‚³ãƒ¼ãƒ‰ã®æœ€é©åŒ–ã®è©±ã§ã™ã€‚ã“ã®è¨˜äº‹ã§ã¯Kotlinã®lambdaå¼ã®æœ€é©åŒ–ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚
Kotlin lambda Kotlinã§ã¯é–¢æ•°å‹ãŒãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã§ã™ã€‚ã¨ã¦ã‚‚ä¾¿åˆ©ãªã®ã§ã™ãŒã€ãƒ©ãƒ ãƒ€ã‚’ä½¿ã†ãŸã³ã«å†…éƒ¨çš„ã«ã¯ã‚¯ãƒ©ã‚¹ã‚’1ã¤å®šç¾©ã™ã‚‹ãŸã‚ã€ã‚¯ãƒ©ã‚¹æ•°ã€ãƒ¡ã‚½ãƒƒãƒ‰æ•°ãŒã©ã‚“ã©ã‚“å¢—ãˆã¦ã„ãã¾ã™ã€‚
ä¾‹ãˆã°ã€æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã‚’æœ€é©åŒ–ãªã—ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦ã¿ã¾ã™ã€‚
fun main() { lambdaTest1 { println(&amp;#34;Kotlin lambda1&amp;#34;) } lambdaTest1 { println(&amp;#34;Kotlin lambda2&amp;#34;) } lambdaTest1 { println(&amp;#34;Kotlin lambda3&amp;#34;) } ... } private fun lambdaTest1(body: () -&amp;gt; Unit) { ... body() ... } // ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¾Œ public static final void main() { LambdaTestKt.lambdaTest1((Function0) LambdaTestKt$main$1.INSTANCE); LambdaTestKt.lambdaTest1((Function0) LambdaTestKt$main$2.INSTANCE); LambdaTestKt.lambdaTest1((Function0) LambdaTestKt$main$3.INSTANCE); ... } final class LambdaTestKt$main$1 extends Lambda implements Function0&amp;lt;Unit&amp;gt; { public static final LambdaTestKt$main$1 INSTANCE = new LambdaTestKt$main$1(); LambdaTestKt$main$1() { super(0); } public final void invoke() { System.</description>
    </item>
    
    <item>
      <title>R8/Proguard: Kotlinã®Companion objectã¨objectã«ã¤ã„ã¦</title>
      <link>https://satoshun.github.io/2019/01/r8-companion-object/</link>
      <pubDate>Sun, 20 Jan 2019 04:23:43 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/01/r8-companion-object/</guid>
      <description>ã‚³ãƒ¼ãƒ‰ã®æœ€é©åŒ–ã®è©±ã§ã™ã€‚ã“ã®è¨˜äº‹ã§ã¯Kotlinã®Companion objectã¨objectã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚
ã“ã®è¨˜äº‹ã¯ã€R8 Optimization: Staticizationã«ã¨ã¦ã‚‚å½±éŸ¿ã‚’å—ã‘ã¦ã„ã¾ã™ã€‚
Companion object ä¾‹ãˆã°ã€æ¬¡ã®ã‚³ãƒ¼ãƒ‰ãŒã‚ã‚‹ã¨ã—ã¾ã™ã€‚
class CompanionTest { companion object { fun show(i: Int) { ... } } } ã“ã‚Œã‚’æœ€é©åŒ–ãªã—ã§å¤‰æ›ã™ã‚‹ã¨æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
public final class CompanionTest { public static final Companion Companion = new Companion(); public static final class Companion { private Companion() { } public final void show(int i) { ... } } } Companionã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒç”Ÿæˆã•ã‚Œã¦ã„ã‚‹ã®ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚ãŸã ã€ã“ã®Companion objectã¯ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã›ã‚“ã€‚ãªãœãªã‚‰ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å®Ÿè£…ãªã©ã‚’ã—ã¦ã„ãªã„ã‹ã‚‰ã§ã™ã€‚
ãã“ã§R8ã«ã‚ˆã‚‹æœ€é©åŒ–ã‚’è¡Œã†ã¨æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
public abstract class CompanionTest { public static final void show(int i) { .</description>
    </item>
    
    <item>
      <title>R8/Proguard: Class Mergingã«ã¤ã„ã¦</title>
      <link>https://satoshun.github.io/2019/01/r8-merge-method/</link>
      <pubDate>Sun, 20 Jan 2019 02:16:43 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/01/r8-merge-method/</guid>
      <description>ã‚³ãƒ¼ãƒ‰ã®æœ€é©åŒ–ã®è©±ã§ã™ã€‚ã“ã®è¨˜äº‹ã§ã¯Class Mergingã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚
Class Merging? ãã®åã®é€šã‚Šã€Classã‚’ãƒãƒ¼ã‚¸ã™ã‚‹æœ€é©åŒ–ã§ã™ã€‚æœ€çµ‚çš„ãªã‚¯ãƒ©ã‚¹æ•°æ¸›ã‚‰ã™ã“ã¨ãŒæœŸå¾…å‡ºæ¥ã¾ã™ã€‚ Class Mergingã«ã¯ç¸¦æ–¹å‘ï¼ˆVerticalï¼‰ã¨ã€æ¨ªæ–¹å‘ï¼ˆHorizontalï¼‰ãŒã‚ã‚Šã¾ã™ã€‚
ã¾ãšã¯ç¸¦æ–¹å‘ã®Class Mergingã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚
ç¸¦æ–¹å‘? ç¸¦æ–¹å‘ã¨ã¯ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¿ã‚¤ãƒ—ã®å®Ÿè£…ãŒ1ã¤ã ã£ãŸã¨ãã«ã€ãã®ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¿ã‚¤ãƒ—ã¨å®Ÿè£…ã§ã‚ã‚‹ã‚µãƒ–ã‚¿ã‚¤ãƒ—ã‚’1ã¤ã«ã¾ã¨ã‚ã‚‹æœ€é©åŒ–ã§ã™ã€‚
ä¾‹ãˆã°ã€æ¬¡ã®å®Ÿè£…ã¯æœ€é©åŒ–ã«ã‚ˆã£ã¦1ã¤ã«ã¾ã¨ã‚ã‚‰ã‚Œã¾ã™ã€‚
interface IVertical { fun show(i: Int) } class Vertical( private val a: Int ) : IVertical { override fun show(i: Int) { println(&amp;#34;start called $i$a&amp;#34;) } } &amp;ndash;&amp;gt; Proguard/R8ã«ã‚ˆã‚‹æœ€é©åŒ–å¾Œ &amp;ndash;&amp;gt;
public final class Vertical { ... public final void show(int i) { ... } } IVerticalã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãŒè¦‹äº‹ã«æ¶ˆã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚
ã¾ãŸã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§ã¯ãªãabstractã‚¯ãƒ©ã‚¹ã®å ´åˆã¯R8ã®å ´åˆã®ã¿ä¸Šæ‰‹ããƒãƒ¼ã‚¸ã•ã‚Œã¾ã—ãŸã€‚
 R8: Vertical Merger Proguard: Vertical Merger  æ¬¡ã«æ¨ªæ–¹å‘ã®ãƒãƒ¼ã‚¸ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚
æ¨ªæ–¹å‘? Staticãƒ¡ã‚½ãƒƒãƒ‰ã®ã¿ã‚’æŒã¤ã‚¯ãƒ©ã‚¹ã‚’1ã¤ã«ã¾ã¨ã‚ã‚‹ãªã©ã®æœ€é©åŒ–ã‚’è¡Œã„ã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>Dynamic Feature Moduleã§Dagger Androidã‚’ä½¿ã†</title>
      <link>https://satoshun.github.io/2019/01/dynamic-feature-and-dagger-android/</link>
      <pubDate>Wed, 16 Jan 2019 12:10:36 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/01/dynamic-feature-and-dagger-android/</guid>
      <description>Dependency injection in a multi module projectã‚’è¦‹ã¦ã€Dynamic Featureã‚’Dagger Androidã§å®Ÿç¾ã™ã‚‹ã«ã¯ã©ã†ã™ã‚‹ã‹ã‚’è€ƒãˆã¦ã¿ã¾ã—ãŸã€‚
çµè«–ã‹ã‚‰ã„ã†ã¨ã€ã„ãã¤ã‹ã®baseã‚¯ãƒ©ã‚¹ã‚’å®šç¾©ã™ã‚‹ã“ã¨ã§å¯¾å¿œã§ããã†ã§ã™ã€‚
ã¾ãŸã€ã“ã®è¨˜äº‹ã§ã¯Dynamic Feature Moduleã€Dagger Androidã‚’ã‚ã‚‹ç¨‹åº¦çŸ¥ã£ã¦ã„ã‚‹å‰æã§é€²ã‚ã¦ã„ãã¾ã™ã€‚
æ¤œè¨¼ã«ç”¨ã„ãŸã‚³ãƒ¼ãƒ‰ã¯satoshun-android-example/DynamicFeatureDaggerExampleã«ã‚ã‚Šã¾ã™ğŸ˜Š
å‰æçŸ¥è­˜ é€šå¸¸ã®Dagger Androidã¯Applicationã‚¯ãƒ©ã‚¹ã§Componentã‚’ä¿æŒã—ã¦ã€ãã“ã‹ã‚‰Subcomponentã‚’æ´¾ç”Ÿã•ã›ã‚‹å½¢ã«ãªã‚Šã¾ã™ã€‚ ã“ã“ã§ã®ãƒã‚¤ãƒ³ãƒˆã¯ã€Applficationã§ãƒˆãƒƒãƒ—ã«ä½ç½®ã™ã‚‹Componentã‚’ä¿æŒ/ä½œæˆã™ã‚‹ã¨ã„ã†ç‚¹ã§ã™ã€‚ã“ã‚Œã¯appãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒå…¨ã¦ã®Featureãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’çŸ¥ã£ã¦ã„ã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚
    ã“ã®å‰æã‚’ã‚‚ã¨ã«ã€Dynamic Featureã‚’è€ƒãˆã¾ã™ã€‚Dynamic Featureã§ã¯Applicationã§ãƒˆãƒƒãƒ—ã«ä½ç½®ã™ã‚‹Componentã‚’ä¿æŒ/ä½œæˆã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã›ã‚“ã€‚ãªãœãªã‚‰ã€appãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯å„Featureãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã“ã¨ã‚’çŸ¥ã‚Œãªã„ãŸã‚ã§ã™ã€‚Dynamic Moduleã§ã¯é€šå¸¸ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆã¨é•ã„ã€appã¨Feature Moduleé–“ã®ä¾å­˜é–¢ä¿‚ãŒé€†è»¢ã—ã¾ã™ã€‚çµæœã€Applicationã§ãƒˆãƒƒãƒ—ã«ä½ç½®ã™ã‚‹Componentã‚’ä¿æŒ/ä½œæˆã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã›ã‚“ã€‚
    ãã“ã§Dynamic Featureã§ã¯ã€appãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ãƒˆãƒƒãƒ—ã«ä½ç½®ã™ã‚‹Componentã‚’ä¿æŒã™ã‚‹ã®ã¯ã‚„ã‚ã¦ã€å„Feature Moduleå†…ã§ãã‚Œãã‚Œã®Componentã‚’ä¿æŒã™ã‚‹ã®ãŒè‰¯ã„ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚
ã“ã“ã¾ã§ãŒå‰æçŸ¥è­˜ã§ã€æ¬¡ã«Dynamic Feature + Dagger Androidã®å®Ÿè£…ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚
å®Ÿè£… Feature Subãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒã‚ã‚Šã€ã“ã®Subãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆï¼ˆãƒˆãƒƒãƒ—ã«ä½ç½®ã™ã‚‹ã‚¯ãƒ©ã‚¹ï¼‰ã¨ã—ã¦SubActivityãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹ã¨ã—ã¾ã™ã€‚ å®Ÿè£…ã®æ–¹é‡ã¨ã—ã¦ã¯ã€ã“ã®SubActivityã‚’DaggerApplicationã®ã‚ˆã†ã«æŒ¯ã‚‹èˆã‚ã•ã›ã‚‹ã“ã¨ã‚’ç›®æŒ‡ã—ã¾ã™ã€‚ãªãœãªã‚‰ã€ã“ã®Featureãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ãƒˆãƒƒãƒ—ã«ä½ç½®ã™ã‚‹ã‚¯ãƒ©ã‚¹ãŒSubActivityãªã®ã§ã€ã“ã‚Œã‚’DaggerApplicationã®ã‚ˆã†ã«æ‰±ã†ã“ã¨ãŒã§ãã‚Œã°ã€Dagger Androidã®ä¸–ç•Œã«ä¸Šæ‰‹ãè½ã¨ã—è¾¼ã‚€ã“ã¨ãŒå‡ºæ¥ã‚‹ã¨è€ƒãˆãŸã‹ã‚‰ã§ã™ã€‚
ã§ã¯ã€å®Ÿè£…ã‚’å§‹ã‚ã¾ã™ã€‚
æœ€åˆã«ã€SubActivityã‚’DaggerApplicationã®ã‚ˆã†ã«æŒ¯ã‚‹èˆã‚ã•ã›ã‚‹ãŸã‚ã«ModuleRootActivityã‚¯ãƒ©ã‚¹ã‚’å®šç¾©ã—ã¾ã™ã€‚ ãã‚Œã«åˆã‚ã›ã¦ã€ã„ãã¤ã‹ã®ä»˜éšã—ãŸã‚¯ãƒ©ã‚¹ã‚‚å®šç¾©ã—ã¦ãŠãã¾ã™ã€‚ã“ã‚ŒãŒbaseã‚¯ãƒ©ã‚¹ç¾¤ã«ãªã‚Šã¾ã™ã€‚
abstract class ModuleRootActivity : AppCompatActivity(), HasModuleInjector { @Inject lateinit var fragmentInjector: DispatchingAndroidInjector&amp;lt;Fragment&amp;gt; private lateinit var injector: ModuleActivityInjector override fun onCreate(savedInstanceState: Bundle?) { injector = moduleComponent.</description>
    </item>
    
    <item>
      <title>dexdumpãƒ¡ãƒ¢</title>
      <link>https://satoshun.github.io/2019/01/reading_dexdump_result/</link>
      <pubDate>Sat, 05 Jan 2019 02:15:50 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/01/reading_dexdump_result/</guid>
      <description>Android build-toolsã«ã¯dexdumpã¨ã„ã†dexãƒ•ã‚¡ã‚¤ãƒ«ã‚’é€†ã‚¢ã‚»ãƒ³ãƒ–ãƒ«ã™ã‚‹ãƒ„ãƒ¼ãƒ«ãŒã‚ã‚Šã¾ã™ã€‚ é€†ã‚¢ã‚»ãƒ³ãƒ–ãƒ«ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿ãŸã‹ã£ãŸã®ã§ãã‚Œã®ãƒ¡ãƒ¢ã§ã™ã€‚
å†…å®¹ã¯ã¾ã¨ã¾ã£ã¦ã„ã¾ã›ã‚“ã€‚è‡ªåˆ†ç”¨ã®ãƒ¡ãƒ¢ãƒ¬ãƒ™ãƒ«ã®è¨˜äº‹ã«ãªã‚Šã¾ã™ã€‚
dexãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒãƒ³ãƒ‰ã‹ã‚‰ä½œã‚‹ã«ã¯javacã¨d8ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã™ã€‚d8ã‚³ãƒãƒ³ãƒ‰ã¯ https://r8.googlesource.com/r8 ã®æ‰‹é †é€šã‚Šã«ãƒ“ãƒ«ãƒ‰ã—ã¾ã™ã€‚
javac *.java // or kotlinc *.kt java -jar $R8_HOME/build/libs/d8.jar --lib $ANDROID_HOME/platforms/android-28/android.jar --release *.class d8ã‚³ãƒãƒ³ãƒ‰ã§å‡ºæ¥ãŸdexãƒ•ã‚¡ã‚¤ãƒ«ã‚’dexdumpã§é€†ã‚¢ã‚»ãƒ³ãƒ–ãƒ«ã—ã¾ã™ã€‚
$ANDROID_HOME/build-tools/28.0.3/dexdump -d classes.dex ä¾‹ãˆã°æ¬¡ã®Javaã‚³ãƒ¼ãƒ‰ã‚’é€†ã‚¢ã‚»ãƒ³ãƒ–ãƒ«ã—ã¦ã¿ã¾ã™ã€‚
class Test { public void main() { show(1, 10.0); String[] array = {&amp;#34;&amp;#34;}; toggle(array); fade(); drag(); hide(); click(); hover(); } public String show(int a, double d) { System.out.println(a); return &amp;#34;showed&amp;#34;; } void toggle(String[] args) { System.out.println(&amp;#34;toggle&amp;#34;); } protected void fade() { System.out.println(&amp;#34;fade&amp;#34;); } final protected void drag() { System.</description>
    </item>
    
    <item>
      <title>ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®é·ç§»ã«ã¤ã„ã¦è€ƒãˆã‚‹ Part1</title>
      <link>https://satoshun.github.io/2018/12/multi-module_transition_part1/</link>
      <pubDate>Mon, 31 Dec 2018 06:19:39 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/12/multi-module_transition_part1/</guid>
      <description>Androidã®ãƒˆãƒ¬ãƒ³ãƒ‰ã®1ã¤ã«ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆãŒã‚ã‚Šã¾ã™ã€‚ ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ã‚ˆã‚‹ãƒ¡ãƒªãƒƒãƒˆã¨ã—ã¦ã€
 ãƒ“ãƒ«ãƒ‰æ™‚é–“ã®çŸ­ç¸® ä¾å­˜é–¢ä¿‚ã‚’å„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«é–‰ã˜è¾¼ã‚ã‚‹ã“ã¨ã§ã‚³ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒ¼ãƒ³ã«ä¿ã¤ã“ã¨ãŒæœŸå¾…ã§ãã‚‹  ãªã©ãŒã‚ã‚Šã¾ã™ã€‚å¤§è¦æ¨¡ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ä¸Šè¨˜ã®ãƒ¡ãƒªãƒƒãƒˆã¯å¤§ãã„ãŸã‚ã€ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ç§»è¡Œã—ã¦ã„ãã“ã¨ã«ãªã‚‹ã¨æ€ã„ã¾ã™ã€‚
ã“ã®è¨˜äº‹ã¯ã€ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ã—ãŸéš›ã®Activityé–“ã®é·ç§»ã«ã¤ã„ã¦è€ƒãˆãŸã„ã¨æ€ã„ã¾ã™ã€‚ç›®æŒ‡ã™ã‚´ãƒ¼ãƒ«ã¨ã—ã¦ã¯ã€
 å‹å®‰å…¨ã«ã—ãŸã„ã€ã‚‚ã—ãã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ãƒã‚§ãƒƒã‚¯ã™ã‚‹æ©Ÿæ§‹ãŒæ¬²ã—ã„ ã‚³ãƒ¼ãƒ‰é‡ã‚’æ¸›ã‚‰ã—ãŸã„  Part1ã§ã¯ã€é·ç§»å°‚ç”¨ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½œã‚‹æ–¹æ³•ã‚’è€ƒãˆã¦ã¿ã¾ã™ã€‚
ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰: satoshun-android-example/MultiActivityRouterExample
é·ç§»å°‚ç”¨ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½œã‚‹ ã¾ãšä¾å­˜é–¢ä¿‚ã®æ§‹ç¯‰ã®åŸå‰‡ã«ã€Circular Dependencyã€å¾ªç’°ä¾å­˜ã‚’ä½œã‚Šå‡ºã—ã¦ã¯ã„ã‘ãªã„ã¨ã„ã†ã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚
ä¾‹ãˆã°ã€ãƒ¡ã‚¤ãƒ³ç”»é¢ã¨ã‚µãƒ–ç”»é¢ã®2ç”»é¢ãŒã‚ã‚Šã€ãã‚Œã‚‰ã®ç”»é¢ã¯ç›¸äº’ã«è¡Œãæ¥ã™ã‚‹ã¨ã—ã¾ã™ã€‚ãã‚Œã‚‰ã‚’ãƒ¡ã‚¤ãƒ³ç”»é¢ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã€ã‚µãƒ–ç”»é¢ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã—ã¦åˆ‡ã‚Šå‡ºã™ã¨æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
 ãƒ¡ã‚¤ãƒ³ã§ã¯ã‚µãƒ–ç”»é¢ãŒå¿…è¦ãªã®ã§ã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ä¾å­˜ã™ã‚‹ ã‚µãƒ–ã§ã¯ãƒ¡ã‚¤ãƒ³ç”»é¢ãŒå¿…è¦ãªã®ã§ãƒ¡ã‚¤ãƒ³ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ä¾å­˜ã™ã‚‹      ã“ã‚Œã§ã¯å¾ªç’°å‚ç…§ã«ãªã‚Šã€ä¾å­˜é–¢ä¿‚ãŒå£Šã‚Œã¦ã—ã¾ã†ã®ã§é§„ç›®ã§ã™ã€‚ãã“ã§DIPã€ä¾å­˜é–¢ä¿‚é€†è»¢ã®åŸå‰‡ã‚’ç”¨ã„ã¾ã™ã€‚ ç›´æ¥Activityã‚’å‚ç…§ã—ã¦ã„ã‚‹ã®ãŒå•é¡Œãªã®ã§ã€å„ç”»é¢ã«é·ç§»ã§ãã‚‹é·ç§»ç”¨ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®šç¾©ã™ã‚‹ã“ã¨ã§è§£æ±ºã‚’ç›®æŒ‡ã—ã¾ã™ã€‚
ãã“ã§ã€
 ãƒ¡ã‚¤ãƒ³ç”»é¢ã«é·ç§»ã™ã‚‹ãƒ¡ã‚¤ãƒ³ãƒ«ãƒ¼ã‚¿ãƒ¼ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« ã‚µãƒ–ç”»é¢ã«é·ç§»ã™ã‚‹ã‚µãƒ–ãƒ«ãƒ¼ã‚¿ãƒ¼ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«  ã®2ã¤ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½œã‚Šã¾ã™ã€‚
ãƒ¡ã‚¤ãƒ³ãƒ«ãƒ¼ã‚¿ãƒ¼ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã¯æ¬¡ã®é·ç§»å°‚ç”¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®šç¾©ã—ã¾ã™ã€‚
interface MainRouter { fun routeToMain(context: Context): Intent } ãã—ã¦ã€ãƒ¡ã‚¤ãƒ³ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§å®Ÿè£…ã—ã¾ã™ã€‚ã¾ãŸã€ä»Šå›ã¯Daggerã‚’ä½¿ã£ã¦ä¾å­˜ã‚’è§£æ±ºã—ã¾ã™ã€‚
internal class MainRouterImpl @Inject constructor() : MainRouter { override fun routeToMain(context: Context): Intent { return Intent(context, MainActivity::class.java) } } --- @Module internal interface MainActivityModule { @Binds fun bindMainRouter(impl: MainRouterImpl): MainRouter } ã“ã‚Œã§ã€ä½¿ã†å´ã§ã‚ã‚‹ã‚µãƒ–ç”»é¢ã¯ã€ãƒ¡ã‚¤ãƒ³ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ä¾å­˜ã™ã‚‹ã®ã§ã¯ãªãã€ãƒ¡ã‚¤ãƒ³ãƒ«ãƒ¼ã‚¿ãƒ¼ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ä¾å­˜ã—é·ç§»ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>Coroutine &#43; AutoDisposeã‚’ä½œã£ã¦ã¿ãŸ</title>
      <link>https://satoshun.github.io/2018/12/coroutine_autodispose/</link>
      <pubDate>Sun, 23 Dec 2018 09:14:43 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/12/coroutine_autodispose/</guid>
      <description>Coroutine + AutoDisposeã®å®Ÿè£…ã«ã¤ã„ã¦è€ƒãˆã¦ã¿ã¾ã—ãŸã€‚çµè«–ã‹ã‚‰è¨€ã†ã¨ã€ContinuationInterceptorã‚’ä½¿ãˆã°ä¸Šæ‰‹ãã„ããã†ã§ã™ã€‚
ContinuationInterceptorã¨ã¯? ContinuationInterceptorã¯æ¬¡ã®ã‚ˆã†ãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§ã™ã€‚
/** * Marks coroutine context element that intercepts coroutine continuations. * The coroutines framework uses [ContinuationInterceptor.Key] to retrieve the interceptor and * intercepts all coroutine continuations with [interceptContinuation] invocations. */ @SinceKotlin(&amp;#34;1.3&amp;#34;) public interface ContinuationInterceptor : CoroutineContext.Element { public fun &amp;lt;T&amp;gt; interceptContinuation(continuation: Continuation&amp;lt;T&amp;gt;): Continuation&amp;lt;T&amp;gt; public fun releaseInterceptedContinuation(continuation: Continuation&amp;lt;*&amp;gt;) ... } interceptContinuationã‹ã‚‰Continuationã‚’å—ã‘å–ã‚‹ã“ã¨ãŒã§ãã€Continuationã¯è‡ªèº«ã®CoroutineContextã‚’æŒã£ã¦ã„ã‚‹ã®ã§ã€ãã“ã‹ã‚‰Jobã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚ãã‚Œã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§Android Lifecycleã¨å”èª¿ã—ã¦å‹•ãContinuationInterceptorã‚’å®Ÿè£…ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
class LifecycleContinuationInterceptor( private val lifecycle: Lifecycle ) : ContinuationInterceptor { override val key: CoroutineContext.Key&amp;lt;*&amp;gt; get() = ContinuationInterceptor override fun &amp;lt;T&amp;gt; interceptContinuation(continuation: Continuation&amp;lt;T&amp;gt;): Continuation&amp;lt;T&amp;gt; { // Continuationã‹ã‚‰Jobã‚’å–å¾—  val job = continuation.</description>
    </item>
    
    <item>
      <title>Fragmentã¨getViewLifecycleã®è©±</title>
      <link>https://satoshun.github.io/2018/12/view_lifecycle/</link>
      <pubDate>Fri, 21 Dec 2018 07:08:34 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/12/view_lifecycle/</guid>
      <description>ã“ã®è¨˜äº‹ã§ã¯Fragmentã§LiveDataã«Observerã‚’ç™»éŒ²ã™ã‚‹ã¨ãã¯Fragment#getViewLifecycleã‚’ä½¿ã†ã¨è‰¯ã„ã¨ã„ã†è©±ã‚’ã—ã¾ã™ã€‚
ã¾ãšã€Fragmentã®ãŠãŠã¾ã‹ãªãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã¯æ¬¡ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚
 onAttach onCreate  onCreateView onViewCreated  &amp;hellip;   onDestoryView   onDestroy onDetach  ã“ã“ã§é‡è¦ãªã®ã¯ã€onDestroyãŒå‘¼ã°ã‚Œã‚‹ã“ã¨ãªãã€è¤‡æ•°å›onCreateViewãŒå‘¼ã°ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ç‚¹ã§ã™ã€‚
ä¾‹ãˆã°ã€æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã¯é–“é•ã£ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
class MainFragment: Fragment() { ... override fun onViewCreated(view: View, savedInstanceState: Bundle?) { super.onViewCreated(view, savedInstanceState) viewModel.data.observe(this, Observer { ... }) } } ãªãœãªã‚‰ã€LiveDataã«æ¸¡ã—ãŸthisï¼ˆLifecycleOwnerï¼‰ã¯ã€è‡ªèº«ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã«é§†å‹•ã™ã‚‹ãŸã‚ã§ã™ã€‚ ã“ã®ObserverãŒé–‹æ”¾ã•ã‚Œã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¯ã€Fragment#onDestroyãŒã‚³ãƒ¼ãƒ«ã•ã‚ŒãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã«ãªã‚Šã¾ã™ã€‚ ã—ã‹ã—å‰è¿°ã—ãŸã¨ãŠã‚Šã€Fragment#onDestroyãŒã‚³ãƒ¼ãƒ«ã•ã‚Œãšã«ã€è¤‡æ•°å›onCreateViewãŒã‚³ãƒ¼ãƒ«ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚ã€å‰ã®ObserverãŒé–‹æ”¾ã•ã‚Œãšã«æ®‹ã£ã¦ã—ã¾ã„ã¾ã™ã€‚
å‰è¿°ã®ã‚³ãƒ¼ãƒ‰ã®Observerã¯Fragmentæœ¬ä½“ã®Lifecycleã«é§†å‹•ã•ã‚Œã‚‹ã®ã§ã¯ãªãã€Fragmentã®Viewã«é§†å‹•ã™ã‚‹ãŸã‚ã€ã“ã®å•é¡ŒãŒèµ·ã“ã‚Šã¾ã™ã€‚ ã‚ˆã£ã¦ã€Fragmentã«ã¯Viewç”¨ã®LifecycleãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚ãã‚ŒãŒã€Fragment#getViewLifecycleã§ã™ã€‚
å‰è¿°ã®ã‚³ãƒ¼ãƒ‰ã¯æ¬¡ã®ã‚ˆã†ã«æ›¸ãã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
class MainFragment: Fragment() { ... override fun onViewCreated(view: View, savedInstanceState: Bundle?) { super.onViewCreated(view, savedInstanceState) // Viewã®LifecycleOwnerã‚’æ¸¡ã™  viewModel.data.observe(viewLifecycleOwner, Observer { ... }) } } ã“ã®ã‚ˆã†ã«æ›¸ãã“ã¨ã§ã€ObserverãŒViewã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã«é§†å‹•ã™ã‚‹ãŸã‚ã€è¤‡æ•°ã®ObserverãŒç™»éŒ²ã•ã‚Œã‚‹å•é¡Œã‚’å›é¿ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ï¼ï¼</description>
    </item>
    
    <item>
      <title>Dagger &#43; ViewModelã®åŸºæœ¬ç·¨ &#43; å®Ÿä¾‹ç·¨</title>
      <link>https://satoshun.github.io/2018/12/dagger_with_viewmodel/</link>
      <pubDate>Wed, 19 Dec 2018 09:59:20 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/12/dagger_with_viewmodel/</guid>
      <description>ã“ã®è¨˜äº‹ã¯Daggerã¨Jetpackã®ViewModelã‚’ã‚ã‚‹ç¨‹åº¦çŸ¥ã£ã¦ã„ã‚‹å‰æã§é€²ã‚“ã§ã„ãã¾ã™ğŸ˜ƒ
åŸºæœ¬ç·¨ ä¸€ç·’ã«Dagger + ViewModelã‚’ä½¿ã†ã®ã¯ãƒ„ãƒ©ãƒŸãŒã‚ã‚Šã¾ã™ã€‚ãã‚Œã¯ã€ViewModelã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã¯ViewModelProviderã‚’ä»‹ã—ã¦è¡Œã†å¿…è¦ãŒã‚ã‚‹ãŸã‚ã§ã™ã€‚
ä¾‹ãˆã°ã€æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã¯é–“é•ã£ã¦ã„ã¾ã™ã€‚
class MainViewModel @Inject constructor(...): ViewModel() class MainActivity { @Inject lateinit var viewModel: MainViewModel ... } ã“ã®æ›¸ãæ–¹ã ã¨MainViewModelã¯Daggerå†…ã§è‡ªå‹•çš„ã«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã•ã‚Œã¦ã—ã¾ã†ã®ã§ã€ViewModelProviderã‚’ä»‹ã—ã¦ãã‚Œã¾ã›ã‚“ã€‚ã‚ˆã£ã¦æ¬¡ã®ã‚ˆã†ã«æ›¸ãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
class MainViewModel(...): ViewModel() @Module class MainActivityModule { @Provides fun provideMainViewModel(...) : MainViewModel { // ViewModelProviderã‚’ä½¿ã£ã¦ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã™ã‚‹  return ViewModelProviders.of(...).get(MainViewModel::class.java) } } class MainActivity { @Inject lateinit var viewModel: MainViewModel ... } @Providesã‚’ä½¿ã„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã®æ–¹æ³•ã‚’æ˜ç¤ºçš„ã«è¨˜è¿°ã—ã¾ã™ã€‚ã“ã‚Œã§ã€ViewModelProviderã‚’ä»‹ã—ã¦MainViewModelã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã‚’ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
ã¾ãŸã€ViewModelã‚’ç›´æ¥æ³¨å…¥ã›ãšã«ã€ViewModelProvider.Factoryã‚’æ³¨å…¥ã—ã€ViewModelã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã¯Activityï¼ˆor Fragmentï¼‰ã«ä»»ã›ã‚‹æ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚ ã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ã¨ãã¯ã€activity-ktxï¼ˆor fragment-ktxï¼‰ã«è¿½åŠ ã•ã‚ŒãŸæ‹¡å¼µé–¢æ•°ã¨çµ„ã¿åˆã‚ã›ã‚‹ã¨ã„ã„æ„Ÿã˜ã«æ›¸ã‘ã¾ã™ã€‚
class MainViewModel(...): ViewModel() or class MainViewModel @Inject constructor(...): ViewModel() @Module class MainActivityModule { @Provides fun provideViewModelFactory(.</description>
    </item>
    
    <item>
      <title>Gradleã®Matching repositories to dependenciesã‚’ä½¿ã£ã¦ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å…ˆã‚’æŒ‡å®šã™ã‚‹</title>
      <link>https://satoshun.github.io/2018/12/gradle_deps_match/</link>
      <pubDate>Thu, 13 Dec 2018 11:16:06 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/12/gradle_deps_match/</guid>
      <description>JitPackã‹ã‚‰ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã‹ã£ãŸã¨ã“ã‚ã€JCenterã‹ã‚‰ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã—ã¾ã†äº‹ä»¶ãŒã‚ã‚Šã¾ã—ãŸã€‚ è©³ã—ãã¯æ¬¡ã®ãƒªãƒ³ã‚¯ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚A Confusing Dependency
å¾“æ¥ã®Gradle4ç³»ã§ã¯ãŠãã‚‰ãã€ä¸Šè¨˜ã®å•é¡Œã‚’è§£æ±ºã™ã‚‹ã“ã¨ã¯å‡ºæ¥ãªã„ã€ã‚‚ã—ãã¯éå¸¸ã«å›°é›£ã§ã—ãŸã€‚ã—ã‹ã—æ–°ã—ãGradle5.1ã« Matching repositories to dependencies ãŒå°å…¥ã•ã‚Œã€ä¸Šè¨˜ã®å•é¡Œã‚’è§£æ±ºã§ãã¾ã™ã€‚ï¼ˆGradle5.1ã¯ã¾ã rcã§ã™ï¼‰
ã¾ãšæœ€åˆã«å¾“æ¥ã®æ›¸ãæ–¹ã‚’èª¬æ˜ã—ã¦ã€æ¬¡ã«æ–°æ©Ÿèƒ½ã‚’ä½¿ã£ãŸæ›¸ãæ–¹ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚ä»Šå›ã¯ä¾‹ã¨ã—ã¦ã€cloudflareã®SDKã‚’ä¾å­˜é–¢ä¿‚ã«å…¥ã‚Œã‚‹ã“ã¨ã‚’ç›®æŒ‡ã—ã¾ã™ã€‚ ã¾ãŸã€ä»Šå›ã®æ¤œè¨¼ã«ã¯Gradle 5.1-rc-1ã‚’ä½¿ã„ã¾ã—ãŸã€‚ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ã“ã“ã«ã‚ã‚Šã¾ã™
ã¾ãšã¯å¾“æ¥ã®æ›¸ãæ–¹ã§ã™ã€‚
// topã®build.gradle allprojects { repositories { ... maven { url &amp;#34;https://storage.googleapis.com/cloudflare-maven/public/&amp;#34; } } } --- // projectã®build.gradle dependencies { ... implementation &amp;#34;com.cloudflare:cloudflare-mobile-sdk:2.1.0@aar&amp;#34; } ã“ã‚Œã ã¨å…¨ã¦ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«å¯¾ã—ã¦ã€repositoriesã§æŒ‡å®šã—ãŸhttps://storage.googleapis.com/cloudflare-maven/public/ã¸ãƒã‚§ãƒƒã‚¯ã‚’ã—ã«ã„ãã¾ã™ã€‚ã“ã®Urlã¯cloudflareã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã—ã‹ä½¿ã‚ã‚Œãªã„ã“ã¨ãŒæƒ³å®šã•ã‚Œã‚‹ã®ã§ã€ä»–ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«å¯¾ã—ã¦ã¯ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰åˆ¶é™ã‚’ã‹ã‘ãŸã„ã¨ã“ã‚ã§ã™ã€‚
æ¬¡ã«æ–°æ©Ÿèƒ½ã‚’ä½¿ã£ãŸæ›¸ãæ–¹ã§ã™ã€‚
// topã®build.gradle allprojects { repositories { ... maven { url &amp;#34;https://storage.googleapis.com/cloudflare-maven/public/&amp;#34; content { // group idãŒcom.cloudflareã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã ã‘ã“ã®URLãŒæœ‰åŠ¹ã«ãªã‚‹  includeGroup &amp;#34;com.cloudflare&amp;#34; } } } } --- // projectã®build.gradleã¯ä¸€ç·’ dependencies { ... implementation &amp;#34;com.cloudflare:cloudflare-mobile-sdk:2.1.0@aar&amp;#34; } æ–°ã—ãcontentãƒ–ãƒ­ãƒƒã‚¯ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚ã“ã“ã§ã€ã“ã®URLãŒã©ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§æœ‰åŠ¹ã«ãªã£ã¦æ¬²ã—ã„ã‹ã‚’è¨˜è¿°ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚ä»Šå›ã®URLã¯com.</description>
    </item>
    
    <item>
      <title>Truthã®ãƒ¡ãƒªãƒƒãƒˆã€ç‰¹å¾´ã«ã¤ã„ã¦</title>
      <link>https://satoshun.github.io/2018/12/truth_getting_started/</link>
      <pubDate>Wed, 12 Dec 2018 00:21:12 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/12/truth_getting_started/</guid>
      <description>Truthã¯GoogleãŒé–‹ç™ºã‚’ã—ã¦ã„ã‚‹ãƒ†ã‚¹ãƒˆã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚
å¾“æ¥ã®JUnitã‚¹ã‚¿ã‚¤ãƒ«ã®ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ã«æ¯”ã¹ã€å¤§ãã2ã¤ã®åˆ©ç‚¹ãŒã‚ã‚Šã¾ã™ã€‚
 readableã«ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãŒæ›¸ã‘ã‚‹ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®å¤±æ•—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒã‚ã‹ã‚Šã‚„ã™ã„  ãã‚Œãã‚Œã«ã¤ã„ã¦èª¬æ˜ã—ã¦ã„ãã¾ã™ã€‚
readableã«ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãŒæ›¸ã‘ã‚‹ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®benefitã«ã‚ã‚‹ã‚µãƒ³ãƒ—ãƒ«ã‚’å–ã‚Šä¸Šã’èª¬æ˜ã—ã¾ã™ã€‚ http://google.github.io/truth/benefits
ã¾ãšå¾“æ¥ã®JUnitã‚¹ã‚¿ã‚¤ãƒ«ã‚’ä½¿ã£ã¦æ›¸ãã¾ã™ã€‚
Optional&amp;lt;String&amp;gt; middleName = user.getMiddleName(); assertFalse(middleName.isPresent()); assertFalseã€isPresentã‚’ä½¿ã£ã¦ãŠã‚Šã€å¦å®šã®ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãªã®ã§ç›´æ„Ÿçš„ã§ãªãç†è§£ã™ã‚‹ã®ã«å°‘ã—æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™ã€‚ï¼ˆå€‹äººå·®ã¯ã‚ã‚Šã¾ã™ï¼‰
ã“ã‚ŒãŒTruthã‚’ä½¿ã†ã¨æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
Optional&amp;lt;String&amp;gt; middleName = user.getMiddleName(); assertThat(middleName).isAbsent(); assertThatã¯Truthã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã§ã™ã€‚middleNameãŒabsentã€å€¤ãŒå­˜åœ¨ã—ãªã„ã“ã¨ã‚’ãƒ†ã‚¹ãƒˆã—ã¦ã„ã‚‹ã“ã¨ãŒã€JUnitã‚¹ã‚¿ã‚¤ãƒ«ã‚ˆã‚Šå¼·ãä¼ã‚ã‚Šã¾ã™ã€‚
ä¸Šè¨˜ã®isAbsentã¯Optionalã®ãŸã‚ã«ç”¨æ„ã•ã‚ŒãŸã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ã‚½ãƒƒãƒ‰ã§ã™ã€‚assertThatã«æ¸¡ã—ãŸå¼•æ•°ã«é©ã—ãŸã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ã†ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚ ä¾‹ãˆã°Iterableã«ã¯ã€containsAnyInã‚„isEmptyãªã©ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚å‹ã”ã¨ã«ä¸€èˆ¬çš„ãªãƒ†ã‚¹ãƒˆã§è¡Œã†ã§ã‚ã‚ã†ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãŒç”¨æ„ã•ã‚Œã¦ãŠã‚Šã€readableã«conciseã«æ›¸ãã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
å¤±æ•—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒã‚ã‹ã‚Šã‚„ã™ã„ ã“ã¡ã‚‰ã‚‚benefitã«ã‚ã‚‹ã‚µãƒ³ãƒ—ãƒ«ã‚’å–ã‚Šä¸Šã’ã¾ã™ã€‚
ã¾ãšã¯å¾“æ¥ã«JUnitã‚¹ã‚¿ã‚¤ãƒ«ã‹ã‚‰ã€‚
assertTrue(googleColors.contains(PINK)); ã“ã®å ´åˆã€å¤±æ•—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯ç‰¹ã«ã‚ã‚Šã¾ã›ã‚“ã€‚ã€Œtrueã‚’è¡¨æ˜ã—ã¦ã‚‹éƒ¨åˆ†ã«falseãŒæ¥ãŸã€ç¨‹åº¦ã®ã‚‚ã®ã—ã‹ãªãã€åŸå› ç‰¹å®šã™ã‚‹ã®ãŒå¤§å¤‰ã§ã™ã€‚ å¤±æ•—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚«ã‚¹ã‚¿ãƒ ã™ã‚‹ã“ã¨ã¯å‡ºæ¥ã¾ã™ãŒã€ã™ã¹ã¦ã®ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ã«å¯¾ã—ã¦å®šç¾©ã™ã‚‹ã®ã¯éª¨ãŒæŠ˜ã‚Œã¾ã™ã€‚
æ¬¡ã«Truthã‚¹ã‚¿ã‚¤ãƒ«ã§ã™ã€‚
assertThat(googleColors).contains(PINK); &amp;lt;[BLUE, RED, YELLOW, BLUE, GREEN, RED]&amp;gt; should have contained &amp;lt;PINK&amp;gt; ã®ã‚ˆã†ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå‡ºã¾ã™ã€‚ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹æƒ…å ±ã‚„ã€ã“ã†ãªã‚‹ã¹ãã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå«ã¾ã‚Œã¦ãŠã‚ŠåŸå› ç‰¹å®šãŒã—ã‚„ã™ããªã£ã¦ã„ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®æ®µéšã§ã‹ãªã‚Šè¦‹ã‚„ã™ã„ã€ã‚ã‹ã‚Šã‚„ã™ã„å¤±æ•—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‡ºåŠ›ã—ã¦ãã‚Œã¾ã™ã€‚
ä»¥ä¸ŠãŒTruthã®ãƒ¡ãƒªãƒƒãƒˆã«ãªã‚Šã¾ã™ã€‚
è£œè¶³ Truth-Androidãƒ©ã‚¤ãƒ–ãƒ©ãƒª JetPackã«Truth + Androidç”¨ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚ã“ã‚Œã‚’ä½¿ã†ã“ã¨ã§Bundleã€Intentãªã©ã®Androidå›ºæœ‰ã®ã‚¯ãƒ©ã‚¹ã®ãƒ†ã‚¹ãƒˆãŒæ›¸ãã‚„ã™ããªã‚Šã¾ã™ã€‚ ä¾‹ãˆã°ã€Intentã«ã¯ä»¥ä¸‹ã®ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
hasComponent hasComponentClass hasComponentPackage hasPackage hasAction hasNoAction hasData hasType extras categories hasFlags Intentã®ä¸­èº«ã‚’ç¢ºèªã™ã‚‹ä¾¿åˆ©ãƒ¡ã‚½ãƒƒãƒ‰ãŒå®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚Truth-Androidã‚’ä½¿ã†ã“ã¨ã§ã€ã‚ˆã‚ŠAndroidç’°å¢ƒã§ãƒ†ã‚¹ãƒˆãŒæ›¸ãã‚„ã™ããªã‚‹ã“ã¨ãŒæœŸå¾…å‡ºæ¥ã¾ã™ã€‚
AssertJã¨ã®æ¯”è¼ƒ ã“ã‚Œã‚‚å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã¾ã¨ã‚ã¦ã‚ã‚Šã¾ã™ã€‚http://google.github.io/truth/comparison
ç¾çŠ¶ã®ä¸»ã ã£ãŸå·®åˆ†ã¯æ¬¡ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚
 Truhtã¯ã¾ã 1.0.0ã«ãªã£ã¦ã„ãªã„ã®ã§APIãŒå¤‰ã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ Truthã¯Chainã‚¹ã‚¿ã‚¤ãƒ«ã§æ›¸ãã“ã¨ã‚’æƒ³å®šã—ã¦ã„ãªã„  ã“ã‚Œã¯ç¾çŠ¶ã®Truthå“²å­¦ã ãŒã€AssertJã®ã‚ˆã†ãªChainã‚¹ã‚¿ã‚¤ãƒ«ã‚‚æ™®åŠã—ã¦ããŸã®ã§ã€ã©ã¡ã‚‰ãŒä¾¿åˆ©ã‹ã¯ã‚ã‹ã‚‰ãªã„    å¤šå°‘ã®å·®ç•°ã¯ã‚ã‚Œã©ã€AssertJã¨Truthã¯ã¨ã¦ã‚‚ä¼¼ã¦ã„ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚ã©ã¡ã‚‰ã‹ä¸€æ–¹ã‚’ä½¿ã£ã¦ã„ã‚‹ãªã‚‰ã€ä¹—ã‚Šæ›ãˆã‚‹ãƒ¡ãƒªãƒƒãƒˆã¯ãŠãã‚‰ããªã„ã ã‚ã†ã¨ã„ã†æ—¨ã®å†…å®¹ã§ã™ã€‚</description>
    </item>
    
    <item>
      <title>Kotlin: Resultã®ç°¡å˜ãªã¾ã¨ã‚</title>
      <link>https://satoshun.github.io/2018/12/result/</link>
      <pubDate>Tue, 11 Dec 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/12/result/</guid>
      <description>Result KEEP
ResultãŒ1.3ã‹ã‚‰stdlibã«å…¥ã£ãŸã®ã§ç´¹ä»‹ã‚’ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚
Resultã¯Success T | Failure Throwableã®2çŠ¶æ…‹ã®ã„ãšã‚Œã‹ã‚’è¡¨ç¾å‡ºæ¥ã¾ã™ã€‚æˆåŠŸçŠ¶æ…‹ã®ã¨ãã¯Successã‚’ã€å¤±æ•—çŠ¶æ…‹ã®ã¨ãã¯Failureã‚’å†…åŒ…ã—ã¾ã™ã€‚
åŸºæœ¬çš„ãªä½¿ã„æ–¹ ä½¿ã„æ–¹ã‚’è¦‹ã¦ã„ãã¾ã™ã€‚ã¾ãšã€Resultã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ç”Ÿæˆã¯ã€successã€failureãƒ¡ã‚½ãƒƒãƒ‰ã‚’é€šã—ã¦è¡Œã„ã¾ã™ã€‚
val i: Result&amp;lt;Int&amp;gt; = Result.success(10) val t: Result&amp;lt;Int&amp;gt; = Result.failure(IOException()) ã¾ãŸã€runCatchingé–¢æ•°ã‚’ä½¿ã†ã“ã¨ã§ã€failã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã‚’Resultå‹ã«ä¸¸ã‚ã‚‹ã“ã¨ã‚‚å‡ºæ¥ã¾ã™ã€‚runCathinngã®ã»ã†ãŒã‚ˆãä½¿ã†ã¨æ€ã„ã¾ã™ã€‚
val a = runCatching { doSomeThing() } Resultã«å¯¾ã™ã‚‹æ“ä½œã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚
// successã«å¯¾ã—ã¦æ“ä½œ val i = Result.success(10) i.getOrNull() // 10 i.isSuccess // true i.exceptionOrNull() // null i.map { 10 * 10 }.getOrNull() // 100 i.onSuccess { println(&amp;#34;success&amp;#34;) }.onFailure { println(&amp;#34;failure&amp;#34;) } i.recover { 1111 }.getOrNull() // 10  // failureã«å¯¾ã—ã¦æ“ä½œ val t = Result.</description>
    </item>
    
    <item>
      <title>Android: namespacedRClassãƒ•ãƒ©ã‚°ã§Rã‚¯ãƒ©ã‚¹ã‚’å°ã•ãä¿ã¤</title>
      <link>https://satoshun.github.io/2018/12/namespacedrclass/</link>
      <pubDate>Sun, 09 Dec 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/12/namespacedrclass/</guid>
      <description>Android Gradle Pluginï¼ˆä»¥ä¸‹AGPï¼‰3.3ã®alphaã®ã©ã“ã‹ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§namespacedRClassãƒ•ãƒ©ã‚°ãŒæ–°ã—ãè¿½åŠ ã•ã‚ŒãŸã®ã§ç´¹ä»‹ã—ã¾ã™ã€‚ æœ¬è¨˜äº‹ã§ã¯3.4.0-alpha07ã§è©¦ã—ã¾ã—ãŸã€‚
ã¾ãšç¾çŠ¶ã®å•é¡Œç‚¹ã¨ã—ã¦ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®Rã‚¯ãƒ©ã‚¹ã®ã‚µã‚¤ã‚ºãŒå¤§ãããªã‚‹èª²é¡ŒãŒã‚ã‚Šã¾ã™ã€‚ãã‚Œã¯ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®Rã‚¯ãƒ©ã‚¹ã¯ä¾å­˜é–¢ä¿‚ã«ã‚ã‚‹Rã‚¯ãƒ©ã‚¹ãŒã©ã‚“ã©ã‚“ãƒãƒ¼ã‚¸ã•ã‚Œã¦ã„ããŸã‚ã§ã™ã€‚ ãã‚Œã‚’è§£æ±ºã™ã‚‹ãŸã‚ã«namespacedRClassãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚ä½¿ã„æ–¹ã¯ç°¡å˜ã§ã€æ¬¡ã®è¨˜è¿°ã‚’gradle.propertiesã«è¿½åŠ ã™ã‚‹ã ã‘ã§ã™ã€‚
android.namespacedRClass=true ã§ã¯ã€ã“ã‚Œã‹ã‚‰ã“ã®ãƒ•ãƒ©ã‚°ãŒtrueã¨falseã§ã©ã®ã‚ˆã†ã«Rã‚¯ãƒ©ã‚¹ã®å†…å®¹ãŒå¤‰ã‚ã‚‹ã‹è¦‹ã¦ã„ãã¾ã™ã€‚ ä¾‹ã¨ã—ã¦ã€appcompatã«ä¾å­˜ã—ã¦ã„ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ç”¨æ„ã—ã¾ã™ã€‚
ã¾ãšã¯ã€namespacedRClass=falseã®æ™‚ã®Rã‚¯ãƒ©ã‚¹ã§ã™ã€‚
public final class R { private R() {} public static final class anim { private anim() {} public static final int abc_fade_in = 0x7f010000; public static final int abc_fade_out = 0x7f010001; public static final int abc_grow_fade_in_from_bottom = 0x7f010002; public static final int abc_popup_enter = 0x7f010003; ... ... ä¾å­˜é–¢ä¿‚ã«ã‚ã‚‹appcompatã®Rã‚¯ãƒ©ã‚¹ã®å†…å®¹ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚
ã§ã¯æ¬¡ã«ã€namespacedRClass=trueã®æ™‚ã§ã™ã€‚
public final class R { private R() {} public static final class color { private color() {} public static final int red3 = 0x7f04004b; } public static final class id { private id() {} public static final int title = 0x7f0700b1; } public static final class layout { private layout() {} public static final int base3 = 0x7f09001d; } public static final class string { private string() {} public static final int base_string3 = 0x7f0b002a; } } ã“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§å®šç¾©ã—ãŸãƒªã‚½ãƒ¼ã‚¹ã®å†…å®¹ã—ã‹å«ã¾ã‚Œã¦ã„ãªã„ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚appcompatã®Rã‚¯ãƒ©ã‚¹ã¯å«ã¾ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®Rã‚¯ãƒ©ã‚¹ã®ã‚µã‚¤ã‚ºãŒã‹ãªã‚Šå°ã•ãã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã—ãŸ!</description>
    </item>
    
    <item>
      <title>Gradle: Dagger2ã§apiã¨implementationã©ã¡ã‚‰ã‚’ä½¿ã†ã‹è­°è«–ã•ã‚Œã¦ã„ã‚‹</title>
      <link>https://satoshun.github.io/2018/12/gradle-api_vs_implementation/</link>
      <pubDate>Sat, 08 Dec 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/12/gradle-api_vs_implementation/</guid>
      <description>æ³¨æ„ ã“ã®è¨˜äº‹ã¯apiã¨implementationã®èª¬æ˜ã‚’ã™ã‚‹é¡ã®è¨˜äº‹ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
Gradleã§compileãŒDeprecatedã«ãªã‚Šã€implementationã¾ãŸã¯apiã‚’ä½¿ã†ã“ã¨ãŒæ¨å¥¨ã•ã‚Œã¦ã„ã¾ã™ã€‚ ãã‚Œã«åˆã‚ã›ã¦å¤šãã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®READMEã®compileãŒimplementationã¾ãŸã¯apiã«ç½®ãæ›ã‚ã‚Šã¾ã—ãŸã€‚
Dagger2ã§ã‚‚compileã‚’implementationã«ç½®ãæ›ãˆã‚‹PRãŒå‡ºã•ã‚Œã¾ã—ãŸã€‚https://github.com/google/dagger/pull/1130
å†…å®¹ãŒèˆˆå‘³æ·±ã‹ã£ãŸã®ã§ã¾ã¨ã‚ã¦ã¿ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚
ã¾ãšæœ€åˆã®PRã¯æ¬¡ã®å·®åˆ†ã«ãªã£ã¦ã„ã¾ã—ãŸã€‚compileã‚’implementationã«ç½®ãæ›ãˆã¦ã„ã¾ã™ã€‚
// Add Dagger dependencies dependencies { - compile &#39;com.google.dagger:dagger:2.x&#39; + implementation &#39;com.google.dagger:dagger:2.x&#39; annotationProcessor &#39;com.google.dagger:dagger-compiler:2.x&#39; } - compile &#39;com.google.dagger:dagger-android:2.x&#39; - compile &#39;com.google.dagger:dagger-android-support:2.x&#39; // if you use the support libraries + implementation &#39;com.google.dagger:dagger-android:2.x&#39; + implementation &#39;com.google.dagger:dagger-android-support:2.x&#39; // if you use the support libraries ã“ã“ã§jakeã•ã‚“ãŒ
 I think this one is somewhat debatable, but you&amp;rsquo;re likely to mark it as implementation in every module that contains the compiler so it&amp;rsquo;s probably a non-problem.</description>
    </item>
    
    <item>
      <title>Data Bindingã®ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ãŒ3.4.0-alpha07ã‹ã‚‰è¦‹ã‚„ã™ããªã‚‹</title>
      <link>https://satoshun.github.io/2018/12/databinding_decrease_error_log/</link>
      <pubDate>Fri, 07 Dec 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/12/databinding_decrease_error_log/</guid>
      <description>Data Bindingã¨Dagger2ãªã©ã®ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ç³»ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’çµ„ã‚ã›ã¦ä½¿ã†ã¨ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ãŒè†¨å¤§ã«ãªã‚‹å•é¡ŒãŒã‚ã‚Šã¾ã™ã€‚
ãã‚ŒãŒ3.4.0-alpha07ä»¥é™ã§æ”¹å–„ã•ã‚Œã‚‹è¦‹è¾¼ã¿ã§ã™ğŸ‰
è©³ç´°ã¯ã“ã“ã«ã‚ã‚Šã¾ã™ã€‚https://issuetracker.google.com/issues/116541301
ã“ã®è¨˜äº‹ã§ã¯ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’ãƒ™ãƒ¼ã‚¹ã«ã€ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã®å¤‰åŒ–ãŒã©ã®ã‚ˆã†ã«å¤‰ã‚ã£ãŸã‹ã‚’ç´¹ä»‹ã—ã€å®Ÿéš›ã«ã‚¢ãƒ—ãƒªå´ã®ã‚³ãƒ¼ãƒ‰ã‚’ã©ã®ã‚ˆã†ã«å¤‰æ›´ã™ã‚‹ã‹ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚
ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ã“ã“ã«ã‚ã‚Šã¾ã™ğŸ˜ƒ
ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã®å¤‰åŒ– ã¾ãšã©ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã‚‹ã‹ã‚’è¦‹ã¦ã„ãã¾ã™ã€‚ é©å½“ã«ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã—ã€Daggerå‘¨ã‚Šã®ã‚³ãƒ¼ãƒ‰ã§ã‚¨ãƒ©ãƒ¼ã‚’å‡ºã—ã¦ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚
ã¾ãšã¯Data Binding 3.2.1ã‹ã‚‰ã€‚
&amp;gt; Task :app:kaptGenerateStubsDebugKotlin e: /Users/stsn/git/github.com/satoshun-android-example/DataBindingApiDeprecateExample/app/build/generated/data_binding_base_class_source_out/debug/dataBindingGenBaseClassesDebug/out/com/github/satoshun/example/sample/databinding/MainAct79Binding.java:17: error: cannot find symbol protected MainAct79Binding(DataBindingComponent _bindingComponent, View _root, ^ symbol: class DataBindingComponent location: class MainAct79Binding e: /Users/stsn/git/github.com/satoshun-android-example/DataBindingApiDeprecateExample/app/build/generated/data_binding_base_class_source_out/debug/dataBindingGenBaseClassesDebug/out/com/github/satoshun/example/sample/databinding/MainAct79Binding.java:31: error: cannot find symbol boolean attachToRoot, @Nullable DataBindingComponent component) { ^ ... ... ... Data Bindingå‘¨ã‚Šã®ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ãŒç„¡é™ã«å‡ºã¾ã™ã€‚æ‚²ã—ã„ğŸ˜‚
æ¬¡ã«3.4.0-alpha07ã§ã™ã€‚
&amp;gt; Task :app:kaptGenerateStubsDebugKotlin e: /Users/stsn/git/github.com/satoshun-android-example/DataBindingApiDeprecateExample/app/build/tmp/kapt3/stubs/debug/com/github/satoshun/example/sample/MainActivityBuilder.java:6: error: incompatible types: NonExistentClass cannot be converted to Annotation @error.NonExistentClass() ã¡ã‚ƒã‚“ã¨å•é¡ŒãŒã‚ã‚‹ã‚³ãƒ¼ãƒ‰ç®‡æ‰€ã®ã¿ã§ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ãŒå‡ºã¾ã—ãŸï¼ï¼Data Bindingå‘¨ã‚Šã®ã‚¨ãƒ©ãƒ¼ã¯å‡ºã¦ã„ã¾ã›ã‚“ï¼ï¼å¬‰ã—ã„ğŸ˜ƒ
ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®å¯¾å¿œ ã“ã‚Œã«ä¼´ã„ã€ä¸€éƒ¨APIãŒdeprecatedã«ãªã‚Šã¾ã™ã€‚ä¾‹ãˆã°ã€main_act.</description>
    </item>
    
    <item>
      <title>Kotlin Coroutineã‚’å°å…¥ã—ãŸã‚‰ã©ã‚Œã ã‘ãƒ“ãƒ«ãƒ‰ã‚¿ã‚¤ãƒ ãŒå¢—ãˆãã†ã‹æ¤œè¨¼ã—ãŸ</title>
      <link>https://satoshun.github.io/2018/12/coroutine_build_perf/</link>
      <pubDate>Wed, 05 Dec 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/12/coroutine_build_perf/</guid>
      <description>æ³¨æ„: è¨ˆæ¸¬æ–¹æ³•ã¯å®Ÿç’°å¢ƒã«å…¨ãå³ã—ã¦ã„ãªã„ã®ã§æ„å‘³ãŒãªã„å¯èƒ½æ€§ãŒé«˜ã„ã§ã™ã€‚
ç’°å¢ƒ  AGP3.4.0-alpha06 Kotlin 1.3.10 Kotlinx.coroutine 1.0.1 Gradle 5.0  æ¯”è¼ƒå¯¾è±¡  kotlinx.coroutineã‚’ä½¿ã£ãŸã‚µãƒ³ãƒ—ãƒ«  ã‚¯ãƒ©ã‚¹æ•° 300 å„ã‚¯ãƒ©ã‚¹ã¯7ã¤ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒã¡ã€ãã®ä¸­ã§coroutine builderã‚„suspendé–¢æ•°ã‚’ã‚³ãƒ¼ãƒ«ã—ã¦ã„ã‚‹  300 * 7ã®2100ç®‡æ‰€ãŒCoroutineé–¢é€£ã®ã‚³ãƒ¼ãƒ‰ã«ãªã‚Šã¾ã™     kotlinx.coroutineã‚’ä½¿ã‚ãªã„ã‚µãƒ³ãƒ—ãƒ«  ã‚¯ãƒ©ã‚¹æ•° 300 å„ã‚¯ãƒ©ã‚¹ã¯7ã¤ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒã¡ã€ãã®ä¸­ã§é©å½“ãªãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆHandler().post {}ï¼‰ã‚’ã‚³ãƒ¼ãƒ«ã—ã¦ã„ã‚‹   ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰  è¨ˆæ¸¬ã‚³ãƒãƒ³ãƒ‰ Build Scanã‚’ä½¿ã£ã¦è¨ˆæ¸¬ã—ã¾ã™ã€‚ãã®éš›ã€‚build-cacheã¯offã«ã—ã¾ã™ã€‚
./gradlew clean ./gradlew build --no-build-cache --scan ä¸¡ã‚µãƒ³ãƒ—ãƒ«ã®ã‚¯ãƒ©ã‚¹æ•°ã€ãƒ¡ã‚½ãƒƒãƒ‰æ•°ã‚’åˆã‚ã›ãŸã ã‘ãªã®ã§ã€å…¨ãæ­£å½“ãªæ¯”è¼ƒã§ãªã„ã“ã¨ã‚’ç•™æ„ãã ã•ã„ã€‚ ã¾ãŸè©¦è¡Œå›æ•°ã¯10å›ç¨‹åº¦ã§ã€æœ€çµ‚çµæœã®ã¿ã‚’ä»¥ä¸‹ã«æ²è¼‰ã—ã¾ã™ã€‚
kotlinx.coroutineã‚’ä½¿ã† Time spent executing tasks 1m 16.034s All tasks	207	2m 42.833s Tasks avoided	12 (09.7%)	0.062s From cache	0 (00.0%)	0.</description>
    </item>
    
    <item>
      <title>MutableãªLiveDataã‚’ç‰¹å®šã®ã‚¯ãƒ©ã‚¹å¤–ã‹ã‚‰æ›´æ–°ã§ããªãã™ã‚‹</title>
      <link>https://satoshun.github.io/2018/12/livedata_helper/</link>
      <pubDate>Sat, 01 Dec 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/12/livedata_helper/</guid>
      <description>LiveDataã®å€¤ã‚’æ›´æ–°ã—ãŸã„æ™‚ã€MutableLiveDataã‚’ä½¿ã†ã®ãŒä¸€èˆ¬çš„ã ã¨æ€ã„ã¾ã™ã€‚
class MainViewModel { val hoge = MutableLiveData&amp;lt;Int&amp;gt;() } ã“ã®æ›¸ãæ–¹ã ã¨ã€å¤–ã®ã‚¯ãƒ©ã‚¹ã‹ã‚‰å€¤ã‚’æ›´æ–°ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚
val viewModel = MainViewModel() // ok viewModel.hoge.postValue(10000) å¤–ã®ã‚¯ãƒ©ã‚¹ã‹ã‚‰ã¯æ›´æ–°å‡ºæ¥ãªã„ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã«ã¯LiveDataã«å‹å¤‰æ›ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
ä¾‹ãˆã°æ¬¡ã®ã‚ˆã†ã«æ›¸ãã¾ã™ã€‚
class MainViewModel { private val _hoge = MutableLiveData&amp;lt;Int&amp;gt;() val hoge: LiveData&amp;lt;Int&amp;gt; = _hoge // ã“ã“ã§LiveDataã«å‹å¤‰æ› } ã“ã†ã™ã‚‹ã“ã¨ã§ã€å¤–ã®ã‚¯ãƒ©ã‚¹ã‹ã‚‰ã¯MutableLiveDataãŒç›´æ¥è¦‹ãˆãªããªã‚Šã€æ˜ç¤ºçš„ã«å‹å¤‰æ›ã‚’ã—ãªã„é™ã‚ŠLiveDataã®å€¤ã‚’æ›´æ–°ã§ããªããªã‚Šã¾ã™ã€‚
ãŸã ã“ã®æ›¸ãæ–¹ã¯ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å®šç¾©ãŒå¢—ãˆã‚‹ã®ã§ã¨ã¦ã‚‚ã‚ã‚“ã©ãã•ã„ã§ã™ã€‚ ãªã®ã§ã€ãã‚Œã®è§£æ±ºç­–ã‚’ä»¥ä¸‹ã§ç´¹ä»‹ã—ã¾ã™ã€‚
ãã®1 ã¾ãšã‚³ãƒ¼ãƒ‰ã‚’ã®ã›ã¾ã™ã€‚
abstract class ViewModel2 { protected fun &amp;lt;T&amp;gt; ViewModelLiveData2&amp;lt;T&amp;gt;.postValue(value: T) { postValue(value) } protected fun &amp;lt;T&amp;gt; ViewModelLiveData2&amp;lt;T&amp;gt;.setValue(value: T) { setValue(value) } } // ViewModel2ã¨åŒã˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«å®šç¾© public class ViewModelLiveData2&amp;lt;T&amp;gt; extends LiveData&amp;lt;T&amp;gt; { @Override protected void postValue(T value) { super.</description>
    </item>
    
    <item>
      <title>Retrofitã§ã‚«ã‚¹ã‚¿ãƒ ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ã†</title>
      <link>https://satoshun.github.io/2018/11/retrofit_custom_annotation/</link>
      <pubDate>Fri, 23 Nov 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/11/retrofit_custom_annotation/</guid>
      <description>Retrofit 2.5.0ã‹ã‚‰ã‚«ã‚¹ã‚¿ãƒ ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãŒä½¿ãˆã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€ãã‚Œã®ç´¹ä»‹ã§ã™ã€‚
ä¾‹ã‚’ã‚ã’ã¦èª¬æ˜ã—ã¾ã™ã€‚ç‰¹å®šã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ãƒ˜ãƒƒãƒ€ãƒ¼ã«èªè¨¼æƒ…å ±ã‚’ä»˜ä¸ã—ãŸã„ã¨ã—ã¾ã™ã€‚
ã¾ãšæœ€åˆã«ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®šç¾©ã—ã¾ã™ã€‚
annotation class RequireAuth æ¬¡ã«ã€ä¸Šè¨˜ã§å®šç¾©ã—ãŸã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ã„ã€Apiã‚’å®šç¾©ã—ã¾ã™ã€‚
interface ApiService { @RequireAuth @GET(&amp;#34;login&amp;#34;) fun login(: retrofit2.Call&amp;lt;Unit&amp;gt; } æ¬¡ã«ã€RequireAuthã‚’å‡¦ç†ã™ã‚‹ãŸã‚ã®okhttp3.Interceptorã‚’å®šç¾©ã—ã¾ã™ã€‚
class AuthInterceptor : Interceptor { override fun intercept(chain: Interceptor.Chain): Response { var request = chain.request() val invocation = request.tag(Invocation::class.java) val authAnnotation = invocation?.method()?.getAnnotation(RequireAuth::class.java) if (authAnnotation != null) { request = request .newBuilder() .addHeader(&amp;#34;Authorization&amp;#34;, &amp;#34;Basic AAAAA&amp;#34;).build() } return chain.proceed(request) } } ã“ã“ã§ã®ãƒã‚¤ãƒ³ãƒˆã¯ã€val invocation = request.tag(Invocation::class.java)ã§ã™ã€‚ Retrofit 2.5.0ã‹ã‚‰InvocationãŒè¿½åŠ ã•ã‚Œã€Requestã‹ã‚‰InvocationãŒå–å¾—ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ Invocationã«ã¯ã€å‡¦ç†ã—ã¦ã„ã‚‹Requestã®java.lang.reflect.MethodãŒæ ¼ç´ã•ã‚Œã¦ãŠã‚Šã€ ãã“ã‹ã‚‰ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã®æƒ…å ±ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
val authAnnotation = invocation?.method()?.getAnnotation(RequireAuth::class.java)ã§ã€ ãƒ¡ã‚½ãƒƒãƒ‰ã«RequireAuthã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãŒä»˜ä¸ã•ã‚Œã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’çŸ¥ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚ RequireAuthã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãŒã¤ã„ã¦ã„ã‚Œã°ã€Requestã®ãƒ˜ãƒƒãƒ€ãƒ¼ã«èªè¨¼æƒ…å ±ã‚’è¿½åŠ ã—ã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>Activityã€Fragmentã€Viewã«ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã™ã‚‹</title>
      <link>https://satoshun.github.io/2018/11/android_all_inject_ctor/</link>
      <pubDate>Fri, 16 Nov 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/11/android_all_inject_ctor/</guid>
      <description>Daggerãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã„ã€Androidãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒæä¾›ã™ã‚‹Activityãªã©ã®ã‚¯ãƒ©ã‚¹ã«ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã—ãŸã„ã€ ãã‚“ãªå¤¢ã‚’ã¿ãŸAndroidã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¯æ•°å¤šãã„ã‚‹ã¨æ€ã„ã¾ã™ã€‚
ã“ã®è¨˜äº‹ã§ã¯ãã‚“ãªå¤¢ã‚’å¶ãˆã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚
ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ã“ã“ã«ã‚ã‚Šã¾ã™ã€‚
FragmentFactory Fragmentã«ä¾å­˜é–¢ä¿‚ã‚’æ³¨å…¥ã™ã‚‹æ™‚ã€æ™®é€šã«ã‚„ã‚‹ã¨ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã«ãªã‚‹ã¨æ€ã„ã¾ã™ã€‚
class MainFragment : Fragment() { @Inject lateinit var userHandler: UserHandler ... } ã“ã‚Œã‚’ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã«ã—ãŸã„ã€‚
class MainFragment @Inject constructor( private val userHandler: UserHandler ) : Fragment() { ... } androidx.fragment:fragment:1.1.0-alpha01ã‹ã‚‰ã€FragmentFactoryãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸ!! ã“ã‚Œã‚’ä½¿ã†ã“ã¨ã§ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚
MainFragmentã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã™ã‚‹FragmentFactoryã‚’ä½œæˆã—ã¾ã™ã€‚
class MainFragmentFactory @Inject constructor( private val fragment: Provider&amp;lt;MainFragment&amp;gt; ) : FragmentFactory() { override fun instantiate( classLoader: ClassLoader, className: String, args: Bundle? ): Fragment { if (className == MainFragment::class.java.name) { return fragment.get() } return super.instantiate(classLoader, className, args) } } FragmentFactory.</description>
    </item>
    
    <item>
      <title>Kotlin: Contracts &#43; æ‹¡å¼µé–¢æ•°ã§ã‚ˆã‚Šä¾¿åˆ©ã«</title>
      <link>https://satoshun.github.io/2018/11/more_convenient_contracts/</link>
      <pubDate>Sun, 11 Nov 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/11/more_convenient_contracts/</guid>
      <description>Kotlin 1.3.0ã‹ã‚‰ContractsãŒå®Ÿè£…ã•ã‚Œã¾ã—ãŸã€‚ Contractsã‚’ä½¿ã†ã“ã¨ã§ã€é–¢æ•°ãŒã©ã®ã‚ˆã†ãªæŒ¯ã‚‹èˆã„ã‚’ã™ã‚‹ã‹ã€ã©ã†ã„ã†åŠ¹æœã‚’ã‚‚ãŸã‚‰ã™ã‹ã‚’å®šç¾©ï¼ˆå¥‘ç´„ï¼‰ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
ä¾‹ãˆã°ã€isNullOrEmptyãƒ¡ã‚½ãƒƒãƒ‰ãŒfalseè¿”ã™ãªã‚‰ã€ Contractsã«ã‚ˆã‚Šnullã§ãªã„ã“ã¨ãŒä¿è¨¼ã•ã‚Œã¾ã™ã€‚
val a: String? = ... if (!a.isNullOrEmpty()) { println(a.length) // !!ãŒå¿…è¦ãªã„ } ContractsãŒãªã„æ™‚ä»£ã ã¨å‘¼ã³å‡ºã—å…ƒã§isNullOrEmptyãŒã©ã‚“ãªæŒ¯ã‚‹èˆã„ã‚’ã™ã‚‹ã‹ã‚’çŸ¥ã‚‹ã™ã¹ãŒãªã‹ã£ãŸã®ã§ã€ !!ã‚’ã¤ã‘ã‚‹å¿…è¦ãŒã‚ã£ãŸã®ã§ã™ãŒã€Contractsã«ã‚ˆã‚Šnullã§ãªã„ã“ã¨ãŒä¿è¨¼ã§ãã‚‹ã®ã§ã€!!ã‚’çœç•¥ã§ãã¾ã™ã€‚
isNullOrEmptyã®å®Ÿè£…ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
@kotlin.internal.InlineOnly public inline fun CharSequence?.isNullOrEmpty(): Boolean { contract { returns(false) implies (this@isNullOrEmpty != null) } return this == null || this.length == 0 } contractã¯DSLï¼ˆé–¢æ•°ï¼‰ã¨ã—ã¦å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚ ã“ã‚Œã‚’å‘¼ã³å‡ºã—ã€ãã®ãƒ–ãƒ­ãƒƒã‚¯ã®ä¸­ã§ã“ã®é–¢æ•°ãŒæº€ãŸã™æŒ¯ã‚‹èˆã„ã‚’å®šç¾©ã™ã‚‹äº‹ãŒã§ãã¾ã™ã€‚
isNullOrEmptyã®å ´åˆã¯returns(false) implies (this@isNullOrEmpty != null)ãŒå¥‘ç´„ã¨ã—ã¦å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚
ã“ã‚Œã¯ã€ã€Œreturns(false): falseã‚’è¿”ã™ãªã‚‰ (this@isNullOrEmpty != null): è‡ªåˆ†è‡ªèº«ãŒnullã˜ã‚ƒãªã„ã€ã¨ã„ã†æ„å‘³ã«ãªã‚Šã¾ã™ã€‚ ãªã®ã§å‘¼ã³å‡ºã—å…ƒã§ã¯falseãŒè¿”ã£ã¦ããŸã‚‰ã€nullã§ã¯ãªã„ã“ã¨ãŒä¿è¨¼ã•ã‚Œã‚‹ã®ã§ã€smartcastã«ã‚ˆã‚Š!!ã‚’ã¤ã‘ã‚‹å¿…è¦ãŒãªããªã‚‹ã‚ã‘ã§ã™ã€‚
ãªã®ã§ã€ä¾‹ãˆã°T.isEmpty(t: T?): Booleanã®ã‚ˆã†ãªãƒ¡ã‚½ãƒƒãƒ‰ãŒã‚ã‚Šã€ã¤ã„ã§ã«nullãƒã‚§ãƒƒã‚¯ã‚‚ã“ã®é–¢æ•°ã®ä¸­ã§ã‚„ã£ã¦ã„ã‚‹ã‚ˆã†ãªã¨ãã¯ã€ contractã‚’å®šç¾©ã™ã‚‹ã“ã¨ã§ã‚ˆã‚Šä½¿ã„ã‚„ã™ã„é–¢æ•°ã«ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
ä»–ã®ä¾‹ã‚’è¦‹ã¦ã¿ã¾ã™ã€‚ã‚¹ã‚³ãƒ¼ãƒ—é–¢æ•°applyã®å®Ÿè£…ã¯æ¬¡ã«ãªã‚Šã¾ã™ã€‚
@kotlin.internal.InlineOnly public inline fun &amp;lt;T&amp;gt; T.apply(block: T.() -&amp;gt; Unit): T { contract { callsInPlace(block, InvocationKind.</description>
    </item>
    
    <item>
      <title>Android: ãƒ‡ãƒãƒƒã‚°æ™‚ã«Moshiã€Daggerãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã„ãƒ“ãƒ«ãƒ‰æ™‚é–“ã‚’çŸ­ç¸®ã™ã‚‹</title>
      <link>https://satoshun.github.io/2018/11/debug_reflection/</link>
      <pubDate>Sat, 10 Nov 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/11/debug_reflection/</guid>
      <description>ãƒ“ãƒ«ãƒ‰æ™‚é–“ã®çŸ­ç¸®ã¯é–‹ç™ºåŠ¹ç‡ã‚’ä¸Šã’ã‚‹å¤§ããªè¦ç´ ã§ã™ã€‚ æ¥µåŠ›kaptï¼ˆã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ï¼‰ã‚’ä½¿ã‚ãªãã™ã‚‹ã“ã¨ã§ã€ãƒ“ãƒ«ãƒ‰æ™‚é–“ã‚’çŸ­ç¸®å‡ºæ¥ã¾ã™ã€‚ ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã‚’ä½¿ã£ãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ã€ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã‚’ä½¿ã‚ãªã„ã€ ãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç”¨ã„ãŸãƒ‡ãƒãƒƒã‚°ç”¨ã®æ©Ÿèƒ½ã‚’æä¾›ã—ã¦ã„ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚
ä»Šå›ã¯ã€Moshiã¨Daggerãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ç´¹ä»‹ã‚’ã—ã¾ã™ã€‚ Daggerãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã¯çµ¶è³›é–‹ç™ºä¸­ + å…¬å¼ã§ã¯ãªã„ã®ã§ã€æ©Ÿèƒ½ãŒã‹ãªã‚Šåˆ¶é™ã•ã‚Œã¦ã„ã‚‹ã€ã©ã†ã„ã†æœªæ¥ãŒå¾…ã£ã¦ã„ã‚‹ã‹ã‚ã‹ã‚‰ãªã„ç‚¹ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚
æ¤œè¨¼ã«ç”¨ã„ãŸã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ã“ã“ã«ã‚ã‚Šã¾ã™ã€‚
Moshiãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ Moshiã«ã¯moshi-codegenã¨å‘¼ã°ã‚Œã‚‹ã€ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã§ã‚³ãƒ¼ãƒ‰ç”Ÿæˆã—ã¦ãã‚Œã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚ã‚Šã¾ã™ã€‚ ã“ã‚Œã¯å®Ÿè¡Œæ™‚ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«ã¯å„ªã‚Œã¦ã„ã‚‹ã®ã§ã™ãŒã€ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã‚’ä½¿ã£ã¦ã„ã‚‹ãŸã‚ã€ãƒ“ãƒ«ãƒ‰ã«æ™‚é–“ãŒã‹ã‹ã£ã¦ã—ã¾ã„ã¾ã™ã€‚
ãã“ã§ã€Moshiã§ã¯moshi-reflectionã¨å‘¼ã°ã‚Œã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’æä¾›ã—ã¦ãŠã‚Šã€ã“ã‚Œã¯ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã‚’ä½¿ã†ã“ã¨ãªãã€ moshi-codegenã¨åŒç­‰ã®æ©Ÿèƒ½ã‚’æä¾›ã—ã¦ãã‚Œã¾ã™ã€‚ ãŸã ã—ã€moshi-reflectionã¯å†…éƒ¨ã§ãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½¿ã£ã¦ã„ã‚‹ãŸã‚ã€å®Ÿè¡Œæ™‚ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«ã¯å„ªã‚Œã¦ã„ã¾ã›ã‚“ã€‚ã‚ãã¾ã§ãƒ‡ãƒãƒƒã‚°ç”¨ã€ã¨ã„ã†ç«‹ã¡ä½ç½®ã ã¨æ€ã„ã¾ã™ã€‚
ãƒ‡ãƒãƒƒã‚°æ™‚ã«moshi-reflectionã‚’ä½¿ã„ã€ãƒªãƒªãƒ¼ã‚¹æ™‚ã«moshi-codegenã‚’ä½¿ã†ã“ã¨ã§ã€ãƒ“ãƒ«ãƒ‰é€Ÿåº¦ã¨å®ŸåŠ¹é€Ÿåº¦ã®å¤©ç§¤ã‚’å‹ã¡å–ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
å…·ä½“çš„ã«ã¯ã€ãƒ‡ãƒãƒƒã‚°æ™‚ã€ãƒªãƒªãƒ¼ã‚¹æ™‚ã«build.gradleã§æŒ‡å®šã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã€Moshiã«ç™»éŒ²ã™ã‚‹Adapterã‚’å¤‰æ›´ã—ã¾ã™ã€‚
// bulid.gradle  implementation &amp;#34;com.squareup.moshi:moshi:1.8.0&amp;#34; debugImplementation &amp;#34;com.squareup.moshi:moshi-kotlin:1.8.0&amp;#34; kaptRelease &amp;#34;com.squareup.moshi:moshi-kotlin-codegen:1.8.0&amp;#34; // debugæ™‚ fun createMoshiBuilder() = Moshi.Builder() .add(KotlinJsonAdapterFactory()) // KotlinJsonAdapterFactoryã‚’æŒ‡å®šã™ã‚‹  .build() // releaseæ™‚ fun createMoshiBuilder() = Moshi.Builder() .build() ã“ã®ã‚ˆã†ã«æ›¸ãã“ã¨ã§ã€ãƒªãƒªãƒ¼ã‚¹æ™‚ã®ã¿kaptã‚’å®Ÿè¡Œã™ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
Daggerãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ ã“ã‚Œã¯SdkSearchå†…ã§é–‹ç™ºãŒè¡Œã‚ã‚Œã¦ã„ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚æœ‰åãªAndroidã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã§ã‚ã‚‹Jake Whartonã•ã‚“ãŒé–‹ç™ºã‚’ã—ã¦ã„ã¾ã™ã€‚
ã“ã‚Œã‚‚Moshiã¨åŒæ§˜ã«ã€ãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚ Daggerãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€å¿…è¦æœ€ä½é™ã®ã‚¯ãƒ©ã‚¹ã¯ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã§ä½œæˆã™ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚ ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã®å®Œå…¨é™¤å»ã¨ã„ã†ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ä¾‹ãˆã°ã€ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã§DaggerAppComponentã¯ä½œã‚‰ã‚Œã¾ã™ã€‚ ã—ã‹ã—ã€ã‹ãªã‚Šã®æ•°ã®ã‚¯ãƒ©ã‚¹ã‚’ä½œæˆã—ãªã„ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚
å…·ä½“çš„ãªã‚³ãƒ¼ãƒ‰ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ Mavenã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„ã®ã§ã€SdkSearchã‹ã‚‰ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ä½¿ã„ã¾ã™ã€‚
implementation &amp;#34;com.google.dagger:dagger:2.18&amp;#34; debugImplementation project(&amp;#39;:dagger-reflect:reflect&amp;#39;) // SdkSearchã‹ã‚‰ã‚³ãƒ”ãƒ¼ kaptDebug project(&amp;#39;:dagger-reflect:reflect-compiler&amp;#39;) // SdkSearchã‹ã‚‰ã‚³ãƒ”ãƒ¼ kaptRelease &amp;#34;com.google.dagger:dagger-compiler:2.18&amp;#34; ãƒ‡ãƒãƒƒã‚°æ™‚ã«ã¯Daggerãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½¿ã„ã€ãƒªãƒªãƒ¼ã‚¹æ™‚ã«ã¯dagger-compilerã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚ å¤‰æ›´å·®åˆ†ã¯build.gradleã®ã¿ã§ã™ã€‚ã‚³ãƒ¼ãƒ‰ã¯å…¨ãä¿®æ­£ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
æœ€åˆã«ã‚‚æ›¸ã„ãŸã®ã§ã™ãŒã€Daggerãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã¯çµ¶è³›é–‹ç™ºä¸­ã§ã€Scopeã€ã‚»ãƒƒã‚¿ãƒ¼ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ãªã©ã€å¤šãã®æ©Ÿèƒ½ãŒä½¿ãˆãªã„çŠ¶æ…‹ã§ã™ã€‚ ã“ã“ãŒæƒã£ã¦ãã‚Œã°ãƒ‡ãƒãƒƒã‚°æ™‚ã«ã¯Daggerãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½¿ã†ã“ã¨ã§ã€ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ãƒ“ãƒ«ãƒ‰ã¨åŒç­‰ã®å‹•ä½œã§ã€ãƒ“ãƒ«ãƒ‰æ™‚é–“ã®çŸ­ç¸®ãŒå¯èƒ½ã«ãªã£ã¦ãã‚‹ã¨æ€ã„ã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>Kotlinã®Non-Nullå‹ã«nullã‚’ä»£å…¥ã™ã‚‹æ–¹æ³•</title>
      <link>https://satoshun.github.io/2018/11/kotlin-nullable-generic/</link>
      <pubDate>Wed, 07 Nov 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/11/kotlin-nullable-generic/</guid>
      <description>Kotlinã§ã¯nullã‚’æ‰±ã„ã‚„ã™ãã™ã‚‹ãŸã‚ã«Nullableã€Non-Nullã‚’å‹ã§åˆ¶é™ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚ Kotlinã®Non-Nullå‹ã«å¯¾ã—ã¦nullã‚’ä»£å…¥ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€ä»£å…¥ã™ã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ä¾‹å¤–ã‚’åãã¾ã™ã€‚ Javaã¨Kotlinã‚’ä¸€ç·’ã«ä½¿ã£ã¦ã„ã‚‹ã¨ã€ã“ã®ä¾‹å¤–ã«é­é‡ã™ã‚‹ã“ã¨ãŒã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚
å…·ä½“çš„ã«ã¯ä»¥ä¸‹ã®æŒ™å‹•ã‚’ã—ã¾ã™ã€‚
public class Hoge { // nullã‚’è¿”ã™ãƒ¡ã‚½ãƒƒãƒ‰  static String getName() { return null; } } val d: String = Hoge.getName() // ã“ã“ã§ä¾‹å¤–ãŒæŠ•ã’ã‚‰ã‚Œã‚‹ println(d.length) // ã“ã‚Œã¯å®Ÿè¡Œã•ã‚Œãªã„ ã“ã®ã‚³ãƒ¼ãƒ‰ã¯ã€val d: String = Hoge.getName()ã§IllegalStateExceptionã‚’æŠ•ã’ã¾ã™ã€‚ Non-Nullå‹ã«nullã‚’ä»£å…¥ã—ã‚ˆã†ã¨ã—ã¦ã„ã‚‹ã‹ã‚‰ã§ã™ã€‚
æ¬¡ã«ã€ä»£å…¥ã™ã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ä¾‹å¤–ã‚’æŠ•ã’ãªãã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚
å…·ä½“çš„ã«ã¯ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã§é”æˆã§ãã¾ã™ã€‚
fun &amp;lt;T&amp;gt; castNull(): T = null as T val d: String = castNull() // ã“ã“ã§ã¯ä¾‹å¤–ãŒæŠ•ã’ã‚‰ã‚Œãªã„ println(d.length) // ã“ã“ã§ä¾‹å¤–ãŒæŠ•ã’ã‚‰ã‚Œã‚‹ ãªãœã“ã®ã‚ˆã†ãªæŒ™å‹•ã«ãªã‚‹ã®ã‹ã‚’èª¬æ˜ã—ã¾ã™ã€‚ã¾ãš castNull()ãƒ¡ã‚½ãƒƒãƒ‰ã«å®šç¾©ã•ã‚ŒãŸã‚¸ã‚§ãƒãƒªãƒƒã‚¯å‹Tã¯Any?ã‚’upperã«æŒã¡ã¾ã™ã€‚ Kotlinã¯ã‚¸ã‚§ãƒãƒªãƒƒã‚¯ã‚’ä½¿ã„ã€ã‹ã¤Nullableå‹ã‚’upperã«æŒã¤ã¨ãã€nullã‹ã©ã†ã‹ã®ãƒã‚§ãƒƒã‚¯ã‚’ã—ã¾ã›ã‚“ã€‚ã“ã‚Œã¯ãƒã‚¤ãƒˆã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã‚Œã°åˆ†ã‹ã‚Šã¾ã™ã€‚
GETSTATIC sample/SampleTestsJVMKt.a : Ljava/lang/String; CHECKCAST java/lang/Object CHECKCASTã—ã‹ã—ã¦ãŠã‚‰ãšã€nullã‹ã©ã†ã‹ã®ãƒã‚§ãƒƒã‚¯ã‚’ã—ã¦ã„ã¾ã›ã‚“ã€‚ ãªã®ã§ã€val d: String = castNull()ã§ã¯nullãƒã‚§ãƒƒã‚¯ãŒã•ã‚Œãªã„ãŸã‚ä¾‹å¤–ãŒæŠ•ã’ã‚‰ã‚Œãšã€å®Ÿéš›ã«ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ã‚³ãƒ¼ãƒ«ã™ã‚‹println(d.length)ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ä¾‹å¤–ãŒæŠ•ã’ã‚‰ã‚Œã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>æ‹¡å¼µé–¢æ•° &#43; ã‚¸ã‚§ãƒãƒªãƒƒã‚¯å‹ã§ã‚ˆã‚Šã‚¿ã‚¤ãƒ—ã‚»ãƒ¼ãƒ•ã‚’å¾—ã‚‹</title>
      <link>https://satoshun.github.io/2018/11/extension-typesafe/</link>
      <pubDate>Sat, 03 Nov 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/11/extension-typesafe/</guid>
      <description>Kotlinã®æ‹¡å¼µé–¢æ•°ã®è©±ã§ã™ã€‚
ä»¥ä¸‹ã®ã‚¯ãƒ©ã‚¹ãŒã‚ã£ãŸã¨ã—ã¾ã™ã€‚
class A&amp;lt;T&amp;gt;(val value: T) { fun isNull(): Boolean { return value != null } } fun main() { val a1: A&amp;lt;Int&amp;gt; = ... a1.isNull() } ã“ã®ã¨ãã€a1.isNull()ã®çµæœã¯è‡ªæ˜ã§ã™ã€‚ãªãœãªã‚‰A&amp;lt;Int&amp;gt;ã§å®£è¨€ã—ã¦ã„ã‚‹æ™‚ç‚¹ã§nonNullãŒç¢ºå®šã—ã¦ã„ã‚‹ãŸã‚ã§ã™ã€‚
fun main() { val a2: A&amp;lt;Int?&amp;gt; = ... a2.isNull() } ã“ã®ã¨ãã€a2.isNull()ã®çµæœã¯è‡ªæ˜ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ ãªãœãªã‚‰A&amp;lt;Int?&amp;gt;ã§ã‚¸ã‚§ãƒãƒªãƒƒã‚¯å‹ã‚’å®£è¨€ã—ã¦ã„ã‚‹ã®ã§ã€nullableãªå€¤ãŒå…¥ã£ã¦ãã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚ã§ã™ã€‚
ã“ã®2ã¤ã®ä¾‹ã‹ã‚‰ã€a1.isNull()ã¯ãã‚‚ãã‚‚nonNullãªã®ã§isNull()ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ã‚³ãƒ¼ãƒ«ã§ããªã„ã»ã†ãŒè‰¯ã„ã®ã§ã¯ãªã„ã‹ï¼Ÿã¨ã„ã†è€ƒãˆãŒæµ®ã‹ã³ã¾ã™ã€‚
Kotlinã®æ‹¡å¼µé–¢æ•°ã‚’ä½¿ã†ã“ã¨ã§é”æˆã§ãã¾ã™ã€‚
class A&amp;lt;T&amp;gt;(val value: T) // nullableã®ã¨ãã«ã‚³ãƒ¼ãƒ«ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ fun &amp;lt;T : Any&amp;gt; A&amp;lt;T?&amp;gt;.isNull(): Boolean { return value != null } fun main() { val a1: A&amp;lt;Int&amp;gt; = ... a1.isNull() // ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼!</description>
    </item>
    
    <item>
      <title>Kotlinã§3ã¤ã®é–¢æ•°ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’çœç•¥ã™ã‚‹</title>
      <link>https://satoshun.github.io/2018/10/kotlin-decrease-function_params/</link>
      <pubDate>Tue, 16 Oct 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/10/kotlin-decrease-function_params/</guid>
      <description>Kotlinã§ã¯æ‹¡å¼µé–¢æ•°ãŒå®šç¾©ã•ã‚Œã¦ãŠã‚Šã€æ‹¡å¼µé–¢æ•°ã‚’ä½¿ã†ã“ã¨ã§1ã¤é–¢æ•°ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’çœç•¥ã§ãã¾ã™ã€‚
fun hoge(a: String) { println(a) } -&amp;gt; fun String.hoge() { println(this) } æ¬¡ã«ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼ˆã‚¯ãƒ©ã‚¹ï¼‰å†…ã§æ‹¡å¼µé–¢æ•°ã‚’å®šç¾©ã™ã‚‹ã“ã¨ã§ã€ã•ã‚‰ã«1ã¤ã®é–¢æ•°ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’çœç•¥ã§ãã¾ã™ã€‚
interface User fun hoge(a: String, b: User) { println(a) println(b) } -&amp;gt; interface User { fun String.hoge() { println(this) println(this@User) } } ã•ã‚‰ã«ã€reified type parameterã‚’ä½¿ã†ã“ã¨ã§ã€é–¢æ•°ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’çœç•¥ã§ãã¾ã™ã€‚
fun &amp;lt;T&amp;gt; hoge(a: String, b: User, c: Class&amp;lt;T&amp;gt;) { println(a) println(b) println(c) } -&amp;gt; class User { inline fun &amp;lt;reified T&amp;gt; String.hoge() { println(this) println(this@User) println(T::class) } } interfaceã ã¨ã€inlineé–¢æ•°ãŒä½¿ãˆãªã„ã®ã§ã‚¯ãƒ©ã‚¹ã§å®šç¾©ã—ã¦ã‚ã‚Šã¾ã™ã€‚
ã¾ã¨ã‚  Kotlinã®æ‹¡å¼µé–¢æ•°ã€reifiedä¾¿åˆ©ğŸ˜Š  </description>
    </item>
    
    <item>
      <title>Unitãƒ†ã‚¹ãƒˆã§ViewModelã®onClearedã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹</title>
      <link>https://satoshun.github.io/2018/10/unittest-viewodel_oncleared/</link>
      <pubDate>Sun, 14 Oct 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/10/unittest-viewodel_oncleared/</guid>
      <description>ãµã¨AACã®ViewModelã®onClearedãƒ¡ã‚½ãƒƒãƒ‰ã‚’ãƒ†ã‚¹ãƒˆã—ãŸããªã£ãŸã®ã§ã€ 3ã¤ã®ã‚„ã‚Šã‹ãŸã‚’ç´¹ä»‹ã—ã¾ã™ã€‚
ç’°å¢ƒã¯
&amp;quot;junit:junit:4.12&amp;quot; &amp;quot;androidx.test:rules:1.1.1&amp;quot; &amp;quot;androidx.test:runner:1.1.1&amp;quot; &amp;quot;androidx.test.ext:junit:1.1.0&amp;quot; &amp;quot;com.nhaarman:mockito-kotlin-kt1.1:1.5.0&amp;quot; &amp;quot;org.robolectric:robolectric:4.1&amp;quot; ã«ãªã‚Šã¾ã™ã€‚
ã¾ãŸã€ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ satoshun-android-example/Testsã«ã‚ã‚‹ã®ã§ã€å‚è€ƒã—ã¦ãã ã•ã„ğŸ˜Š
1. ViewModelStoreã‚’ä½¿ã† ViewModelProviders.of(activity).get(class)ã‹ã‚‰ViewModelã‚’å–å¾—ã—ãŸã¨ãã«ã€å–å¾—ã—ãŸViewModelã¯ViewModelStoreã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚Œã¾ã™ã€‚ã“ã®ViewModelStoreã¯FragmentActivityã‹ã‚‰å–å¾—ã§ãã‚‹ã®ã§ã€æ¬¡ã®ã‚ˆã†ã«æ›¸ãã“ã¨ã§ViewModelã®onClearedã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
@RunWith(AndroidJUnit4::class) class BaseViewModelTest { @get:Rule val activityRule = ActivityTestRule(FragmentActivity::class.java) @Test fun `dispose a coroutine when finished lifecycle of ViewModel`() { activityRule.activity.viewModelStore.clear() // ViewModelãŒé–‹æ”¾ã•ã‚Œã‚‹  } } ã“ã®ãƒ†ã‚¹ãƒˆã¯ã‚³ãƒ¼ãƒ‰çš„ã«ã¯ç°¡å˜ã§ã™ãŒã€ViewModelStoreãŒViewModelã‚’ç®¡ç†ã—ã¦ã„ã‚‹ã“ã¨ã‚’çŸ¥ã£ã¦ã„ã‚‹ã€å†…éƒ¨å®Ÿè£…ã®è©³ç´°ã¾ã§çŸ¥ã£ã¦ã„ã‚‹ãŸã‚ã€ãƒ†ã‚¹ãƒˆã¨ã—ã¦ãµã•ã‚ã—ããªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
ãªã®ã§ã€ç´ ç›´ã«onDestroyã‚’ã‚³ãƒ¼ãƒ«ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚‚æ›¸ã„ã¦ã¿ã¾ã™ã€‚
2. Instrumentation.callActivityOnDestroyã‚’ä½¿ã† Instrumentationã‚¯ãƒ©ã‚¹ã‚’ä½¿ã†ã“ã¨ã§Activityã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚ Instrumentationã¯InstrumentationRegistryã‚¯ãƒ©ã‚¹ã‹ã‚‰å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã€æ¬¡ã®ã‚ˆã†ã«æ›¸ãã“ã¨ã§ã€onDestroyã‚’ã‚³ãƒ¼ãƒ«ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
@Test fun `dispose a coroutine when finished lifecycle of ViewModel 2`() { // onDestroyãŒã‚³ãƒ¼ãƒ«ã•ã‚ŒViewModelãŒé–‹æ”¾ã•ã‚Œã‚‹  InstrumentationRegistry.getInstrumentation().callActivityOnDestroy(activityRule.activity) } Activityã®onDestroyãŒã‚³ãƒ¼ãƒ«ã•ã‚Œã€ViewModelã®onClearedã‚‚ã‚³ãƒ¼ãƒ«ã•ã‚Œã¾ã™ï¼
ä»¥ä¸‹è¿½è¨˜
3. ActivityScenarioã‚’ä½¿ã† æ–°ã—ãè¿½åŠ ã•ã‚ŒãŸActivityScenarioã‚’ä½¿ã†ã¨ã‚ˆã‚Šã™ã£ãã‚Šã¨onDestroyã‚’è¡¨ç¾ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
@Test fun `dispose a coroutine when finished lifecycle of ViewModel 3`() { val scenario = ActivityScenario.</description>
    </item>
    
    <item>
      <title>Inline classesã¨Gsonã§primitiveå‹ã‚’ã‚¯ãƒ©ã‚¹ã§å—ã‘ã¨ã‚‹</title>
      <link>https://satoshun.github.io/2018/09/android-gson-inlineclasses/</link>
      <pubDate>Mon, 17 Sep 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/09/android-gson-inlineclasses/</guid>
      <description>ï¼ˆã“ã®è¨˜äº‹ã¯1.3-M2ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚ï¼‰
Kotlin 1.3ã§Inline classesãŒå…¥ã‚Šã¾ã™ã€‚ã“ã‚Œã¯ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«å½±éŸ¿ã‚’ä¸ãˆãšã«ã€å€¤ã®ãƒ©ãƒƒãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹ã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
ä¾‹ãˆã°ã€æ¬¡ã®ã‚ˆã†ã«æ›¸ãã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
inline class UserId(val id: String) { val url get() = &amp;#34;http://$id&amp;#34; } val userId = UserId(&amp;#34;user-dayo&amp;#34;) println(userId.url) ã“ã®ã‚³ãƒ¼ãƒ‰ã¯ä¸€è¦‹ã€UserIdã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒç”Ÿæˆã•ã‚Œãã†ã§ã™ã€‚ ã—ã‹ã—ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ã§ã¯UserIdã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¯ç”Ÿæˆã•ã‚Œã¾ã›ã‚“ã€‚
public static final class UserId$Erased { ... @NotNull public static final String getUrl(String $this) { return &amp;#34;http://&amp;#34; + $this; } ... } String userId = &amp;#34;user-dayo&amp;#34;; String var1 = UserId$Erased.getUrl(userId); System.out.println(var1); UserIdã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œã‚‰ãšã«ã€Stringã‚’ãã®ã¾ã¾ä½¿ã£ã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚ãã—ã¦è‡ªå‹•ç”Ÿæˆã•ã‚ŒãŸUserId$Erasedã‚¯ãƒ©ã‚¹ã«ã‚ã‚‹staticãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã„ã¾ã™ã€‚Inline classesã§ã¯ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã›ãšã«staticãƒ¡ã‚½ãƒƒãƒ‰ã‚’ã‚³ãƒ¼ãƒ«ã™ã‚‹ã“ã¨ã§ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã®ã‚³ã‚¹ãƒˆã‚’æŠ‘ãˆã¦ã„ã¾ã™ã€‚
ã“ã“ã‹ã‚‰ãŒæœ¬é¡Œã§ã™ã€‚ Inline classesãŒAndroidé–‹ç™ºã®ã©ã“ã§å½¹ç«‹ã¤ã®ã‹ã‚’è€ƒãˆãŸã¨ãã«ã€ Gsonãªã©ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã‚ˆã£ã¦deserialize/serializeã•ã‚Œã‚‹ã‚¯ãƒ©ã‚¹ã§æœ‰åŠ¹ä½¿ãˆã‚‹ã¨æ€ã„ã¾ã—ãŸã€‚
ä¾‹ãˆã°ã€æ¬¡ã®ã‚³ãƒ¼ãƒ‰ãŒã‚ã£ãŸã¨ã—ã¾ã™ã€‚
data class Response( @SerializedName(&amp;#34;user_id&amp;#34;) val userId: String, @SerializedName(&amp;#34;friend_id&amp;#34;) val friendId: String ) ã“ã‚Œã¯userIdã¨friendIdã‚’Stringã§å—ã‘å–ã£ã¦ãŠã‚Šã€ã“ã®StringãŒä½•ã®Stringã‹ã®æƒ…å ±ãŒæ¬ è½ã—ã¦ã„ã¾ã™ã€‚å‹ã«ã‚ˆã‚‹åˆ†é¡ãŒå‡ºæ¥ã¦ãªã„çŠ¶æ…‹ã§ã™ã€‚</description>
    </item>
    
    <item>
      <title>Daggerã§private valã§ä¾å­˜é–¢ä¿‚ã‚’å–å¾—ã—ãŸã‹ã£ãŸ</title>
      <link>https://satoshun.github.io/2018/09/android-dagger-simple-example/</link>
      <pubDate>Fri, 07 Sep 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/09/android-dagger-simple-example/</guid>
      <description>ã¿ãªã•ã‚“ã“ã‚“ã«ã¡ã¯
ä»Šå›ã¯Daggerã®è©±ã‚’ã—ã¾ã™ã€‚Dagger + Kotlinã®1ã¤æ°—ã«ãªã‚‹ç‚¹ã¨ã—ã¦@Inject lateinit var ã«ãªã£ã¦ã—ã¾ã†ã¨ã“ã‚ãŒã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚
class HogeActivity { @Inject lateinit var hoge: Hoge } ã“ã‚Œã‚’ãªã‚“ã¨ã‹å‡ºæ¥ãªã„ã‹ãªã¨æ€ã£ã¦è€ƒãˆã¦ã¿ã¾ã—ãŸã€‚
çµè«–ã‹ã‚‰è¨€ã†ã¨æœ€çµ‚å½¢ã¯ã“ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
class HogeActivity { private val hoge: Hoge by inject() } private valã«ãªã‚Šã¾ã—ãŸã€‚ã“ã‚Œã‚’ã©ã®ã‚ˆã†ã«å®Ÿç¾ã—ãŸã‹ã«ã¤ã„ã¦èª¬æ˜ã—ã¦ãã¾ã™ã€‚ã¡ãªã¿ã«ã§ã™ãŒã€ã“ã‚Œã¯ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ã«è€ãˆã‚Œã‚‹ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã”äº†æ‰¿ãã ã•ã„ã€‚
ä»Šå›ã¯IntoMapã‚’ä½¿ã£ã¦å®Ÿè£…ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚
IntoMapã¨ã¯ãã®åã®é€šã‚ŠMapã«ãƒã‚¤ãƒ³ãƒ‰ã™ã‚‹ãŸã‚ã®ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚ è©³ã—ãã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’è¦‹ã¦ãã ã•ã„ã€‚
ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã§èª¬æ˜ã—ã¦ã„ãã¾ã™ã€‚
ã¾ãšã¯IntoMapã‚’ä½¿ã„ã€Mapã¸ã®ãƒã‚¤ãƒ³ãƒ‰ã‚’Moduleã«å®šç¾©ã—ã¦ã„ãã¾ã™ã€‚
@Module interface HogeModule { @Binds @IntoMap @ClassKey(Hoge1::class) fun bindHoge1(hoge: Hoge1): Any @Binds @IntoMap @ClassKey(Hoge2::class) fun bindHoge2(hoge: Hoge2): Any } class Hoge1 @Inject constructor() class Hoge2 @Inject constructor() @MustBeDocumented @Retention(AnnotationRetention.RUNTIME) @MapKey annotation class ClassKey(val value: KClass&amp;lt;out Any&amp;gt;) Mapã«ã¯å½“ç„¶ã€valueã«å¯¾å¿œã™ã‚‹keyãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚Daggerã§ã¯MapKeyã‚’ä½¿ã†ã“ã¨ã§ã€valueã¨keyã‚’ç´ã¥ã‘ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>RxAndroidã®asyncãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è©¦ã—ã¦ã¿ãŸ</title>
      <link>https://satoshun.github.io/2018/08/rx-android-async-parameter/</link>
      <pubDate>Tue, 21 Aug 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/08/rx-android-async-parameter/</guid>
      <description>RxAndroid 2.1.0ã§æ–°ã—ãasyncãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚ã“ã‚Œã¯Message#setAsynchronousã‚’ä½¿ã†ã“ã¨ã§ã€UIã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Šã‚’ç‹™ã£ãŸæ©Ÿèƒ½ã§ã™ã€‚ ä¸‹ã®ãƒªãƒ³ã‚¯ã«è©³ç´°ãªå†…å®¹ãŒæ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚
RxAndroidâ€™s New Async API
ã“ã®è¨˜äº‹ã§ã¯ã€asyncãŒfalseã®å ´åˆã¨trueã®å ´åˆã§ã©ã‚Œãã‚‰ã„ã®å·®ãŒå‡ºã‚‹ã‹ã‚’æ¤œè¨¼ã—ã¦ã¿ã¾ã—ãŸã€‚
æ¤œè¨¼ã«ä½¿ç”¨ã—ãŸã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ä»¥ä¸‹ã«ãªã‚Šã¾ã™ã€‚ https://github.com/satoshun-android-example/RxAndroidExample
ã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‹ã„ã¤ã¾ã‚“ã§èª¬æ˜ã—ã¾ã™ã€‚
ã¾ãš2ã¤ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã‚’ä½œæˆã—ã€
private val mainScheduler = AndroidSchedulers.from(Looper.getMainLooper(), false) private val asyncMainScheduler = AndroidSchedulers.from(Looper.getMainLooper(), true) ä½œã£ãŸã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã‚’ä½¿ã£ãŸã‚¹ãƒˆãƒªãƒ¼ãƒ ã§å®Ÿè¡Œå®Œäº†æ™‚é–“ã«å·®ãŒå‡ºã‚‹ã‹ã‚’è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚
// asyncãŒfalseã®å ´åˆ Observable .fromCallable { System.currentTimeMillis() } .delay(index, TimeUnit.MILLISECONDS) .observeOn(mainScheduler) .subscribe(...) // asyncãŒtrueã®å ´åˆ Observable .fromCallable { System.currentTimeMillis() } .delay(index, TimeUnit.MILLISECONDS) .observeOn(asyncMainScheduler) .subscribe(...) ãƒ•ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã«ãªã‚Šã¾ã™ã€‚ https://github.com/satoshun-android-example/RxAndroidExample/blob/master/app/src/main/java/com/github/satoshun/example/rxandroidexample/MainActivity.kt
çµæœã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚
// API27 ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ main=130988ms, async=126713msã€€// forã§500å›ãƒ«ãƒ¼ãƒ—ã•ã›ãŸå®Ÿè¡Œæ™‚é–“ã®ç·å’Œ main=130857ms, async=126582ms main=131401ms, async=126909ms main=130763ms, async=126504ms main=132758ms, async=127972ms // API21 ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ main=129869ms, async=125795ms main=130050ms, async=125888ms main=129935ms, async=125853ms main=129908ms, async=125838ms main=129927ms, async=125824ms asyncãŒtrueã®å ´åˆã€æ˜ã‚‰ã‹ã«å®Ÿè¡Œå®Œäº†æ™‚é–“ãŒçŸ­ããªã‚Šã¾ã—ãŸã€‚å°å…¥ã™ã‚‹ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚Šãã†ã§ã™ã€‚</description>
    </item>
    
    <item>
      <title>Android: Dagger 2.17ã®fastInitã‚’è©¦ã—ã¦ã¿ãŸ</title>
      <link>https://satoshun.github.io/2018/08/android-dagger__fastinit_mode/</link>
      <pubDate>Wed, 08 Aug 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/08/android-dagger__fastinit_mode/</guid>
      <description>Dagge 2.17ã§fastInitã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚ https://google.github.io/dagger/compiler-options
ã“ã‚Œã¯ã€startup timeã‚’æ”¹å–„ã™ã‚‹ãŸã‚ã®æ©Ÿèƒ½ã§ã™ã€‚ã©ã‚Œãã‚‰ã„å·®ãŒã‚ã‚‹ã‹ã‚’æ‹…å½“ã‚¢ãƒ—ãƒªã§å®Ÿéš›ã«èª¿ã¹ã¦ã¿ã¾ã—ãŸã€‚
ç¢ºèªã«ä½¿ç”¨ã—ãŸç«¯æœ«ã¯Android8ç³»ã®Galaxyã¨ã€Android7ç³»ã®Xperiaã®è¨ˆ2å°ã«ãªã‚Šã¾ã™ã€‚
ç¢ºèªã«ä½¿ç”¨ã—ãŸã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆ adb shellã‚³ãƒãƒ³ãƒ‰ã‹ã‚‰èµ·å‹•æ™‚é–“ã‚’èª¿ã¹ã‚‹ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚è¨ˆ11å›startup timeã‚’ç¢ºèªã™ã‚‹äº‹ãŒã§ãã¾ã™ã€‚
for i in {0..10} do adb shell am start -S -W jp.hoge/.ui.main.MainActivity -c android.intent.category.LAUNCHER -a android.intent.action.MAIN &amp;gt;&amp;gt; hoge.txt sleep 10 done ä¸‹è¨˜ã‚’å‚è€ƒã«ã—ã¾ã—ãŸã€‚
 https://developer.android.com/topic/performance/vitals/launch-time  fastInitæœ‰åŠ¹ã®å ´åˆ ä¸‹è¨˜ã‚’build.gradleã«è¿½åŠ ã—ã¾ã™ã€‚
kapt { javacOptions { option(&amp;#34;-Adagger.fastInit=enabled&amp;#34;) } } çµæœ:
å¹³å‡: 1609ms fastInitç„¡åŠ¹ã®å ´åˆ çµæœ:
å¹³å‡: 1607ms ã¾ã¨ã‚ ã»ã¼å¤‰ã‚ã‚‰ãªã„æ•°å­—ãŒå‡ºã¦ãã¦ã—ã¾ã„ã¾ã—ãŸã€‚æ‚²ã—ã„ã€‚ Daggerç”Ÿæˆã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã‚‹é™ã‚Šã ã¨ã€æœ€åˆã®Componentã®createã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ComponentãŒæŒã£ã¦ã„ã‚‹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®åˆæœŸåŒ–ãŒè¡Œã‚ã‚Œã¦ã„ãªã‹ã£ãŸã®ã§ã€æ—©ããªã‚Šãã†ã ãªã¨æ€ã£ãŸã‚“ã§ã™ãŒã€å®Ÿéš›ã«ã¯ã»ã¼å¤‰ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚
èŠ³ã—ããªã„çµæœã«ãªã£ãŸæ¨æ¸¬ã¨ã—ã¦
 æ‹…å½“ã‚¢ãƒ—ãƒªã®Daggerã®æ›¸ãæ–¹ãŒæ­£ã—ããªã„ã‹ã‚‰ã“ã®çµæœã«ãªã£ãŸ?  è¦èª¿æŸ»ã€ã—ã‹ã—ä¸€èˆ¬çš„ãªAndroid-Daggerã‚’ä½¿ã£ãŸæ›¸ãæ–¹ã‚’ã—ã¦ã„ã‚‹ã®ã§æ­£ã—ã„ã¯ãš   ç¢ºèªã«ä½¿ç”¨ã—ãŸã‚³ãƒãƒ³ãƒ‰ãŒè‰¯ããªã„ã®ã‹ã‚‚?  ãªã«ã‹åˆ†ã‹ã£ãŸã‚‰è¿½è¨˜ã—ã¾ã™ã€ã‚‚ã—ãã¯é–“é•ã£ã¦ã„ã‚‹ç‚¹ãŒã‚ã‚Œã°ã”æŒ‡æ‘˜ã„ãŸã ã‘ã‚Œã°å¹¸ã„ã§ã™ğŸ˜Š</description>
    </item>
    
    <item>
      <title>Kotlin: Inline Functionã ã‘ã§ã¯ãƒ¡ã‚½ãƒƒãƒ‰ã‚«ã‚¦ãƒ³ãƒˆã¯æ¸›ã‚‰ãªã„</title>
      <link>https://satoshun.github.io/2018/08/inline_function_decrease_method_count/</link>
      <pubDate>Thu, 02 Aug 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/08/inline_function_decrease_method_count/</guid>
      <description>çµè«–  R8/Proguardã‚’ã¡ã‚ƒã‚“ã¨ä½¿ã†  èƒŒæ™¯ Inline Functionã‚’ä½¿ã†ã¨ã€é–¢æ•°ãŒã‚¤ãƒ³ãƒ©ã‚¤ãƒ³åŒ–ã•ã‚Œã‚‹ã®ã§ã€è‡ªå‹•çš„ã«ãƒ¡ã‚½ãƒƒãƒ‰æ•°ãŒ1æ¸›ã‚‹ã¨æ€ã£ã¦ã„ã¾ã—ãŸã€‚ã‘ã©ã€ãã‚“ãªã“ã¨ã¯ãªã‹ã£ãŸã¨ã„ã†è©±ã§ã™ã€‚
å®Ÿéš›ã«å‹•ã‹ã—ã¦ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚ä¸‹è¨˜ã®é–¢æ•°ã‚’è¿½åŠ ã—ã€Build APK â†’ Analyze APKã§classes.dexã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚«ã‚¦ãƒ³ãƒˆã‚’èª¿ã¹ã¦ã¿ã¾ã™ã€‚
ã¾ãšã¯ã€R8ç„¡ã—ã§èª¿ã¹ã¦ã¿ã¾ã™ã€‚
fun hoge() { println(&amp;#34;hogehoge&amp;#34;) } å½“ç„¶ãƒ¡ã‚½ãƒƒãƒ‰ã‚«ã‚¦ãƒ³ãƒˆãŒ1å¢—ãˆã¦ã„ã¾ã™ã€‚
æ¬¡ã«ã€inlineã‚’ä»˜ã‘ã¦ã¿ã¾ã™ã€‚
inline fun hoge() { println(&amp;#34;hogehoge&amp;#34;) } ã“ã¡ã‚‰ã‚‚ãƒ¡ã‚½ãƒƒãƒ‰ã‚«ã‚¦ãƒ³ãƒˆãŒ1å¢—ãˆã¾ã—ãŸã€‚ show Kotlin Bytecode â†’ Decompileã‚’ä½¿ã„ã€decompileã•ã‚ŒãŸJavaãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¦‹ã‚‹ã¨ã€inline hogeãƒ¡ã‚½ãƒƒãƒ‰ã«å¯¾å¿œã—ãŸãƒ¡ã‚½ãƒƒãƒ‰ãŒç”Ÿæˆã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã—ãŸã€‚
@Metadata( mv = {1, 1, 10}, bv = {1, 0, 2}, k = 2, d1 = {&amp;#34;\u0000\b\n\u0000\n\u0002\u0010\u0002\n\u0000\u001a\t\u0010\u0000\u001a\u00020\u0001H\u0086\bÂ¨\u0006\u0002&amp;#34;}, d2 = {&amp;#34;hoge&amp;#34;, &amp;#34;&amp;#34;, &amp;#34;production sources for module app&amp;#34;} ) public final class MainActivityKt { public static final void hoge() { String var1 = &amp;#34;hogehoge&amp;#34;; System.</description>
    </item>
    
    <item>
      <title>Android: ContraintLayoutã§ãƒã‚¬ãƒ†ã‚£ãƒ–ãƒãƒ¼ã‚¸ãƒ³ã‚’å®Ÿç¾ã™ã‚‹</title>
      <link>https://satoshun.github.io/2018/07/constraintlayout-negative_margin/</link>
      <pubDate>Wed, 25 Jul 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/07/constraintlayout-negative_margin/</guid>
      <description>ConstraintLayoutã¯ãƒã‚¬ãƒ†ã‚£ãƒ–ãƒãƒ¼ã‚¸ãƒ³ã«å¯¾å¿œã—ã¦ã„ãªã„ãŸã‚ã€å°‘ã—ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’ä½¿ã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ ã“ã®è¨˜äº‹ã§ã¯Spaceã‚’ä½¿ã£ãŸãƒã‚¬ãƒ†ã‚£ãƒ–ãƒãƒ¼ã‚¸ãƒ³ã®å®Ÿç¾ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚
ä¾‹ ãƒã‚¬ãƒ†ã‚£ãƒ–ãƒãƒ¼ã‚¸ãƒ³ã¨åŒç­‰ã®å¤§ãã•ã‚’æŒã£ãŸSpaceã‚’å®šç¾©ã—ã¦ã€ãã“ã«Constraintã‚’è¨­å®šã™ã‚‹ã ã‘ã§ã™ã€‚
&amp;lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&amp;#34;http://schemas.android.com/apk/res/android&amp;#34; xmlns:app=&amp;#34;http://schemas.android.com/apk/res-auto&amp;#34; xmlns:tools=&amp;#34;http://schemas.android.com/tools&amp;#34; android:layout_width=&amp;#34;match_parent&amp;#34; android:layout_height=&amp;#34;match_parent&amp;#34; android:clipToPadding=&amp;#34;false&amp;#34; android:padding=&amp;#34;80dp&amp;#34;&amp;gt; &amp;lt;Space android:id=&amp;#34;@+id/negative&amp;#34; android:layout_width=&amp;#34;15dp&amp;#34; android:layout_height=&amp;#34;15dp&amp;#34; app:layout_constraintStart_toStartOf=&amp;#34;parent&amp;#34; app:layout_constraintTop_toTopOf=&amp;#34;parent&amp;#34; /&amp;gt; &amp;lt;ImageView android:id=&amp;#34;@+id/icon&amp;#34; android:layout_width=&amp;#34;30dp&amp;#34; android:layout_height=&amp;#34;30dp&amp;#34; android:contentDescription=&amp;#34;icon&amp;#34; app:layout_constraintBottom_toBottomOf=&amp;#34;@id/negative&amp;#34; app:layout_constraintEnd_toEndOf=&amp;#34;@id/negative&amp;#34; tools:src=&amp;#34;@tools:sample/avatars&amp;#34; /&amp;gt; &amp;lt;/androidx.constraintlayout.widget.ConstraintLayout&amp;gt;   ç°¡å˜ã«èª¬æ˜ã™ã‚‹ã¨ã€Spaceã«15pxã‚’æŒ‡å®šã—ã¦ã€bottom, endã«å¯¾ã—ã¦constraintã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€ãƒã‚¬ãƒ†ã‚£ãƒ–ãƒãƒ¼ã‚¸ãƒ³ã‚’é”æˆã—ã¦ã„ã¾ã™ã€‚ ä¸Šè¨˜ã®ä¾‹ã ã¨ã€
 android:layout_marginStart=&amp;quot;-15px&amp;quot; android:layout_marginTop=&amp;quot;-15px&amp;quot;  ã¨åŒç­‰ã®æŒ¯ã‚‹èˆã„ã‚’ã—ã¦ã„ã¾ã™ã€‚
ã¾ã¨ã‚ ConstraintLayoutã§ã¯ãƒã‚¤ãƒ†ã‚£ãƒ–ã§ãƒã‚¬ãƒ†ã‚£ãƒ–ãƒãƒ¼ã‚¸ãƒ³ã«å¯¾å¿œã—ã¦ã„ãªã„ãŸã‚ã€Spaceã‚’ä½¿ã£ãŸã€ã‚„ã‚„ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«ãªæ–¹æ³•ã§å®Ÿç¾ã™ã‚‹ã®ãŒè‰¯ã„ã¨æ€ã‚ã‚Œã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>Kotlin: typealiasã‚’ä½¿ã£ã¦ã‚ã‚“ã©ã†ãªã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’çœç•¥ã™ã‚‹</title>
      <link>https://satoshun.github.io/2018/07/typealias_omit_annotation/</link>
      <pubDate>Thu, 12 Jul 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/07/typealias_omit_annotation/</guid>
      <description>Kotlinã§ã¯typealiasã¨å‘¼ã°ã‚Œã‚‹ã€æ—¢å­˜ã®ã‚¿ã‚¤ãƒ—ã«å¯¾ã—ã¦åˆ¥åã‚’ã¤ã‘ã‚‹æ©Ÿèƒ½ãŒã‚ã‚Šã¾ã™ã€‚ https://kotlinlang.org/docs/reference/type-aliases.html
å…¸å‹çš„ãªä½¿ã„æ–¹ã¨ã—ã¦ã€ä¸‹ã®ã‚ˆã†ãªè¤‡é›‘ãªå‹ã«åå‰ã‚’ã¤ã‘ã‚‹ã¨å¯èª­æ€§ãŒé«˜ããªã‚Šã¾ã™ã€‚
typealias MyHandler = (Int, String, Any) -&amp;gt; Unit ã•ã‚‰ã«typealiasã¯ã€ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã¤ã‘ã‚‹ã“ã¨ã‚‚å‡ºæ¥ã¾ã™ã€‚
typealias NonWildcardList&amp;lt;T&amp;gt; = List&amp;lt;@JvmSuppressWildcards T&amp;gt; JvmSuppressWildcardsã¯Dagger(å‚è€ƒãƒªãƒ³ã‚¯)ã‚„retrofit(å‚è€ƒãƒªãƒ³ã‚¯)ã‚’ä½¿ã£ã¦ã„ã‚‹ã¨ã€ä½¿ã‚ã–ã‚‹ã‚’ãˆãªã„ã‚±ãƒ¼ã‚¹ãŒã‚ã‚‹ã®ã§ã€typealiasã§å®šç¾©ã—ã¦ã„ãŠã‘ã°å¯èª­æ€§é«˜ãã€æ¥½ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>Dagger-Androidã§UserScopeã®ã‚ˆã†ãªã‚«ã‚¹ã‚¿ãƒ ã®Scopeã‚’ä½¿ã„ã€ç‰¹å®šã®Activityé–“ã®ã¿ã§åŒä¸€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½¿ã†æ–¹æ³•</title>
      <link>https://satoshun.github.io/2018/06/dagger-android-with_custom_scope/</link>
      <pubDate>Tue, 26 Jun 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/06/dagger-android-with_custom_scope/</guid>
      <description>Daggerã‚’ä½¿ã„ã€è¤‡æ•°ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹é–“ã§åŒä¸€ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½¿ã†æ™‚ã¯ã€ã‚¹ã‚³ãƒ¼ãƒ—ã‚’ä½¿ã†ã“ã¨ã§å®Ÿç¾ã§ãã¾ã™ã€‚ Androidã§ã¯ã€ã™ã¹ã¦ã®Activityã§å…±é€šã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½¿ã†ã«ã¯ Singletonã‚¹ã‚³ãƒ¼ãƒ—ã¨AppComponentã‚’çµ„ã¿åˆã‚ã›ã¦ä½¿ã†æ–¹æ³•ãŒã‚ˆãçŸ¥ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚ ã—ã‹ã—ã€__ç‰¹å®š__ã®Activityé–“ã§ã®ã¿å…±é€šã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½¿ã„ãŸã„å ´åˆã«ã¯ã“ã®æ–¹æ³•ã¯ä½¿ãˆã¾ã›ã‚“ã€‚Singletonã ã¨__ã™ã¹ã¦__ã®Activityé–“ã§å…±é€šã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒä½¿ãˆã¦ã—ã¾ã„ã¾ã™ã€‚
ã“ã®è¨˜äº‹ã§ã¯ã€Dagger-Androidã‚’ä½¿ã£ãŸã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’ãƒ™ãƒ¼ã‚¹ã«ã€ã€Œç‰¹å®šã®Activityé–“ã®ã¿ã§åŒä¸€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½¿ã†æ–¹æ³•ã€ã‚’èª¬æ˜ã—ã¾ã™ã€‚ ã¾ãŸã€åŸºæœ¬çš„ãªDaggerã®ä½¿ã„æ–¹ã¯çŸ¥ã£ã¦ã„ã‚‹å‰æã§èª¬æ˜ã—ã¦ã„ãã¾ã™ã€‚
ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ã“ã¡ã‚‰ã«ãªã‚Šã¾ã™ã€‚ ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã‚‹ã¨ç†è§£ãŒã‚ˆã‚Šæ·±ã¾ã‚‹ã¨æ€ã†ã®ã§ã€ãœã²ã”è¦§ã«ãªã£ã¦ãã ã•ã„ğŸ˜Š
 ã§ã¯èª¬æ˜ã—ã¦ã„ãã¾ã™ã€‚ä»Šå›ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã®ç›®æŒ‡ã™ã¨ã“ã‚ã¯
 UserScopeã‚’å®šç¾©ã—ã€MainActivityã€UserScopedActivityã§åŒä¸€ã®UserManagerã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½¿ç”¨ã™ã‚‹  ã¨ã—ã¾ã™ã€‚
ã¾ãšæœ€åˆã«UserScopeã‚’å®šç¾©ã—ã¾ã™ã€‚
@Scope @MustBeDocumented @Retention(AnnotationRetention.RUNTIME) annotation class UserScope æ¬¡ã«UserSubcomponentã‚’ä½œã‚Šã¾ã™ã€‚
@UserScope @Subcomponent interface UserSubcomponent { @Subcomponent.Builder interface Builder { fun build(): UserSubcomponent } val activityInjector: DispatchingAndroidInjector&amp;lt;Activity&amp;gt; } ã“ã“ã§ã¯ã€UserSubcomponentã«UserScopeã‚¹ã‚³ãƒ¼ãƒ—ã‚’æŒãŸã›ã¦ã„ã¾ã™ã€‚ ã“ã®ã‚ˆã†ã«æ›¸ãã“ã¨ã§ã€Subcomponentã¨Scopeã‚’çµã³ã¤ã‘ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
æ¬¡ã«AppComponentã‚’ä½œã‚Šã¾ã™ã€‚
@Singleton @Component( modules = [ AndroidSupportInjectionModule::class ] ) interface AppComponent : AndroidInjector&amp;lt;App&amp;gt; { @Component.Builder interface Builder { @BindsInstance fun application(application: App): Builder fun build(): AppComponent } override fun inject(app: App) // AppComponentã¨UserSubcomponentã‚’çµã³ã¤ã‘ã‚‹  val userComponentBuilder: UserSubcomponent.</description>
    </item>
    
    <item>
      <title>Android: Navigationã®safeargs Gradle pluginã ã‘ã‚’ä½¿ã£ã¦ã‚‚ã„ã„ã‹ã‚‚ã—ã‚Œãªã„</title>
      <link>https://satoshun.github.io/2018/05/navigation-only_use_safe_args/</link>
      <pubDate>Sun, 20 May 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/05/navigation-only_use_safe_args/</guid>
      <description>Google I/O 2018ã§JetpackãŒç™»å ´ã—ã€æ–°ãŸã«Navigationãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒå°å…¥ã•ã‚Œã¾ã—ãŸã€‚ ã–ã£ãã‚Šã¨èª¬æ˜ã™ã‚‹ã¨ã€ç”»é¢ã®é·ç§»ã®å®Ÿè£…ã‚’åŠ©ã‘ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ãªã£ã¦ã„ã¾ã™ã€‚å®Ÿè£…çš„ã«ã¯ã€FragmentTransactionã‚’ç›´æ¥ã„ã˜ã‚‹ã“ã¨ãŒãªããªã‚‹ã¨ã„ã£ãŸãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚Šã¾ã™ã€‚
ã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ©Ÿèƒ½ã«ã€safeargsã¨ã„ã†ã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚ŒãŒä¾¿åˆ©ã§ã€æœ€åˆã¯ã“ã®æ©Ÿèƒ½ã ã‘ã‚’ä½¿ã†ã®ã‚‚ã„ã„ã®ã§ã¯? ã¨æ€ã£ã¦ã„ã‚‹ã®ã§ãã®ç´¹ä»‹ã§ã™ã€‚
safeargsã‚’ä½¿ã£ã¦ã¿ã‚‹ ä¸€èˆ¬çš„ã«Fragmentã«é©å½“ãªå€¤ã‚’æ¸¡ã™ã¨ãã¯Bundleã‚’é€šã—ã¦æ¸¡ã—ã¾ã™ã€‚
// å‘¼ã³å‡ºã—å´ val bundle = Bundle() bundle.putInt(&amp;#34;step&amp;#34;, 10) // å‘¼ã³å‡ºã•ã‚Œå´ val step = arguments?.getInt(&amp;#34;step&amp;#34;) ã“ã‚Œã®å•é¡Œç‚¹ã¨ã—ã¦ã¯ã€typesafeã§ç„¡ã„ã¨ã“ã‚ã§ã™ã€‚ä¾‹ãˆã°ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ãªã©ã§ã€ç‰‡æ–¹ã®æ–‡å­—åˆ—ã‚’&amp;quot;step2&amp;quot;ã«ã—ã¦ã—ã¾ã†ã¨ã€ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚
ã“ã‚Œã‚’è§£æ±ºã«ã™ã‚‹ãŸã‚ã«Navigationã§ã¯safe argsã¨ã„ã†æ©Ÿèƒ½ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚ ã“ã‚Œã¯ã€DataBindingã®ã‚ˆã†ã«ã€ã‚¯ãƒ©ã‚¹ã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ã§typesafeã‚’å®Ÿç¾ã—ã¾ã™ã€‚
&amp;lt;navigation xmlns:android=&amp;#34;http://schemas.android.com/apk/res/android&amp;#34; xmlns:app=&amp;#34;http://schemas.android.com/apk/res-auto&amp;#34; xmlns:tools=&amp;#34;http://schemas.android.com/tools&amp;#34;&amp;gt; &amp;lt;fragment android:name=&amp;#34;com.example.android.codelabs.navigation.HogeFragment&amp;#34; android:label=&amp;#34;Hoge&amp;#34;&amp;gt; &amp;lt;argument android:name=&amp;#34;step&amp;#34; app:type=&amp;#34;integer&amp;#34; android:defaultValue=&amp;#34;1&amp;#34;/&amp;gt; &amp;lt;/fragment&amp;gt; &amp;lt;/navigation&amp;gt; ã¨navigationã‚’è¨˜è¿°ã™ã‚‹ã¨ã€
public class HogeFragmentArgs { private int step = 1; private HogeFragmentArgs() { } public static HogeFragmentArgs fromBundle(Bundle bundle) { HogeFragmentArgs result = new HogeFragmentArgs(); if (bundle.containsKey(&amp;#34;step&amp;#34;)) { result.step = bundle.getInt(&amp;#34;step&amp;#34;); } return result; } public int getStep() { return step; } public Bundle toBundle() { Bundle __outBundle = new Bundle(); __outBundle.</description>
    </item>
    
    <item>
      <title>Android: æ‹¡å¼µé–¢æ•°ã§LiveDataã®Single Eventã‚’æ‰±ã†</title>
      <link>https://satoshun.github.io/2018/05/singlelivedata/</link>
      <pubDate>Sat, 19 May 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/05/singlelivedata/</guid>
      <description>LiveDataã¯æœ€æ–°ã®å€¤ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹ãŸã‚ã€ã‚¨ãƒ©ãƒ¼å€¤ã®å–æ‰±ãªã©ã«å›°ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ é©å½“ãªã‚¯ãƒ©ã‚¹ã‚’ä½œã‚‹ã®ã‚‚ã„ã„ã®ã§ã™ãŒã€æ‹¡å¼µé–¢æ•°ã§è¡¨ç¾ã™ã‚‹ã“ã¨ã‚‚å‡ºæ¥ã‚‹ã®ã§ãã®ç´¹ä»‹ã§ã™ã€‚
å®šç¾©ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
fun &amp;lt;T&amp;gt; singleLiveData(): MutableLiveData&amp;lt;T&amp;gt; { // skipç”¨ã®åˆæœŸå€¤ã‚’å…¥ã‚Œã¦ãŠã  return MutableLiveData&amp;lt;T&amp;gt;().also { it.value = null } } fun &amp;lt;T&amp;gt; LiveData&amp;lt;T&amp;gt;.observeSingle(owner: LifecycleOwner, observer: ((T?) -&amp;gt; Unit)) { // æœ€åˆã®å€¤ã¯å¸¸ã«skipã™ã‚‹ã“ã¨ã§ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ç„¡è¦–ã™ã‚‹  val firstIgnore = AtomicBoolean(true) this.observe(owner, Observer { if (firstIgnore.getAndSet(false)) return@Observer observer(it) }) } ä½¿ã†æ™‚ã¯ã“ã‚“ãªæ„Ÿã˜ã§ä½¿ã„ã¾ã™ã€‚
// TestViewModel.kt class TestViewModel: ViewModel() { val errorEvent = singleLiveData&amp;lt;String&amp;gt;() } // TestActivity.kt testViewModel = ViewModelProviders.of(this).get(TestViewModel::class.java) testViewModel.errorEvent.observeSingle(activity) { Log.d(&amp;#34;one&amp;#34;, it.toString()) } ãƒ¡ãƒªãƒƒãƒˆã¯ã‚µãƒ–ã‚¯ãƒ©ã‚¹ã‚’ä½œã‚‰ãšã«æ¸ˆã‚€ã¨ã“ã‚ã§ã™ã€‚
å‚è€ƒ  https://github.com/googlesamples/android-architecture/blob/dev-todo-mvvm-live/todoapp/app/src/main/java/com/example/android/architecture/blueprints/todoapp/SingleLiveEvent.java https://medium.</description>
    </item>
    
    <item>
      <title>CoroutineBindingãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½œã‚Šã¾ã—ãŸ</title>
      <link>https://satoshun.github.io/2018/05/coroutinebinding-intro/</link>
      <pubDate>Sat, 19 May 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/05/coroutinebinding-intro/</guid>
      <description>CoroutineBindingãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½œã£ãŸã®ã§ãã®ç´¹ä»‹ã§ã™ã€‚ https://github.com/satoshun/CoroutineBinding
Androidé–‹ç™ºã§Coroutineã®æµã‚ŒãŒæ¥ã¦ã„ã‚‹ã¨æ€ã£ã¦ã„ã¦ã€RxBindingã®ã‚ˆã†ãªæ„Ÿã˜ã§ã€ Coroutineãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ã«Viewã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’å—ã‘å–ã‚ŒãŸã‚‰ä¾¿åˆ©ãã†ã ãªã¨æ€ã„ä½œã‚Šã¾ã—ãŸã€‚
ä½¿ã„æ–¹ ä¾‹ãˆã°clickã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’å—ã‘å–ã‚ŠãŸã„ã¨ã—ã¾ã™ã€‚ CoroutineBindingã§ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ãã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
val root = findViewById&amp;lt;ViewGroup&amp;gt;(R.id.root) launch(UI) { for (click in root.clicks()) { Log.d(&amp;#34;clicked&amp;#34;, click.toString()) } } RxBindingã®ã‚ˆã†ã«ä½¿ã†ã“ã¨ãŒå‡ºæ¥ã¾ã™! ä»–ã®APIã«é–¢ã—ã¦ã‚‚RxBindingã«æº–æ‹ ã—ã¦ã„ã‚‹ãŸã‚ã€RxBindingã‚’ä½¿ã£ãŸã“ã¨ãŒã‚ã‚‹äººã¯è‡ªç„¶ã«ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚
ã¾ã¨ã‚  Coroutineã‚’ä½¿ã£ã¦ã„ã‚‹äººãªã‚‰ä¾¿åˆ©ã«ä½¿ãˆã‚‹ã¨æ€ã†ã®ã§ã€ãœã²ä½¿ã£ã¦ä¸‹ã•ã„! https://github.com/satoshun/CoroutineBinding ä½•ã‹ã‚ã‚Œã°issueã‚„ã€PRã‚’è²°ãˆã‚‹ã¨å¬‰ã—ã„ã§ã™  </description>
    </item>
    
    <item>
      <title>å‹ã®å£°</title>
      <link>https://satoshun.github.io/2018/05/type_feeling/</link>
      <pubDate>Sat, 05 May 2018 03:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/05/type_feeling/</guid>
      <description>Javaãªã©ã®ã‚¯ãƒ©ã‚¹ãƒ™ãƒ¼ã‚¹ã®è¨€èªã§ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãã¨ãã«ã€å®Ÿè£…ãŒæœ€åˆã«æ€ã„æµ®ã‹ã¶äººã¯å‹ã®å£°ã‚’èã‘ã¦ã„ã¾ã›ã‚“ã€‚
ã¾ãšã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘è¨€èªã®ãƒ¡ãƒªãƒƒãƒˆã‚’è€ƒãˆã¾ã—ã‚‡ã†ã€‚ãƒ¡ãƒªãƒƒãƒˆã®1ã¤ã«å®Ÿè£…ã§ã¯ãªãã€æŒ¯ã‚‹èˆã„ã«å¯¾ã—ã¦ä¾å­˜ã§ãã‚‹ã¨ã„ã†ã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚ãƒãƒªãƒ¢ãƒ¼ãƒ•ã‚£ã‚ºãƒ ã¨å‘¼ã°ã‚Œã‚‹ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã§ã™ã€‚ æŒ¯ã‚‹èˆã„ã¯æŠ½è±¡ã€å®Ÿè£…ã¯å…·è±¡ã¨è€ƒãˆã‚‰ã‚Œã¾ã™ã€‚å…·è±¡ã¯ç¢ºå®šã™ã‚‹ã“ã¨ã§ã™ã€‚æœªæ¥ã¯ã“ã®ç¬é–“ã«æ±ºã¾ã‚Šã¾ã™ã€‚æŠ½è±¡ã¯ä¿ç•™ã™ã‚‹ã“ã¨ã§ã™ã€‚ç´„æŸã•ã‚ŒãŸæœªæ¥ã¯å¾…ã£ã¦ã„ã¾ã›ã‚“ã€‚ã—ã‹ã—ã€æœŸå¾…ã—ãŸæœªæ¥ã¯ä½œã‚Šå‡ºã™ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
å‹ã¯ç¢ºå®šã§ã¯ãªãã€ãã‚Œãã‚Œã®å ´é¢ã§æœŸå¾…ã—ã¦ã„ã‚‹æœªæ¥ã‚’ä½œã‚Šå‡ºã™ã‚‚ã®ã§ã™ã€‚ãã†ã™ã‚‹ã“ã¨ã§ã€æŸ”è»Ÿæ€§ã‚’å¾—ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
äººã¯å¼±ã„ç”Ÿãç‰©ã§ã™ã€‚æœªæ¥ã‚’ç¢ºå®šã•ã›ãŸããªã‚Šã¾ã™ã€‚ã—ã‹ã—ã€æœªæ¥ã‚’ç¢ºå®šã•ã›ã‚‹ã“ã¨ã¯ã‚ãªãŸã®å‚²æ…¢ã§ã™ã€‚æã‚Œãšã«å‹ã®å£°ã‚’èãã€æŠ½è±¡ã«æ³¨ç›®ã—ã¦ãã ã•ã„ã€‚ãã†ã™ã‚Œã°å‹ã¨ã¤ãªãŒã‚Šã€ä¸–ç•Œã¨ã¤ãªãŒã‚Œã¾ã™ã€‚ã‚ãªãŸã®ã‚³ãƒ¼ãƒ‰ã«æŸ”è»Ÿæ€§ã€æ‹¡å¼µæ€§ã€ãã—ã¦ç„¡é™ã®å¯èƒ½æ€§ãŒã‚„ã©ã‚Šã¾ã™ã€‚ã‚ãªãŸã¯ä¸€äººã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

to be continued.</description>
    </item>
    
    <item>
      <title>Kotlin: ãƒ­ãƒ¼ã‚«ãƒ«ã§æ˜ç¤ºçš„ã«å‹ã‚’å®£è¨€ã™ã‚‹ã“ã¨ã«ã¤ã„ã¦</title>
      <link>https://satoshun.github.io/2018/04/about_writing_type_in_kotlin/</link>
      <pubDate>Mon, 16 Apr 2018 22:50:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/04/about_writing_type_in_kotlin/</guid>
      <description>ãƒã‚¨ãƒ ã§ã™ã€‚
çµè«– åŸºæœ¬çš„ã«ãƒ­ãƒ¼ã‚«ãƒ«ã§æ˜ç¤ºçš„ã«å‹ã‚’å®£è¨€ã™ã‚‹ã®ã¯å¥½ã¾ã—ããªã„
å•é¡Œ Kotlinã§ã¯val(var)ã§å¤‰æ•°å®šç¾©ã™ã‚‹ã“ã¨ãŒã§ãã€å‹å®£è¨€ã‚’çœç•¥ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
val userName = dataSource.getUserName() å‹å®£è¨€ã™ã‚‹ã®ã¨ã€çœç•¥ã™ã‚‹ã®ã©ã¡ã‚‰ãŒè‰¯ã„ã®ã‹è€ƒãˆã‚‹ã¨ã€å¤šãã®å ´åˆã€å‹å®£è¨€ã‚’ã—ãªã„ã»ã†ãŒå„ªã‚Œã¦ã„ã‚‹ã¨æ€ã„ã¾ã™ã€‚ãªãœã‹ã¨ã„ã†ã¨ã€å‹å®£è¨€ãŒå¿…è¦ã¨ã„ã†ã“ã¨ã¯ã€å‹å®£è¨€ã‚’ã—ãªã„ã¨äººé–“ãŒç†è§£ã§ããªã„ã»ã©è¤‡é›‘ãªã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ã‚‹ã“ã¨ã‚’æ„å‘³ã™ã‚‹ã‹ã‚‰ã§ã™ã€‚é©åˆ‡ãªãƒ¡ã‚½ãƒƒãƒ‰ã€é©åˆ‡ãªã‚¯ãƒ©ã‚¹ãŒæ¬ ã‘ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
Kotlinã«ãŠã„ã¦å‹å®£è¨€ã‚’æ›¸ãã“ã¨ã¯ã‚³ãƒ¡ãƒ³ãƒˆã‚’æ›¸ãã“ã¨ã«ç­‰ã—ã„ã¨æ€ã„ã¾ã™ã€‚å¤šãã®å ´åˆã¯å†—é•·ã§ã™ã€‚
ã¾ã¨ã‚  ãƒ­ãƒ¼ã‚«ãƒ«ã§å‹å®£è¨€ãŒæ¬²ã—ããªã‚‹ã‚³ãƒ¼ãƒ‰ãŒã‚ã£ãŸã‚‰ã€ãã‚Œã¯è¤‡é›‘ã™ãã‚‹ã‚³ãƒ¼ãƒ‰ã®åŒ‚ã„ãŒã™ã‚‹  </description>
    </item>
    
    <item>
      <title>Android: Data Bindingã‚’ä½¿ã£ã¦ã„ã‚‹ã¨æœ¬å½“ã®ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ãŒå‡ºãªã„è©± &#43; å¯¾å‡¦æ³•</title>
      <link>https://satoshun.github.io/2018/04/android_improve-error-log/</link>
      <pubDate>Thu, 12 Apr 2018 07:10:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/04/android_improve-error-log/</guid>
      <description>å•é¡Œ Androidé–‹ç™ºã§Data Bindingã‚’ä½¿ã£ã¦ã„ã¦ã€ã•ã‚‰ã«Daggerãªã©ã®kaptã‚’å¿…è¦ã¨ã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã£ã¦ã„ã‚‹ã¨ã€ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ãŒéå¸¸ã«è¦‹ã«ãã„ or ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã«æœ¬å½“ã®å•é¡ŒãŒå‡ºã¦ã“ãªã„ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚
ç†ç”±ã¨ã—ã¦ã¯ã€Data Bindingã®ç”ŸæˆãŒå¤±æ•—ã™ã‚‹ã¨ã€MainActivityBindingã¿ãŸã„ãªã‚¯ãƒ©ã‚¹ãŒç”Ÿæˆã•ã‚Œãªã„ã®ã§ã€ã„ãŸã‚‹ã¨ã“ã‚ã§Binding ã‚¯ãƒ©ã‚¹ã®å‚ç…§ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã™ã€‚ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã‚¨ãƒ©ãƒ¼ã‚’100è¡Œ?ã—ã‹å‡ºã•ãªã„ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ãŸã‚ã€å‚ç…§ã‚¨ãƒ©ãƒ¼ã ã‘ã§ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚¨ãƒ©ãƒ¼è¡Œæ•°ã‚’è¶…ãˆã¦ã—ã¾ã„ã€æœ¬å½“ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºåŠ›ã•ã‚Œãªã„ã‚±ãƒ¼ã‚¹ãŒã‚ã‚Šã¾ã™ã€‚(å¤§è¦æ¨¡ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã ã¨èµ·ã“ã‚ŠãŒã¡ã ã¨æ€ã„ã¾ã™)
è§£æ±ºæ³• å…¨ã¦ã®ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ãŒæ¬²ã—ã„æ™‚ã¯ã€build.gradleã«ä»¥ä¸‹ã®è¨˜è¿°ã‚’ã™ã‚Œã°è‰¯ã„ã§ã™
kapt { javacOptions { option(&amp;#34;-Xmaxerrs&amp;#34;, 5000) } } ã“ã‚Œã¯ã€ã‚¨ãƒ©ãƒ¼ã®è¡Œæ•°ã‚’å¢—ã‚„ã™ãŸã‚ã®è¨­å®šã§ã™ã€‚5000ã¯ã¨ã‚Šã‚ãˆãšã§ã‹ã„å€¤ã‚’å…¥ã‚Œã¦ãŠã‘ã°å¤§ä¸ˆå¤«ã ã‚ã†ã¨ã„ã†è€ƒãˆã§ã™ã€‚
ã“ã‚Œã‚’å…¥ã‚ŒãŸã“ã¨ã§ã€å¼Šãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã§ã¯Support libraryã‚’27.1.1ã«ä¸Šã’ã‚‹ã“ã¨ã«è‹¦åŠ´ã—ã¦ã„ãŸã®ã§ã™ãŒã€è§£æ±ºã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã—ãŸã€‚
before(ä¸€éƒ¨ãƒ­ã‚°ä¿®æ­£ã—ã¦ã„ã¾ã™)
... // é•·ã„ã‚¨ãƒ©ãƒ¼ãƒ­ã‚° ... ... symbol: class DataBindingComponent location: class ActivityMainBinding e: ActivityMainBinding.java:91: error: cannot find symbol @Nullable ViewGroup root, boolean attachToRoot, @Nullable DataBindingComponent component) { ^ symbol: class DataBindingComponent location: class ActivityMainBinding e: ActivityMainBinding.java:102: error: cannot find symbol @Nullable DataBindingComponent component) { ^ symbol: class DataBindingComponent location: class ActivityMainBinding :app:kaptProductDebugKotlin FAILED after</description>
    </item>
    
    <item>
      <title>Activityã‚„Fragmentã«ã‚³ãƒ¡ãƒ³ãƒˆã‚’æ›¸ãã“ã¨ã«ã¤ã„ã¦</title>
      <link>https://satoshun.github.io/2018/04/about_writing_comment/</link>
      <pubDate>Thu, 05 Apr 2018 00:10:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/04/about_writing_comment/</guid>
      <description>ãƒã‚¨ãƒ ã§ã™ã€‚æœ€è¿‘(2018å¹´4æœˆç¾åœ¨)æ€ã£ã¦ã„ã‚‹ã“ã¨ãªã®ã§ã€ä»Šå¾Œè€ƒãˆãŒå¤‰ã‚ã‚‹å¯èƒ½æ€§ã¯å¤§ã„ã«ã‚ã‚Šã¾ã™ã€‚
ä¾‹ãˆã°ä»¥ä¸‹ã®ã‚ˆã†ãªActivityãŒã‚ã‚‹ã¨ã—ã¾ã™ã€‚
class HogeActivity : Activity() { ... ... private fun isHeavyUser(loginCount: Int, firstAccess: Boolean) : Boolean() { return firstAccess || (loginCount &amp;gt;= 10 &amp;amp;&amp;amp; loginCount &amp;lt;= 100) } } ã“ã‚Œã‚’è¦‹ãŸæ™‚ã€ã€Œãªã‚“ã§ loginCount &amp;lt;= 100ã«ã—ã¦ã„ã‚‹ã®? 100å›ä»¥ä¸Šãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã‚‹ã‚“ã ã‹ã‚‰ãƒ˜ãƒ“ãƒ¼ãƒ¦ãƒ¼ã‚¶ã‚„ã‚“?ã€ ã£ã¦æ€ã†å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ ã—ãŸããªã‚Šã¾ã™ã€‚
class HogeActivity : Activity() { private fun isHeavyUser(loginCount: Int, firstAccess: Boolean) : Boolean() { // 100å›ä»¥ä¸Šãƒ­ã‚°ã‚¤ãƒ³ã—ãŸå ´åˆã¯è¶…ãƒ˜ãƒ“ãƒ¼ãƒ¦ãƒ¼ã‚¶ãªã®ã§100ä»¥ä¸Šã¯heavy userã§ã¯ãªã„  return firstAccess || (loginCount &amp;gt;= 10 &amp;amp;&amp;amp; loginCount &amp;lt;= 100) } } ã€Œè¶…ãƒ˜ãƒ“ãƒ¼ãƒ¦ãƒ¼ã‚¶ã£ã¦ã„ã†ã®ãŒã„ã¦ã€ãã‚Œã«ãƒ˜ãƒ“ãƒ¼ãƒ¦ãƒ¼ã‚¶ã¯å«ã¾ã‚Œã¦ã„ãªã„ã®ã­ã€‚ã€ã¨ã„ã†ã®ãŒã‚³ãƒ¡ãƒ³ãƒˆã‹ã‚‰ç†è§£ã§ãã¾ã™ã€‚
ãŸã ã€è‡ªåˆ†ã®è€ƒãˆã§ã¯ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã¯æ ¹æœ¬çš„ã«é–“é•ã£ã¦ã„ã‚‹ã¨æ€ã£ã¦ã„ã¦ã€ãã‚‚ãã‚‚Activityã§ã‚³ãƒ¡ãƒ³ãƒˆãŒå¿…è¦ãªã»ã©è¤‡é›‘ãªã“ã¨ã‚’ã—ã¦ã„ã‚‹ã®ãŒå•é¡Œã ã¨æ€ã„ã¾ã™ã€‚ ãªã‚“ã§Activityã§è¤‡é›‘ãªã“ã¨ã‚’ã—ã¦ã¯ã„ã‘ãªã„ã‹ã¨ã„ã†ã¨ã€Activtyã¯Contextã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããŸã‚Šã¨ã€ãªã‚“ã§ã‚‚å‡ºæ¥ã‚‹ã‹ã‚‰ã§ã™ã€‚ãªã‚“ã§ã‚‚å‡ºæ¥ã‚‹å±¤ã§ã„ã‚ã„ã‚ã‚„ã£ã¦ã—ã¾ã†ã¨ã€ ã„ã‚ã‚†ã‚‹fat activityå•é¡ŒãŒèµ·ã“ã£ã¦ã—ã¾ã„ã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>Android: ViewãŒã©ã®Fragmentã«å±ã—ã¦ã„ã‚‹ã‹ã‚’Viewã‹ã‚‰å–å¾—ã™ã‚‹</title>
      <link>https://satoshun.github.io/2018/01/android-how_to_get_fragment_from_view/</link>
      <pubDate>Sun, 28 Jan 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/01/android-how_to_get_fragment_from_view/</guid>
      <description>ViewãŒã©ã®Fragmentã«å±ã—ã¦ã„ã‚‹ã‹ã‚’å–å¾—ã™ã‚‹æ–¹æ³•ã®ç´¹ä»‹ã«ãªã‚Šã¾ã™ã€‚ å‰ã€…ã‹ã‚‰tagã€idä»¥å¤–ã®ä»•çµ„ã¿ã§å–å¾—å‡ºæ¥ãªã„ã‹ãªã¨è€ƒãˆã¦ã„ãŸã‚‰ã€Glideã§Viewã‹ã‚‰Fragmentã‚’å–å¾—ã™ã‚‹ã‚³ãƒ¼ãƒ‰ãŒã‚ã‚Šã¾ã—ãŸã€‚
@Nullable private Fragment findSupportFragment(@NonNull View target, @NonNull FragmentActivity activity) { tempViewToSupportFragment.clear(); findAllSupportFragmentsWithViews( activity.getSupportFragmentManager().getFragments(), tempViewToSupportFragment); Fragment result = null; View activityRoot = activity.findViewById(android.R.id.content); View current = target; while (!current.equals(activityRoot)) { result = tempViewToSupportFragment.get(current); if (result != null) { break; } if (current.getParent() instanceof View) { current = (View) current.getParent(); } else { break; } } tempViewToSupportFragment.clear(); return result; } private static void findAllSupportFragmentsWithViews( @Nullable Collection&amp;lt;Fragment&amp;gt; topLevelFragments, @NonNull Map&amp;lt;View, Fragment&amp;gt; result) { if (topLevelFragments == null) { return; } for (Fragment fragment : topLevelFragments) { // getFragment()s in the support FragmentManager may contain null values, see #1991.</description>
    </item>
    
    <item>
      <title>Kotlin: æ‹¡å¼µé–¢æ•°ã‹ã‚‰protectedãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹</title>
      <link>https://satoshun.github.io/2018/01/extension-function-with-protected/</link>
      <pubDate>Sun, 07 Jan 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/01/extension-function-with-protected/</guid>
      <description>LiveDataã®onActiveãƒ¡ã‚½ãƒƒãƒ‰ã§èª¬æ˜ã—ã¾ã™ã€‚onActiveãƒ¡ã‚½ãƒƒãƒ‰ã¯ä»¥ä¸‹ã§å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚
package android.arch.lifecycle; public abstract class LiveData&amp;lt;T&amp;gt; { protected void onActive() { } } onActiveã¯protectedã§å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚åŒä¸€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å†…ã§æ‹¡å¼µé–¢æ•°ã‚’å®šç¾©ã™ã‚‹ã“ã¨ã§ã€onActiveãƒ¡ã‚½ãƒƒãƒ‰ã«æ‹¡å¼µé–¢æ•°å†…ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹äº‹ãŒã§ãã¾ã™ã€‚
package android.arch.lifecycle fun &amp;lt;T&amp;gt; LiveData&amp;lt;T&amp;gt;.accessOnActive() { onActive() // LiveDataã‚¯ãƒ©ã‚¹ã¨åŒä¸€ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§å®šç¾©ã™ã‚‹ã“ã¨ã§ã€protectedãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ } åŒä¸€ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§å®šç¾©ã—ã¦ã„ãªã„å ´åˆã¯protectedãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ã¯å‡ºæ¥ãšã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚
package android.arch fun &amp;lt;T&amp;gt; LiveData&amp;lt;T&amp;gt;.accessOnActive() { onActive() // ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ &amp;#34;Cannot access &amp;#39;onActive&amp;#39;: it is protected in &amp;#39;LiveData&amp;#39;&amp;#34; } ãªãœã‹ã“ã®ã‚ˆã†ãªæŒ™å‹•ã«ãªã‚‹ã‹? protectedãƒ¡ã‚½ãƒƒãƒ‰ã¯åŒä¸€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å†…ã§ã‚ã‚Œã°ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã®ã§ã€æ‹¡å¼µé–¢æ•°ã‚’åŒä¸€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å†…ã§å®šç¾©ã™ã‚‹ã“ã¨ã§protectedãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚Javaã§ã‚‚åŒæ§˜ã®ãƒ«ãƒ¼ãƒ«ã§ã™ã€‚
ã¾ã¨ã‚ protectedãªãƒ¡ã‚½ãƒƒãƒ‰ã«æ‹¡å¼µé–¢æ•°å†…ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã®ã¯è¡Œå„€çš„ã«ã¯è‰¯ããªã„ã¨æ€ã†ã®ã§ã€å¥¥ã®æ‰‹æ®µã¨ã—ã¦ä½¿ã†ã®ãŒè‰¯ã•ãã†
å‚è€ƒ  https://medium.com/@dpreussler/unit-testing-activity-lifecycle-4e740f71e68a  </description>
    </item>
    
    <item>
      <title>RxJava: as, toã®é•ã„ã«ã¤ã„ã¦</title>
      <link>https://satoshun.github.io/2017/12/rx-as-to-operator/</link>
      <pubDate>Sat, 23 Dec 2017 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2017/12/rx-as-to-operator/</guid>
      <description>RxJavaã§observableå‹(Flowableã€Observableãªã©)ã‚’ä»–ã®å‹ã«å¤‰æ›ã—ãŸã„ã¨ãã«ã¯ã€toã¾ãŸã¯asã‚’ä½¿ã„ã¾ã™ã€‚
ã“ã®è¨˜äº‹ã§ã¯ãã‚Œãã‚Œã®é•ã„ã‚’èª¬æ˜ã—ã¾ã™ã€‚
toã«ã¤ã„ã¦ toã®ã‚·ã‚°ãƒ‹ãƒãƒ£ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
&amp;lt;R&amp;gt; R to(Function&amp;lt;? super Flowable&amp;lt;T&amp;gt;, R&amp;gt; converter) &amp;lt;R&amp;gt; R to(Function&amp;lt;? super Observable&amp;lt;T&amp;gt;, R&amp;gt; converter) &amp;lt;R&amp;gt; R to(Function&amp;lt;? super Maybe&amp;lt;T&amp;gt;, R&amp;gt; convert) &amp;lt;R&amp;gt; R to(Function&amp;lt;? super Single&amp;lt;T&amp;gt;, R&amp;gt; convert) &amp;lt;U&amp;gt; U to(Function&amp;lt;? super Completable, U&amp;gt; converter) public interface Function&amp;lt;T, R&amp;gt; { R apply(@NonNull T t) throws Exception; } ãã‚Œãã‚Œconverterã‚’Functionã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§æŒ‡å®šã§ãã€upstream(ã‚ªãƒªã‚¸ãƒŠãƒ«ã®Observable)ã‚’ä»»æ„ã®å‹ã«å¤‰æ›ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
asã«ã¤ã„ã¦ asã®ã‚·ã‚°ãƒ‹ãƒãƒ£ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
&amp;lt;R&amp;gt; R as(@NonNull FlowableConverter&amp;lt;T, ? extends R&amp;gt; converter) &amp;lt;R&amp;gt; R as(@NonNull ObservableConverter&amp;lt;T, ? extends R&amp;gt; converter) &amp;lt;R&amp;gt; R as(@NonNull MaybeConverter&amp;lt;T, ?</description>
    </item>
    
    <item>
      <title>Dagger: MembersInjectorã‚’ä½¿ã„ä¾å­˜ã‚’æ³¨å…¥ã™ã‚‹</title>
      <link>https://satoshun.github.io/2017/12/dagger-memberinjector/</link>
      <pubDate>Tue, 19 Dec 2017 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2017/12/dagger-memberinjector/</guid>
      <description>æ‚©ã‚“ã§ã„ãŸã“ã¨ Dagger Androidã‚’ä½¿ã„ã‚«ã‚¹ã‚¿ãƒ Viewã‚¯ãƒ©ã‚¹ã«å¯¾ã—ã¦ä¾å­˜ã‚’æ³¨å…¥ã™ã‚‹æ–¹æ³•
èƒŒæ™¯/å‰æçŸ¥è­˜ Dagger Androidã¯Activity, Fragment, Serviceãªã©ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’èµ·ç‚¹ã«ã—ã¦ä¾å­˜é–¢ä¿‚ã‚’è§£æ±ºã—ã¦ãã‚Œã¾ã™ã€‚ã—ã‹ã—ã€ã‚«ã‚¹ã‚¿ãƒ Viewã®ã‚³ãƒ³ã‚¹ã‚¿ãƒ©ã‚¯ã‚¿ã¯Android Frameworkã‹ã‚‰å‘¼ã³å‡ºã•ã‚Œã‚‹ãŸã‚ã€ ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½¿ã†ã“ã¨ã¯å‡ºæ¥ã¾ã›ã‚“ã€‚ã¨ã„ã†ã“ã¨ã¯ã‚»ãƒƒã‚¿ãƒ¼/ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½¿ã„ã‚«ã‚¹ã‚¿ãƒ Viewã«å¯¾ã—ã¦ã€ä¾å­˜ã‚’æ³¨å…¥ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
ä¸Šã®ã“ã¨ã‚’Dagger Androidã§å®Ÿç¾ã™ã‚‹ã«ã¯ã©ã†ã™ã‚Œã°è‰¯ã„ã®ã‹ã‚’è€ƒãˆã¦ã¿ã¾ã—ãŸã€‚
è§£æ±ºç­– MembersInjector&amp;lt;T&amp;gt;ã‚’ä½¿ã„ä¾å­˜ã‚’æ³¨å…¥ã™ã‚‹æ–¹æ³•ãŒè‰¯ã„ã®ã§ã¯ã¨æ€ã£ã¦ã„ã¾ã™ã€‚MembersInjector&amp;lt;T&amp;gt; ã¯ã¨ã‚ã‚‹ã‚¯ãƒ©ã‚¹ã«ä¾å­˜ã‚’æ³¨å…¥ã™ã‚‹ãŸã‚ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«ãªã‚Šã¾ã™ã€‚Component, Moduleå´ã«ç‰¹åˆ¥ãªè¨˜è¿°ã™ã‚‹ã“ã¨ç„¡ãä½¿ãˆã‚‹Daggerã‚µã‚¤ãƒ‰ã‹ã‚‰æä¾›ã•ã‚Œã¦ã„ã‚‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§ã™ã€‚
public interface MembersInjector&amp;lt;T&amp;gt; { void injectMembers(T instance); } å…·ä½“çš„ãªç–‘ä¼¼ã‚³ãƒ¼ãƒ‰ã¯ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
// ã‚«ã‚¹ã‚¿ãƒ View class MainView extends View { @Inject UserRepository repository; // é©å½“ãªRepositoryã‚¯ãƒ©ã‚¹ã‚’æ³¨å…¥ã—ãŸã„ } // ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆActivity class MainActivity extends Activity { @Inject MembersInjector&amp;lt;MainView&amp;gt; injector; @Override protected void onCreate(@Nullable Bundle savedInstanceState) { AndroidInjection.inject(this); super.onCreate(savedInstanceState); MainView view = findViewById(R.id.main_view);s injector.injectMembers(view); } } Daggerã§æ­£ã—ãUserRepositoryã‚’æ³¨å…¥ã™ã‚‹ãŸã‚ã®ä¾å­˜é–¢ä¿‚ã‚’å®šç¾©ã§ãã¦ã„ã‚Œã°ã€ç‰¹æ®Šãªè¨˜è¿°ã‚’ã™ã‚‹ã“ã¨ãªãã€MainActivityã«MembersInjector&amp;lt;MainView&amp;gt;ã‚’æ³¨å…¥ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚æ³¨å…¥ã•ã‚ŒãŸMembersInjector&amp;lt;MainView&amp;gt; ã‚’ ä½¿ã†ã“ã¨ã§ã€MainViewã«ä¾å­˜ã‚’æ³¨å…¥ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
ã¾ã¨ã‚  MembersInjectorã¯ç¥  </description>
    </item>
    
    <item>
      <title>Kotlin: Companion object &#43; @JvmStaticã¯å†—é•·ãªãƒ¡ã‚½ãƒƒãƒ‰ãŒä½œã‚‰ã‚Œã‚‹</title>
      <link>https://satoshun.github.io/2017/12/kotlin-jvmstatic-overhead/</link>
      <pubDate>Sun, 17 Dec 2017 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2017/12/kotlin-jvmstatic-overhead/</guid>
      <description>ä¸‹ã«èª¬æ˜ã®ãŸã‚ã®ç°¡å˜ãªKotlinã®ã‚³ãƒ¼ãƒ‰ã‚’è¼‰ã›ã¾ã™ã€‚
class Fuga { companion object { fun fuga1() { println(&amp;#34;fuga1&amp;#34;) } @JvmStatic fun fuga2() { println(&amp;#34;fuga2&amp;#34;) } } } ã“ã‚Œã‚’Javaã«å¤‰æ›ã™ã‚‹ã¨ã€
public final class Fuga { public static final Fuga.Companion Companion = new Fuga.Companion((DefaultConstructorMarker)null); @JvmStatic public static final void fuga2() { Companion.fuga2(); } @Metadata( mv = {1, 1, 9}, bv = {1, 0, 2}, k = 1, d1 = {&amp;#34;\u0000\u0014\n\u0002\u0018\u0002\n\u0002\u0010\u0000\n\u0002\b\u0002\n\u0002\u0010\u0002\n\u0002\b\u0002\b\u0086\u0003\u0018\u00002\u00020\u0001B\u0007\b\u0002Â¢\u0006\u0002\u0010\u0002J\u0006\u0010\u0003\u001a\u00020\u0004J\b\u0010\u0005\u001a\u00020\u0004H\u0007Â¨\u0006\u0006&amp;#34;}, d2 = {&amp;#34;Lcom/github/satoshun/reactivex/cache/Fuga$Companion;&amp;#34;, &amp;#34;&amp;#34;, &amp;#34;()V&amp;#34;, &amp;#34;fuga1&amp;#34;, &amp;#34;&amp;#34;, &amp;#34;fuga2&amp;#34;, &amp;#34;production sources for module rx-kotlin-cache_main&amp;#34;} ) public static final class Companion { public final void fuga1() { String var1 = &amp;#34;fuga1&amp;#34;; System.</description>
    </item>
    
    <item>
      <title>Kotlinã§ã‚«ãƒªãƒ¼åŒ–ã‚’è¡¨ç¾ã™ã‚‹</title>
      <link>https://satoshun.github.io/2017/12/kotlin-curry/</link>
      <pubDate>Sat, 09 Dec 2017 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2017/12/kotlin-curry/</guid>
      <description>ãŠã¯ã“ã‚“ã°ã‚“ã‚ã€‚ã“ã®è¨˜äº‹ã¯ãã‚‰ã´ã‹Advent Calendarã®2æ—¥ç›®ã«ãªã‚Šã¾ã™ã€‚
ã“ã®è¨˜äº‹ã§ã¯Kotlinã§ã‚«ãƒªãƒ¼åŒ–ã‚’å®Ÿè£…ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦è§£èª¬ã—ã¾ã™ã€‚ã‚«ãƒªãƒ¼åŒ–ã®ç´°ã‹ã„å®šç¾©ã«ã¯è§¦ã‚Œã¾ã›ã‚“ã€‚è©³ã—ã„èª¬æ˜ã¯ https://ja.wikipedia.org/wiki/%E3%82%AB%E3%83%AA%E3%83%BC%E5%8C%96 ã‚’å‚ç…§ã—ã¦ä¸‹ã•ã„ã€‚
ã•ã£ããã‚³ãƒ¼ãƒ‰ã‹ã‚‰ Kotlinã§æ±ç”¨çš„ãªã‚«ãƒªãƒ¼åŒ–ã®ã‚³ãƒ¼ãƒ‰ã‚’ã©ã®ã‚ˆã†ã«æ›¸ã‘ã°è‰¯ã„ã®ã ã‚ã†ã¨? èª¿ã¹ã¦ã„ãŸã‚‰ã¨ã¦ã‚‚è‰¯ã„ã‚³ãƒ¼ãƒ‰ãŒã‚ã‚Šã¾ã—ãŸã€‚ ã“ã“ã§ã¯3ã¤ã®å¼•æ•°ã‚’å–ã‚‹é–¢æ•°ã‚’ã‚«ãƒªãƒ¼åŒ–ã™ã‚‹ä¾‹ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚
fun &amp;lt;P1, P2, P3, R&amp;gt; ((P1, P2, P3) -&amp;gt; R).curried(): (P1) -&amp;gt; (P2) -&amp;gt; (P3) -&amp;gt; R { return { p1: P1 -&amp;gt; { p2: P2 -&amp;gt; { p3: P3 -&amp;gt; this(p1, p2, p3) } } } } (ã“ã“ã‹ã‚‰ä¸€éƒ¨æŠœç²‹ :pray: : https://github.com/MarioAriasC/funKTionale/blob/master/funktionale-currying/src/main/kotlin/org/funktionale/currying/namespace.kt)
ã“ã®ã‚³ãƒ¼ãƒ‰ã¯3ã¤ã®å¼•æ•°å–ã‚‹é–¢æ•°((P1, P2, P3) -&amp;gt; R)ãŒã‚ã‚Šã€ãã‚Œã‚’ (P1) -&amp;gt; (P2) -&amp;gt; (P3) -&amp;gt; Rã«å¤‰æ›ã™ã‚‹ã‚‚ã®ã«ãªã‚Šã¾ã™ã€‚ãŸã£ãŸã“ã‚Œã ã‘ã§å¼•æ•°ã‚’3ã¤å–ã‚‹é–¢æ•°(Function3)ã‹ã‚‰1ã¤ã®å¼•æ•°å–ã‚‹é–¢æ•°(Function1)ã®ãƒã‚§ã‚¤ãƒ³ã«å¤‰æ›ã—ã¦ã„ã¾ã™ã€‚
ã‚³ãƒ¼ãƒ‰ã®èª¬æ˜ æœ€åˆã«ã“ã®ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ãŸã¨ãã«è¿”ã‚Šå€¤ã® (P1) -&amp;gt; (P2) -&amp;gt; (P3) -&amp;gt; R  ã£ã¦ãªã‚“ã ã‚ã†?</description>
    </item>
    
    <item>
      <title>LiveDataã®postValueã¯å…¨ã¦æµã‚Œã¦ãã‚‹ã¨ã¯é™ã‚‰ãªã„</title>
      <link>https://satoshun.github.io/2017/12/livedata-postvalue-unsafe/</link>
      <pubDate>Wed, 06 Dec 2017 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2017/12/livedata-postvalue-unsafe/</guid>
      <description>çµè«–  LiveData.postValueã‚’çŸ­ã„é–“ã«è¤‡æ•°å›ã‚³ãƒ¼ãƒ«ã™ã‚‹ã¨æœ€å¾Œã®å€¤ã—ã‹Obseverã«æµã‚Œã¦ã“ãªã„ã“ã¨ãŒã‚ã‚‹  èƒŒæ™¯ RxJavaã®Subjectã®ä»£æ›¿ã¨ã—ã¦MutableLiveData(postValueã¨setValueãŒpublicã«ãªã£ã¦ã„ã‚‹)ã‚’ä½¿ã£ã¦ã„ã‚‹éƒ¨åˆ†ãŒã‚ã‚Šã€çŸ­ã„é–“ã«2å›ã‚³ãƒ¼ãƒ«ã•ã‚ŒãŸã¨ãã€å…¨ã¦ã®å€¤ãŒæµã‚Œã¦æ¬²ã—ã‹ã£ãŸãŒä½•æ•…ã‹1å›ã—ã‹å©ã‹ã‚Œã¦ã„ãªã‹ã£ãŸã€‚ ã©ã“ã«åŸå› ãŒã‚ã‚‹ã‹èª¿æŸ»ã—ãŸã¨ã“ã‚ã€ã©ã†ã‚‚postValueãƒ¡ã‚½ãƒƒãƒ‰ã®ä»•æ§˜(LiveDataã‚¯ãƒ©ã‚¹å…¨ä½“ã®ä»•æ§˜?)çš„ã«çŸ­ã„é–“ã«è¤‡æ•°å›ã‚³ãƒ¼ãƒ«ã•ã‚ŒãŸå ´åˆã¯ã€æœ€å¾Œã«postValueã—ãŸå€¤ã®ã¿ã‚’postã™ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ãŸã€‚
å®Ÿè£…è©³ç´° LiveDataã®postValueã®ã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™(v1.0.0)
protected void postValue(T value) { boolean postTask; synchronized (mDataLock) { postTask = mPendingData == NOT_SET; mPendingData = value; } if (!postTask) { return; } ArchTaskExecutor.getInstance().postToMainThread(mPostValueRunnable); } postValueãƒ¡ã‚½ãƒƒãƒ‰ã§ã¯
  mPendingDataãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«Observerã«æ¸¡ã™ãƒ‡ãƒ¼ã‚¿ã‚’ã‚»ãƒƒãƒˆã™ã‚‹   ãƒ¡ã‚¤ãƒ³ã‚¹ãƒ¬ãƒƒãƒ‰ã§mPostValueRunnableã‚’å®Ÿè¡Œã™ã‚‹ (ãŸã ã—mPendingDataã«ã¾ã ä»¥å‰ã®ãƒ‡ãƒ¼ã‚¿ãŒæ®‹ã£ã¦ã„ãŸã‚‰ã€ä»¥å‰ã®ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°ã™ã‚‹)  ã¨ã„ã£ãŸã“ã¨ã‚’ã‚„ã£ã¦ã„ã¾ã™ã€‚
ã“ã®ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã¦åˆ†ã‹ã‚‹é€šã‚Šã€å‰ã«ã‚»ãƒƒãƒˆã—ãŸmPendingDataãŒObserverã«æ¸¡ã•ã‚Œã‚‹å‰ã«ã€æ–°ã—ã„å€¤ã§ä¸Šæ›¸ãã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚ ã‚ˆã£ã¦ã€çŸ­ã„é–“ã«è¤‡æ•°å›ã®postValueã‚’ã‚³ãƒ¼ãƒ«ã™ã‚‹ã¨æœ€å¾Œã®å€¤ã®ã¿ã—ã‹Observerã«æµã‚Œã¦ã“ãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
ã¾ã¨ã‚  RxJavaã®Subjectã®ã‚ˆã†ã«ã€å…¨ã¦ã®å€¤ã‚’æµã™å‹•ä½œã‚’æ„å›³ã—ã¦ã„ã‚‹ã¨ãƒãƒã‚‹ ãã‚‚ãã‚‚LiveDataã¯æœ€æ–°ã®Viewã®çŠ¶æ…‹ã‚’ä¿æŒã™ã‚‹ç”¨é€”ã ã¨æ€ã†ã®ã§ã€çŸ­ã„é–“ã«è¤‡æ•°å›ã‚³ãƒ¼ãƒ«ã•ã‚ŒãŸã‚‰ã€æœ€å¾Œã®å€¤ã®ã¿ã‚’æµã™ã®ã¯æ­£ã—ã„ã€‚LiveDataã¯æ‚ªããªã„ã€‚æ‚ªã„ã®ã¯ä¿ºã€‚  </description>
    </item>
    
    <item>
      <title>Android: Roomã«ãŠã‘ã‚‹ãƒ‡ãƒ¼ã‚¿å¤‰æ›´é€šçŸ¥ã®ä»•çµ„ã¿ã«ã¤ã„ã¦(InvalidationTracker)</title>
      <link>https://satoshun.github.io/2017/11/jetpack-room-invalidationtracker/</link>
      <pubDate>Sun, 26 Nov 2017 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2017/11/jetpack-room-invalidationtracker/</guid>
      <description>ã“ã‚“ã«ã¡ã¯Ê•â€¢Ó«Ì«Í¡â€¢Ê”
ã“ã®è¨˜äº‹ã§ã¯ã©ã®ã‚ˆã†ã«ã—ã¦RoomãŒãƒ†ãƒ¼ãƒ–ãƒ«ã®å¤‰æ›´ã‚’æ¤œçŸ¥ã—ã€LiveDataãªã©ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã®å¤‰æ›´ã‚’ã‚ªãƒ–ã‚¶ãƒ¼ãƒãƒ¼ã«é€šçŸ¥ã—ã¦ã„ã‚‹ã‹ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚
å‰ç½®ã/å‰æçŸ¥è­˜ Roomã¯GoogleãŒæä¾›ã—ã¦ã„ã‚‹SQLiteã‚’ã„ã„æ„Ÿã˜ã«æ‰±ã†ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚
Roomã«ã¯Dao(Data access object)ã¨å‘¼ã°ã‚Œã‚‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹/æŠ½è±¡ã‚¯ãƒ©ã‚¹ãŒã‚ã‚Šã€ãã“ã‚’èµ·ç‚¹ã«ã‚¯ã‚¨ãƒªã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
@Dao interface UserDao { @Query(&amp;#34;SELECT * FROM users&amp;#34;) fun getUsers(): Flowable&amp;lt;List&amp;lt;User&amp;gt;&amp;gt; } è¿”ã‚Šå€¤ã¨ã—ã¦ã€observableãƒ‡ãƒ¼ã‚¿å‹ã‚’å–ã‚‹ã“ã¨ãŒã§ãã€Roomã§ã¯LiveDataã¨RxJava2ã®å‹(Flowableã¨ã‹)ãªã©ã®observableå‹ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚
ãã—ã¦ã€LiveDataã¾ãŸã¯Flowableã§è¿”ã‚Šå€¤ã‚’å®šç¾©ã™ã‚‹ã¨å¯¾è±¡ã®ãƒ†ãƒ¼ãƒ–ãƒ«ãŒInsertãªã©ã§å¤‰æ›´ã•ã‚ŒãŸã¨ãã«ã€å¤‰æ›´é€šçŸ¥ã‚’å—ã‘å–ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
// ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ã‚³ãƒ¼ãƒ‰ userDao.getUsers() .subscribeOn(Schedulers.io) .subscribe { println(it) // ã“ã“ãŒå¯¾è±¡ã®ãƒ†ãƒ¼ãƒ–ãƒ«ãŒå¤‰æ›´ã•ã‚Œã‚‹ãŸã³ã«è©•ä¾¡ã•ã‚Œã‚‹ã€‚  } ãƒ†ãƒ¼ãƒ–ãƒ«ã®å¤‰æ›´æ¤œçŸ¥ã¯Roomã®å†…éƒ¨ã‚¯ãƒ©ã‚¹ã®InvalidationTrackerã‚¯ãƒ©ã‚¹ã§è¡Œã£ã¦ã„ã¾ã™ã€‚ ã“ã‚Œã‹ã‚‰InvalidationTrackerã®å†…éƒ¨å®Ÿè£…ã‚’è¦‹ã¦ã„ãã¾ã™ã€‚
InvalidationTrackerã®æµã‚Œ  InvalidationTracker#startTrackingTableãƒ¡ã‚½ãƒƒãƒ‰ã§Trigger(SQL)ã‚’ç”Ÿæˆ obsevableãŒç”Ÿæˆã•ã‚ŒãŸã‚‰ã€å¯¾å¿œã™ã‚‹InvalidationTracker.Observer(å¤‰æ›´é€šçŸ¥ç”¨ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯)ã‚’InvalidationTrackerã«ç™»éŒ² RoomData#endTransactionã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§å„ãƒ†ãƒ¼ãƒ–ãƒ«ãŒæ›´æ–°ã•ã‚ŒãŸã‹ã‚’ç¢ºèª ãƒ†ãƒ¼ãƒ–ãƒ«ãŒæ›´æ–°ã•ã‚Œã¦ã„ãŸã‚‰å¤‰æ›´é€šçŸ¥ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’å®Ÿè¡Œ  ã¨ã„ã†ã®ãŒå¤§ã¾ã‹ãªæµã‚Œã«ãªã‚Šã¾ã™ã€‚2ã¯observer(å¤‰æ›´é€šçŸ¥ç”¨ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯)ã‚’ç™»éŒ²ã™ã‚‹ã ã‘ã€4ã¯ç™»éŒ²ã—ãŸã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã«ãƒ‡ãƒ¼ã‚¿ã‚’æµã™ã ã‘ã§ã™ã€‚ãªã®ã§1, 3ã«ã¤ã„ã¦è©³ã—ãè¦‹ã¦ã„ãã¾ã™ã€‚
InvalidationTracker#startTrackingTableãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚ˆã‚ŠTriggerã‚’ç”Ÿæˆã™ã‚‹ æœ€åˆã«å„ãƒ†ãƒ¼ãƒ–ãƒ«ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ç®¡ç†ã™ã‚‹ room_table_modification_logãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚
CREATE TEMP TABLE room_table_modification_log ( version INTEGER PRIMARY KEY AUTOINCREMENT, table_id INTEGER ) ã“ã®ã‚¯ã‚¨ãƒªã®æ„å‘³ã™ã‚‹ã“ã¨ã¯ã€ãƒ†ãƒ¼ãƒ–ãƒ«æ“ä½œãŒã‚ã£ãŸã¨ãã«ã€å¯¾è±¡ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã®versionã‚’æ›´æ–°ã™ã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã§ã€versionå¤‰æ›´ã•ã‚Œã¦ã„ãŸã‚‰æ›´æ–°ã‚’æ¤œçŸ¥ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚ã“ã®versionã‚’æ›´æ–°ã™ã‚‹ãŸã‚ã«Roomã§ã¯SQLã«ã‚ã‚‹æ©Ÿèƒ½ã®1ã¤Triggerã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚å…·ä½“çš„ã«ã¯æ¬¡ã®Triggerã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã™ã€‚
CREATE TEMP TRIGGER IF NOT EXISTS room_table_modification_trigger_users_UPDATE AFTER UPDATE ON users BEGIN INSERT OR REPLACE INTO room_table_modification_log VALUES (null, 0); # 0ã¯table_id END ã“ã‚Œã¯ä¸€è¦‹è¤‡é›‘ã«è¦‹ãˆã¾ã™ãŒã‚‚ã®ã™ã”ã„å˜ç´”ã§ã€usersãƒ†ãƒ¼ãƒ–ãƒ«ãŒUPDATEã•ã‚ŒãŸã‚‰ä¸Šè¨˜ã®ã‚¯ã‚¨ãƒªãŒãƒ•ãƒƒã‚¯ã•ã‚Œã¦å®Ÿè¡Œã•ã‚Œã‚‹ã ã‘ã§ã™ã€‚ä¸Šã®ã‚¯ã‚¨ãƒªINSERT OR REPLACE INTO room_table_modification_log VALUES (null, 0); ã¯ room_table_modification_logãƒ†ãƒ¼ãƒ–ãƒ«ã«æœ€æ–°ã®id + 1ã®rowã‚’è¿½åŠ /æ›´æ–°ã™ã‚‹ã‚‚ã®ã«ãªã‚Šã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>Android: RxJava &#43; OkHttpã‚’ä½¿ã£ã¦401ã®å‡¦ç†ã‚’ã„ã„æ„Ÿã˜ã«ã™ã‚‹</title>
      <link>https://satoshun.github.io/2017/08/rx-okhttp-401/</link>
      <pubDate>Thu, 10 Aug 2017 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2017/08/rx-okhttp-401/</guid>
      <description>(ã“ã®è¨˜äº‹ã¯RxJavaã¨OkHttpã‚’çŸ¥ã£ã¦ã„ã‚‹å‰æã§é€²ã‚ã¦ã„ãã¾ã™ã€‚ã¾ãŸã“ã®è¨˜äº‹ã¯RxJavaã™ã”ãƒ¼ã„ã—ãŸã„ã ã‘ã®è¨˜äº‹ã§ã™ã€‚401ã®ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®ã¨ã“ã‚ã¯ã€RxJavaã‚’ä½¿ã„ãŸã„ã ã‘ã®ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã¨ã„ã†ã‹1ä¾‹ã«ãªã‚Šã¾ã™ã€‚)
ã“ã®è¨˜äº‹ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ ã“ã“(Github)ã«ã‚ã‚Šã¾ã™ã€‚
 APIå‘¨ã‚Šã®é–‹ç™ºã‚’ã—ã¦ã„ã¦ã€401ã®ã¨ãã®å‡¦ç†ã‚’ã©ã†ã™ã‚‹ã‹ã¨ã„ã†æ°¸é ã®èª²é¡ŒãŒã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚ ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã§é ‘å¼µã‚‹ã¨ã—ãŸã‚‰ä»¥ä¸‹ã®æ„Ÿã˜ã«ãªã‚‹ã‹ãªã¨æ€ã„ã¾ã™ã€‚
 OkHttpã®Authenticatorã‚’ä½¿ã„ã€ãã“ã§401ã®ã¨ãã®ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’ã™ã‚‹ã€‚å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ãƒªãƒ³ã‚¯ OkHttpã®Interceptorã‚’ä½¿ã„ã€ãã“ã§401ã®ã¨ãã®ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚’ã™ã‚‹ã€‚å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ãƒªãƒ³ã‚¯ å„å‡¦ç†(ä¾‹ãˆã°RxJavaã®Transformerã¨ã‹)ã«401ç”¨ã®å‡¦ç†ã‚’åŸ‹ã‚è¾¼ã‚“ã§ã€retryã‚’æ›ã‘ã‚‹ã€‚  ãªã©ãŒã‚ã‚‹ã‹ãªã¨(OkHttpã€RxJavaã‚’ä½¿ã†ã“ã¨ã‚’å‰æã¨ã™ã‚‹)
ã“ã®ãƒ–ãƒ­ã‚°ã§ã¯OkHttpã®Authenticatorã‚’ä½¿ã†æ–¹æ³•ã§401ã®å‡¦ç†ã‚’ã„ã„æ„Ÿã˜ã«ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚
ã¾ãŸrefresh tokenã¯éåŒæœŸã€APIãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒå¿…è¦ã§ã‚ã‚‹ã¨ã—ã¾ã™ã€‚æ“¬ä¼¼ã‚³ãƒ¼ãƒ‰ã¯ã“ã‚“ãªæ„Ÿã˜ã§ã™ã€‚
fun refreshToken(): Observable&amp;lt;String&amp;gt; { return Observable.just(Credentials.basic(&amp;quot;sato&amp;quot;, &amp;quot;passwordhoge&amp;quot;)) .doOnNext { println(&amp;quot;GET credential: $it&amp;quot;) } // Logå‡ºåŠ› .delay(2000, TimeUnit.MILLISECONDS) } æ™‚é–“ãŒæ›ã‹ã‚‹ã‚“ã ãªã‚ãã‚‰ã„ã«æ€ã£ã¦ä¸‹ã•ã„ã€‚
401ã®å‡¦ç†ã‚’æ›¸ã„ã¦ã„ã OkHttpã®Authenticatorã¯401ã®ã¨ãã«ãƒ•ãƒƒã‚¯ã•ã‚Œã¾ã™ã€‚ãªã®ã§ã“ã®ä¸­ã§401ãªã‚‰refresh tokenã‚’ã—ã€çµæœã‚’authorization headerã«ã‚»ãƒƒãƒˆã—ã¦å†ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã™ã‚Œã°è‰¯ã•ãã†ã§ã™ã€‚
ãŸã ã“ã“ã§1ã¤å•é¡ŒãŒã‚ã‚Šã¾ã™ã€‚ãã‚Œã¯ã€APIãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯ä¸¦åˆ—ã«è¡Œã‚ã‚Œã‚‹ã¨ã„ã†ã“ã¨ã§ã™ã€‚ã¨ã„ã†ã“ã¨ã¯ã€ä½•ã‚‚è€ƒãˆãªã„ã¨refresh tokenãŒè¤‡æ•°å›å©ã‹ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚ãªã®ã§refresh tokenã‚’ã—ã¦ã„ã‚‹ã¨ãã¯ã€å¾Œç¶šã®401ã¯ãã‚Œã‚’å¾…ã¤ã‚ˆã†ã«ã—ãªã„ã¨ã„ã‘ã¾ã›ã‚“ã€‚
æ„šç›´ã«è¡¨ç¾ã™ã‚‹ãªã‚‰ã€refresh tokenã‚’ã—ã¦ã„ã¾ã™ã‚ˆãƒ•ãƒ©ã‚°ã‚’ã©ã“ã‹ã«ç«‹ã¦ã¦ãŠã„ã¦ã€ãã‚ŒãŒtrueãªã‚‰å¾…ã¤ã€‚falseãªã‚‰refersh tokenã‚’ã—ã¦ã€çµæœã‚’å¾…ã¤ã¨ã„ã£ãŸå‡¦ç†ã«ãªã‚Šã¾ã™ã€‚ ä¸¦åˆ—ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒè¡Œã‚ã‚Œã‚‹ã¨ã—ãŸã‚‰ã€ãƒãƒ«ãƒã‚¹ãƒ¬ãƒƒãƒ‰ã‹ã‚‰ã‚³ãƒ¼ãƒ«ã•ã‚Œã‚‹ã®ã§synchorizeãªã©ã®åˆ¶å¾¡ã‚’ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã€ã‚ã£ã¡ã‚ƒãƒ ã‚ºã„ã€‚
RxJavaã‚’ä½¿ã£ã¦ã¿ã‚‹ ä¸Šè¨˜ã®ç¸›ã‚Šã‚’RxJavaã®publish + refCountã‚’ä½¿ã†ã¨ã‚ã£ã¡ã‚ƒã„ã„æ„Ÿã˜ã«è¡¨ç¾ã§ãã¾ã™ã€‚
private val authenticator: Authenticator = object : Authenticator { // ã“ã“ãŒãƒã‚¤ãƒ³ãƒˆã€‚publishã¨refCountã‚’ä½¿ã†ã€‚  private val tokenStream = refreshToken().publish().refCount() // ã“ã‚Œã ã¨é§„ç›®  // private val tokenStream = refreshToken()  // ã“ã“ã¯ä¸¦åˆ—ã«å‘¼ã°ã‚Œã‚‹  override fun authenticate(route: Route, response: Response): Request?</description>
    </item>
    
    <item>
      <title>RxJava multicastã«ã¤ã„ã¦</title>
      <link>https://satoshun.github.io/2017/05/rx-multicast/</link>
      <pubDate>Thu, 04 May 2017 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2017/05/rx-multicast/</guid>
      <description>RxJavaã«ã¯, streamä¸Šã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’è¤‡æ•°ã®Subscriberã«æ¸¡ã›ã‚‹multicast(å†åˆ©ç”¨ã®ã‚ˆã†ãªæ„Ÿã˜)ã®æ©Ÿèƒ½ãŒã‚ã‚Šã¾ã™. multicastã¯ä¸»ã«ã€Œã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¨ã—ã¦ä½¿ã†ã€, ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãŒç™ºç«ã—ãŸã¨ãã«è¤‡æ•°ã§å‡¦ç†ã‚’ãŠã“ãªã†ã€ ã¨ã—ã¦ä½¿ã„ã¾ã™.
RxJavaã§ã¯2ã¤ã®æ–¹æ³•ã§multicastã‚’å®Ÿç¾ã—ã¾ã™.
 publishã‚’ä½¿ã„, ConnectableObservableã‚’ä½œã‚‹ Subjectã‚’ä½¿ã†  ã¾ãŸ, RxJava2ã ã¨FlowableãŒã‚ã‚Šã¾ã™ãŒ, Flowableã®å ´åˆã¯ Processorã‚’ä½¿ã„ã¾ã™.
èª¬æ˜ã ã‘ã ã¨åˆ†ã‹ã‚Šã«ãã„ã®ã§, ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚‚åˆã‚ã›ã¦ã©ã†ã.
 ConnectableObservable Subject  ConnectableObservableã«ã¤ã„ã¦ ConnectableObservableã¯publishãŒã‚³ãƒ¼ãƒ«ã•ã‚ŒãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ç”Ÿæˆã•ã‚Œã¾ã™. ã“ã“ãŒStreamã®é–‹å§‹åœ°ç‚¹, å†åˆ©ç”¨ã™ã‚‹åœ°ç‚¹ã«ãªã‚Šã¾ã™. ãªã®ã§, mapã‚„filterãªã©, å…±é€šã®å‡¦ç†ãŒã‚ã‚‹ã®ãªã‚‰, publishã®Upstreamã«æ›¸ã„ã¦å…±é€šåŒ–ã—ãŸã»ã†ãŒåŠ¹ç‡ãŒè‰¯ã„ã§ã™.
ConnectableObservableã¯connectãƒ¡ã‚½ãƒƒãƒ‰ãŒã‚³ãƒ¼ãƒ«ã•ã‚ŒãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§, Streamã®é–‹å§‹ã‚’ã—ã¾ã™. å¾“æ¥ã¯Subscriberã‚’ç™»éŒ²ã—ãŸ(subscribeãƒ¡ã‚½ãƒƒãƒ‰ã‚’ã‚³ãƒ¼ãƒ«ã—ãŸ)ã‚¿ã‚¤ãƒŸãƒ³ã‚°ãªã®ã§, æ³¨æ„ãŒå¿…è¦ã§ã™.
ãã—ã¦, publish + connectã‚’çµ„ã¿ã‚ã›ã‚‹ã“ã¨ã§1ã¤ã®Streamã«å¯¾ã—ã¦è¤‡æ•°ã®Subscriberã‚’ç™»éŒ²ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™.
(source: https://github.com/ReactiveX/RxJava/wiki/Connectable-Observable-Operators)
ä»–ã«ã‚‚, shareã‚„refcountãŒã‚ã‚Šã¾ã™ãŒ, åŸºæœ¬çš„ãªè€ƒãˆæ–¹ã¯å¤‰ã‚ã‚Šã¾ã›ã‚“.
Subjectã‚’ä½¿ã† Subjectã¯, Observableã¨Observerã®æ©Ÿèƒ½ã‚’åŒæ™‚ã«ä½¿ã†ã“ã¨ãŒã§ãã‚‹å®Ÿè£…ã§ã™. 1ä¾‹ã¨ã—ã¦ã¯, Observerã®æ©Ÿèƒ½ã‚’ä½¿ã„, è¤‡æ•°ã®Observableã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—, Observableã®æ©Ÿèƒ½ã‚’ä½¿ã„ãã®ãƒ‡ãƒ¼ã‚¿ã‚’Observerã«æ¸¡ã™, ã„ã‚ã‚†ã‚‹Bridgeã®ã‚ˆã†ãªäº‹ãŒã§ãã¾ã™.
BehaviorSubject, ReplaySubjectãªã©ã®ãƒãƒ©ã‚¨ãƒ†ã‚£ãŒã‚ã‚‹ã®ã§, å¿…è¦ã«å¿œã˜ã¦ä½¿ã„åˆ†ã‘ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™. (https://github.com/ReactiveX/RxJava/wiki/subject)
ã¾ã¨ã‚ multicastã‚’ä¸Šæ‰‹ã«ä½¿ã„ã“ãªã™ã“ã¨ã§, ãƒ‡ãƒ¼ã‚¿ã®å–å¾—å›æ•°ã‚’æ¸›ã‚‰ã—, ã‚¢ãƒ—ãƒªãŒãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«å„ªã‚ŒãŸæ§‹é€ ã«ãªã‚‹ã“ã¨ãŒæœŸå¾…ã§ãã¾ã™. ãã®ãŸã‚ã«ã¯, ã©ã“ã«multicastã‚’å…¥ã‚Œã‚‹ã‹, ã©ã“ã‹ã‚‰ConnectableObservableã«ã™ã‚‹ã‹(publishã‚’ã‚³ãƒ¼ãƒ«ã™ã‚‹ã‹)ã‚’æ±ºå®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™. ã‚¢ãƒ—ãƒªã”ã¨ã«é©åˆ‡ãªãƒã‚¤ãƒ³ãƒˆ, æ›¸ãæ–¹ã¯ç•°ãªã‚‹ã¨æ€ã†ã®ã§, ã‚µãƒ³ãƒ—ãƒ«ã‚’å‚è€ƒã«é ‚ã‘ãŸã‚‰å¹¸ã„ã§ã™.
Happy RxJava2 life!!
å‚è€ƒ  Multicasting in RxJava RxJava  </description>
    </item>
    
    <item>
      <title>RxJava ä¸¦è¡Œã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã—ã¦, ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ãŸé †ç•ªã§å€¤ã‚’å—ã‘å–ã‚‹</title>
      <link>https://satoshun.github.io/2017/05/rx-concateager-parallel-request/</link>
      <pubDate>Thu, 04 May 2017 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2017/05/rx-concateager-parallel-request/</guid>
      <description>çµè«–  concatEagerã‚’ä½¿ã†  concat, concatEager RxJavaã«ã¯concatEagerã¨, concatã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã™. ä¼¼ãŸåå‰ã§ã™ãŒ, æŒ¯ã‚‹èˆã„ã¯ç•°ãªã‚Šã¾ã™. concatEagerã¯concatã¨é•ã„, ä¸¦åˆ—ã«Observableã¯å‡¦ç†ã™ã‚‹ã‘ã©, è¿”ã—ã¦ãã‚‹é †ç•ªã¯ä¿è¨¼ã•ã‚Œã¦ã„ã¾ã™
 concat: ç›´åˆ—ã«Observableã‚’å‡¦ç†ã—, è¿”ã—ã¦ãã‚‹é †ç•ªã¯ä¿è¨¼ã•ã‚Œã¦ã„ã‚‹ concatEager: ä¸¦åˆ—ã«Observableã‚’å‡¦ç†ã—, è¿”ã—ã¦ãã‚‹é †ç•ªã¯ä¿è¨¼ã•ã‚Œã¦ã„ã‚‹  ã‚³ãƒ¼ãƒ‰ã§èª¬æ˜ã™ã‚‹ã¨,
// o1 ----&amp;gt; | // o2 |------&amp;gt;| // | | // s ------o1------o2 Observable.concat(o1, o2) .subscribe(); // o1 -----------&amp;gt;| // o2 --&amp;gt;---------|-| // | | // s ------------o1-o2 Observable.concatEager(o1, o2) .subscribe(); ã¿ãŸã„ãªæ„Ÿã˜ã«ãªã‚Šã¾ã™. ç¹°ã‚Šè¿”ã—ã«ãªã‚Šã¾ã™ãŒ ,concatEagerã¯åŒæ™‚ã«ä¸ãˆãŸObservableã‚’è§£é‡ˆã—, é †ç•ªã‚’å®ˆã£ã¦ãã‚Œã¾ã™.</description>
    </item>
    
    <item>
      <title>RxJava: AutoDisposeã§è‡ªå‹•çš„ã«disposeã™ã‚‹</title>
      <link>https://satoshun.github.io/2017/05/rx-autodispose/</link>
      <pubDate>Thu, 04 May 2017 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2017/05/rx-autodispose/</guid>
      <description>éåŒæœŸå‡¦ç†ã‚’é–‹å§‹ã—ãŸå¾Œã«, Activityã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãªã©ã«é€£å‹•ã—ã¦éåŒæœŸå‡¦ç†ã‚’ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™.
RxJavaã§ã¯, Disposableã‹ã‚‰ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã®å‡¦ç†ã‚’è¡Œã„ã¾ã™.
Disposable d; public void onCreate() { d = myObservable .map(a -&amp;gt; b) .subscribe(); } public void onPause() { d.dispose(); } ã“ã®ã‚³ãƒ¼ãƒ‰ã ã¨, ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®å®šç¾©ã¨, ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã®ã‚³ãƒ¼ãƒ‰ãŒé›¢ã‚Œéãã¦ã„ã‚‹ãŸã‚, å¯èª­æ€§ãŒä½ã„ã§ã™.
AutoDisposeã‚’ä½¿ã†ã“ã¨ã§, ã‚³ãƒ¼ãƒ‰é›¢ã‚Œã™ãå•é¡Œã‚’è§£æ±ºã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™.
public void onCreate() { myObservable .to(new ObservableScoper&amp;lt;&amp;gt;(this)) .subscribe(); } ã“ã®ã‚ˆã†ãªæ„Ÿã˜ã§, ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®å®šç¾©ã®ä¸­ã«AutoDisposeãŒæä¾›ã—ã¦ã„ã‚‹Scoperã‚’åŸ‹ã‚è¾¼ã‚€ã“ã¨ã§è‡ªå‹•çš„ã«disposeã—ã¦ãã‚Œã¾ã™.
ã¾ãŸ, Scoperã¯, ã‚«ã‚¹ã‚¿ãƒ ã§æŸ”è»Ÿã«å®šç¾©ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™. ä¾‹ãˆã°,
 Activityã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ« Fragmentã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ« RecyclerViewã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«  ãªã©, ã“ã¡ã‚‰å´ã§å®Ÿè£…ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™(å®Ÿè£…ã®æ‰‹é–“ã¯å°‘ã—æ›ã‹ã‚Šã¾ã™)
ã“ã‚Œã§, Disposableã‚’ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã§å‘¼ã³å‡ºã™ã“ã¨ã‹ã‚‰è§£æ”¾ã•ã‚Œã¾ã™!
Error Proneã¨çµ„ã¿åˆã‚ã›ã‚‹ã¨æœ€å¼· ã¨ã¯ã„ãˆ, ãã‚‚ãã‚‚Scopeã‚’ã‚¹ãƒˆãƒªãƒ¼ãƒ ã«åŸ‹ã‚è¾¼ã‚€ã®ã‚’å¿˜ã‚Œã‚‹å•é¡ŒãŒã‚ã‚Šã¾ã™(ã ã£ã¦äººé–“ã ã‚‚ã®)
ãã“ã§, GoogleãŒå‡ºã—ãŸError Proneã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§åŸ‹ã‚è¾¼ã‚€ã®ã‚’å¿˜ã‚Œã‚‹å•é¡Œã‚’è§£æ±ºå‡ºæ¥ã¾ã™.
Error Proneã¯Javaã®é–“é•ã£ãŸä½¿ã„æ–¹ã‚’æ•™ãˆã¦ãã‚Œã‚‹ Linterã®ã‚ˆã†ãªã‚‚ã®ã§ã™. ã“ã‚Œã‚’ä½¿ã†ã¨,
public void onCreate() { myObservable .</description>
    </item>
    
    <item>
      <title>RxJava: Connectable Observableã«ã¤ã„ã¦</title>
      <link>https://satoshun.github.io/2017/05/rx-connectable-observable/</link>
      <pubDate>Thu, 04 May 2017 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2017/05/rx-connectable-observable/</guid>
      <description>çµè«–  åŒã˜Streamã‚’è¤‡æ•°ã®Observerã§æ‰±ã„ãŸã„ã¨ãã¯Connectable Observableã‚’ä½¿ã†  åŠ¹ç‡çš„!!   Connectable Observableã¯subscribeã‚’ã‚³ãƒ¼ãƒ«ã—ã¦ã‚‚, StreamãŒé–‹å§‹ã—ãªã„  connectãƒ¡ã‚½ãƒƒãƒ‰ã‚’ã‚³ãƒ¼ãƒ«ã—ãŸæ™‚ã«, StreamãŒé–‹å§‹ã™ã‚‹    åŸºæœ¬çš„ãªä½¿ã„æ–¹ åŒã˜ãƒ‡ãƒ¼ã‚¿ã‚’å¿…è¦ã¨ã—ã¦ã„ã‚‹ObserverãŒã‚ã‚‹ã¨ã—ã¾ã™. ã“ã‚Œã‚’å˜ç´”ã«æ›¸ãã¨ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™.
Obervable&amp;lt;User&amp;gt; getUsers() { return Observalbe.just(User1, User2, User3);} Obervable&amp;lt;User&amp;gt; users = getUsers(); users.subscribe(o1); users.subscribe(o2); users.subscribe(o3); ã“ã‚Œã ã¨, subscribeã•ã‚Œã‚‹ãŸã³ã«æ–°ã—ã„StreamãŒä½œã‚‰ã‚Œã¦ã—ã¾ã„ã¾ã™. ä¸Šã®ä¾‹ã ã¨3ã¤ã®ç‹¬ç«‹ã—ãŸObservableãŒä½œæˆã•ã‚Œã¦ã—ã¾ã„, éå¸¸ã«åŠ¹ç‡ãŒæ‚ªã„ã§ã™.
Connectable Observableã‚’ä½¿ã†ã“ã¨ã§, 1ã¤ã®Streamã‹ã‚‰subscribeã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™.
ConnectableObservable&amp;lt;User&amp;gt; users = getUsers().publish(); users.subscribe(o1); users.subscribe(o2); users.subscribe(o3); users.connect(); // é‡è¦!! publishã‚ªãƒšãƒ¬ãƒ¼ã‚¿ã‚’é©ç”¨ã™ã‚‹ã“ã¨ã§, Connectable Observableã«å¤‰æ›å‡ºæ¥ã¾ã™. ãã—ã¦, Connectable Observableã«å¯¾ã—ã¦Observerã‚’subscribeã—, æœ€å¾Œã«connectã‚’ã‚³ãƒ¼ãƒ«ã™ã‚‹ã“ã¨ã§, å…±é€šã®Streamã‹ã‚‰subscribeã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™.
æµã‚Œã¨ã—ã¦ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™.
 publishã‚’ã‚³ãƒ¼ãƒ«ã™ã‚‹ã¨, Connectable ObservableãŒä½œæˆå‡ºæ¥ã‚‹ Connectable Observableã‚’ã„ãã¤ã‹ã®Observerã§subscribeã™ã‚‹  ã“ã“ã§ã¯Streamã¯é–‹å§‹ã•ã‚Œãš, ç™»éŒ²ã®ã¿ã•ã‚Œã‚‹   æœ€å¾Œã«connectã‚’ã‚³ãƒ¼ãƒ«ã™ã‚‹  StreamãŒé–‹å§‹ã•ã‚Œã‚‹.</description>
    </item>
    
    <item>
      <title>RxJava: Subjectã§onErrorã‚’å–ã‚Šæ‰±ã†æ™‚</title>
      <link>https://satoshun.github.io/2017/05/rx-subject-materialize/</link>
      <pubDate>Thu, 04 May 2017 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2017/05/rx-subject-materialize/</guid>
      <description>çµè«–  materialize, dematerializeã‚’ä½¿ã†.  èƒŒæ™¯ onErrorã‚’Subjectã«æµã™ã¨, Subjectã¯disposeçŠ¶æ…‹ã«ãªã‚‹ãŸã‚, ã“ã‚Œä»¥é™ã®Eventã‚’æµã™ã“ã¨ãŒå‡ºæ¥ãªããªã‚Šã¾ã™.
sub.subscribe( v -&amp;gt; Log.d(&amp;#34;onNext&amp;#34;, String.valueOf(v)), e -&amp;gt; Log.d(&amp;#34;onError&amp;#34;, e.getMessage())); sub.onNext(v1); sub.onNext(v2); sub.onError(e1); sub.onNext(v3); // ignore sub.onNext(v4); // ignore ã“ã‚Œã ã¨, SubjectãŒã“ã‚Œä»¥é™ã«å€¤ã‚’å—ã‘ä»˜ã‘ãªã„ãŸã‚ä¸ä¾¿ã«ãªã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™.(ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹æ¬¡ç¬¬)
materialize + dematerializeã‚ªãƒšãƒ¬ãƒ¼ã‚¿ã‚’ä½¿ã†ã¨, ã“ã®å•é¡Œã‚’è§£æ±ºå‡ºæ¥ã¾ã™.
Observable.create((ObservableOnSubscribe&amp;lt;String&amp;gt;) e -&amp;gt; { e.onNext(&amp;#34;1&amp;#34;); e.onNext(&amp;#34;2&amp;#34;); e.onError(new RuntimeException(&amp;#34;e1&amp;#34;)); }).materialize().subscribe(sub::onNext); Observable.create((ObservableOnSubscribe&amp;lt;String&amp;gt;) e -&amp;gt; { e.onNext(&amp;#34;3&amp;#34;); e.onNext(&amp;#34;4&amp;#34;); e.onError(new RuntimeException(&amp;#34;e2&amp;#34;)); }).materialize().subscribe(sub::onNext); materialize ã‚’ä½¿ã„, Errorã‚¤ãƒ™ãƒ³ãƒˆã‚’Nextã‚¤ãƒ™ãƒ³ãƒˆã«å¤‰æ›ã—ã¾ã™
ãã—ã¦, Subscribeã™ã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§, dematerializeã§Nextã‚¤ãƒ™ãƒ³ãƒˆã‚’Errorã‚¤ãƒ™ãƒ³ãƒˆã«æˆ»ã—ã¾ã™.
sub.dematerialize().subscribe( v -&amp;gt; Log.d(&amp;#34;onNext&amp;#34;, String.valueOf(v)), e -&amp;gt; Log.d(&amp;#34;onError&amp;#34;, e.getMessage())); ã“ã†ã™ã‚‹ã“ã¨ã§, Subjectã‚’disposeçŠ¶æ…‹ã«ã›ãšã«, Observerã§onErrorã‚¤ãƒ™ãƒ³ãƒˆã‚’å‡¦ç†ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™.
å‚ç…§  ReactiveX - Materialize &amp;amp; Dematerialize operators  </description>
    </item>
    
    <item>
      <title>Android: Dagger2ã®Scopeã«ã¤ã„ã¦ã‚ã‚Œã“ã‚Œ</title>
      <link>https://satoshun.github.io/2016/11/dagger2-scope/</link>
      <pubDate>Sun, 27 Nov 2016 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2016/11/dagger2-scope/</guid>
      <description>çµè«–: Application(Singleton), Activity, Fragment, Viewã®4ã¤ã®Scopeã‚’ä½œã‚‹ã®ãŒè‰¯ã„ã¨æ€ã„ã¾ã™.
Scopeã¨ã¯? ã¨ã‚ã‚‹provideã™ã‚‹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ç”Ÿå­˜æœŸé–“ã‚’æŒ‡å®šã™ã‚‹ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™. Singletonã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚‚Scopeã®ä¸€ç¨®ã§ã™. ä¾‹ãˆã°, Singletonã¯, ãã®åã®è¡¨ã™ã¨ãŠã‚Š, Singletonã§è¡¨ç¾ã—ãŸã„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«å¯¾ã—ã¦ã‚¢ãƒãƒ†ãƒ¼ãƒˆã—ã¾ã™.
Androidãªã‚‰, OkHttpClientãªã©ã¯Singletonã§ç®¡ç†ã™ã¹ããªã®ã§, ä¸‹ã®ã‚ˆã†ã«è¡¨ç¾ã§ãã¾ã™.
@Singleton @Provides public static OkHttpClient provideOkHttpClient() { return new OkHttpClient.Builder() .connectTimeout(10, TimeUnit.SECONDS) .readTimeout(20, TimeUnit.SECONDS) .build(); } Singletonã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ãªã„ã¨, Injectã™ã‚‹ãŸã³ã«æ–°ã—ã„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒä½œã‚‰ã‚Œã¾ã™.
ã¾ãŸ, Scopeã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã¯Daggerç‰¹æœ‰ã®ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ãªã, JSR-330ã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‚¹ãƒšãƒƒã‚¯ãªã®ã§, DaggerãŒå»ƒã‚ŒãŸã¨ã—ã¦ã‚‚, JSR-330ãŒå»ƒã‚Œã¦ãªã„é™ã‚Šä½¿ãˆã‚‹çŸ¥è­˜, æŠ€è¡“ã«ãªã‚Šã¾ã™.
Androidã«é©ã—ãŸScope Androidã«ã¯å¤§ãã, Application, Activity, Fragment, Viewã®4ã¤ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãŒã‚ã‚Šã¾ã™. ãªã®ã§, ãã‚Œã‚‰ã«å¯¾ã—ã¦Scopeã‚’å®šç¾©ã™ã‚Œã°ã„ã„ã¨æ€ã£ã¦ã¾ã™.
 Application: Singleton Activity: ActivityScope Fragment: FragmentScope View: ViewScope  ViewScopeã¯RecylerView, ListViewãªã©ã§æœ‰åŠ¹ã«ä½¿ãˆã‚‹ã¨æ€ã„ã¾ã™.</description>
    </item>
    
    <item>
      <title>Android: Repositoryå±¤ã«ã¤ã„ã¦ã‚ã‚Œã“ã‚Œ</title>
      <link>https://satoshun.github.io/2016/11/android-arch-repository/</link>
      <pubDate>Wed, 23 Nov 2016 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2016/11/android-arch-repository/</guid>
      <description>å‚è€ƒ: https://github.com/googlesamples/android-architecture/tree/todo-mvp
Repositoryå±¤ã¨ã¯? dataå±¤ã‚’æŠ½è±¡ã™ã‚‹å±¤. Repositoryã§ã¯ã‚¢ãƒ—ãƒªã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒãƒªã‚·ãƒ¼ã‚’æ‹…å½“ã™ã‚‹. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã¯ãƒ¡ãƒ¢ãƒª, ãƒ‡ã‚£ã‚¹ã‚¯ã®ã©ã¡ã‚‰ã‹ã«ä¿å­˜ã™ã‚‹ã‹ã«ä¾å­˜ã—ãªã„ã‚ˆã†ã«ã™ã‚‹. ãã“ã®å®Ÿè£…ã¯dataå±¤ã«ä»»ã›ã‚‹.
å…·ä½“çš„ã«ã¯, Repositoryã¯, remote dataã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨, local dataã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®2ã¤ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ä¾å­˜ã™ã‚‹ã‚ˆã†ã«ã—, ã©ã“ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚Œã‚‹ã‹ã¯local dataã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«å¾“ã†. ã“ã†ã™ã‚‹ã“ã¨ã§, Repositoryã¯ã©ã“ã«ãƒ‡ãƒ¼ã‚¿ãŒä¿å­˜ã•ã‚Œã¦ã„ã‚‹ã‹ã‚’æ°—ã«ã—ãªãã¦è‰¯ã„. ã‚ãã¾ã§Repositoryã¯ã©ã“ã®dataã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–ã£ã¦ãã‚‹ã®ã‹ã‚’æ±ºå®šã™ã‚‹.
ã¾ãŸ, Repositoryã¯åŸºæœ¬çš„ã«Applicationã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã«é€£å‹•ã—, Singletonã§Activityé–“ã§ãƒ‡ãƒ¼ã‚¿ã®å…±æœ‰ã‚’åŠ¹ç‡çš„ã«è¡Œãˆã‚‹. ä¾‹ãˆã°, Activity Aã§å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ã¯Repositoryã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒãƒªã‚·ãƒ¼ã«å¾“ã„ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã—, Activity Bã§ã¯, ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒãƒªã‚·ãƒ¼ã«å¾“ã„å³åº§ã«ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã§ãã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹.(ãƒãƒªã‚·ãƒ¼ã«ã‚ˆã£ã¦ã¯æ¯å›remoteã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾—ã™ã‚‹å¯èƒ½æ€§ã‚‚ã‚ã‚‹)
RxJavaã¨ã¨ã‚‚ã« Repositoryã¯RxJava(Observable)ã¨ã®ç›¸æ€§ãŒè‰¯ã„ã¨æ€ã£ã¦ã„ã¾ã™. ä¾‹ãˆã°ä»¥ä¸‹ã®ã‚ˆã†ã«ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯é–¢æ•°ç„¡ãæ›¸ã‘ã‚‹ã‹ã‚‰ã§ã™.
@NonNull @Override public Observable&amp;lt;User&amp;gt; getUser(int id) { return localDataSource.getUser(id) .onErrorResumeNext(remoteDataSource.getUser(id)) .doOnNext(new Action1&amp;lt;User&amp;gt;() { @Override public void call(User user) { localDataSource.saveUser(user); } }) .subscribeOn(Schedulers.io()) .observeOn(AndroidSchedulers.mainThread()); } ä¸Šã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯, localDataSourceã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã§ããªã‘ã‚Œã°, remoteDataSourceã«å–å¾—ã—ã«è¡Œãã‚³ãƒ¼ãƒ‰ã«ãªã‚Šã¾ã™. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã§ã¯, local, remoteã®é•ã„ã‚’æ°—ã«ã—ãªãã¦è‰¯ã„ã¨ã„ã†ã®ãŒä¸€ç•ªã®åˆ©ç‚¹ã§ã™.
ã¾ã¨ã‚ ã–ã£ãã‚Šã¨æ›¸ãã¾ã—ãŸ. ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®æŠ½è±¡åŒ–(Repositoryå±¤) + RxJavaã¯éå¸¸ã«å¼·åŠ›ã§, ã¨ã¦ã‚‚è‰¯ã„ãƒ‘ã‚¿ãƒ¼ãƒ³ã ã¨æ€ã£ã¦ã„ã¾ã™. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ(Contrllerã‚„Presenter)ã®ã‚³ãƒ¼ãƒ‰ã‚‚ãã‚Œã„ã«ãªã‚Š, ã¾ãŸActivityé–“ã®ãƒ‡ãƒ¼ã‚¿ã®å…±æœ‰ã‚‚ã‚¹ãƒ ãƒ¼ã‚ºã«è¡Œã†ã“ã¨ãŒã§ãã‚‹ã®ã§(æœ€æ‚ªã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¦ã„ã¦ã‚‚Remoteã‹ã‚‰å–å¾—ã—ã¦ãã‚Œã‚‹), Androidã®é–‹ç™ºã«å‘ã„ã¦ã„ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã‚‚ã‚ã‚‹ã¨æ€ã„ã¾ã™.</description>
    </item>
    
    <item>
      <title>LeakCanary: ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°</title>
      <link>https://satoshun.github.io/2016/10/android-leakcanary-code-reading/</link>
      <pubDate>Sun, 16 Oct 2016 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2016/10/android-leakcanary-code-reading/</guid>
      <description>LeakCanaryã¯ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ã‚’ç™ºè¦‹ã—ã¦ãã‚Œã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™.
ã©ã†ã‚„ã£ã¦ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ã‚’æ¤œçŸ¥ã—ã¦ã„ã‚‹ã®ã‹ãŒæ°—ã«ãªã£ãŸã®ã§ã¾ã¨ã‚.
ãŠãŠã¾ã‹ãªæµã‚Œ  Application#registerActivityLifecycleCallbacksã‚’ä½¿ã„, Activityã®onDestroyã•ã‚ŒãŸã¨ãã«ã‚³ãƒ¼ãƒ«ã•ã‚Œã‚‹onActivityDestroyedã‚’ãƒªãƒƒã‚¹ãƒ³ã™ã‚‹ onActivityDestroyedãŒã‚³ãƒ¼ãƒ«ã•ã‚ŒãŸã‚‰, onDestroyã•ã‚ŒãŸActivityã¸ã®å‚ç…§ãŒãªããªã£ã¦ã„ã‚‹ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ refrenceãŒæ®‹ã£ã¦ã„ãŸã‚‰(ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯!), ã©ã“ã‹ã‚‰å‚ç…§ã•ã‚Œã¦ã„ã‚‹ã‹ã‚’æ¢ã™ å‚ç…§å…ˆãŒæ¢ã›ãŸã‚‰, notificationã‚’ä½œæˆã—, ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ã—ã¦ã„ã‚‹ã“ã¨ã‚’é€šé”ã™ã‚‹ notificationãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã‚‰, ã©ã“ãŒåŸå› ã§ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ãŒç™ºç”Ÿã—ã¦ã„ã‚‹ã‹ã‚’è¡¨ç¤ºã™ã‚‹  ã¨ã„ã†æµã‚Œã«ãªã£ã¦ã„ã¾ã™. è‚ã¯2, 3ã ã¨æ€ã†ã®ã§ãã“ãŒã©ã®ã‚ˆã†ã«å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã‹ã‚’èª¬æ˜ã—ã¾ã™.
onDestroyã•ã‚ŒãŸActivityã¸ã®å‚ç…§ãŒãªããªã£ã¦ã„ã‚‹ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ ã“ã‚Œã«ã¯ReferenceQueueã‚’åˆ©ç”¨ã—ã¾ã™. ReferenceQueueã¯ç™»éŒ²ã—ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒGarbage Collectorã«ã‚ˆã‚Šè§£æ”¾ã•ã‚ŒãŸã‹ã©ã†ã‹ã‚’èª¿ã¹ã‚‹ã‚¯ãƒ©ã‚¹ã§ã™. ã“ã‚Œã«onDestroyãŒã‚³ãƒ¼ãƒ«ã•ã‚ŒãŸActivityã‚’ç™»éŒ²ã—, GCã«ã‚ˆã‚Šè§£æ”¾ã•ã‚ŒãŸã‹ã©ã†ã‹ã‚’æ¤œçŸ¥ã™ã‚‹ã“ã¨ã§ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ã‚’èª¿ã¹ã‚‹ã“ã¨ã‚’å‡ºæ¥ã¾ã™.
ã“ã“ã§, ReferenceQueueãŒGCã‚’æ¤œçŸ¥ã—ãªã‹ã£ãŸã‚‰, ã©ã“ã‹ã‚‰ã®å‚ç…§ãŒåŸå› ã§GCãŒå‘¼ã°ã‚Œãªã„ã®ã‹ã‚’æ¢ã—ã¾ã™.
ã©ã“ã‹ã‚‰å‚ç…§ã•ã‚Œã¦ã„ã‚‹ã‹ã‚’æ¢ã™ ã©ã“ã‹ã‚‰ActivityãŒå‚ç…§ã•ã‚Œã¦ã„ã‚‹ã‹ã‚’æ¢ã™ãŸã‚ã«, ã¾ãšç¾åœ¨ã®heapã®dumpã‚’å–ã‚Šã¾ã™. heapã®dumpã¯ Debug.dumpHprofData(/your/file/path);ã§å–ã‚Œã¾ã™.
ãã‚Œã‚’ https://github.com/square/hahaã‚’ä½¿ã£ã¦ã©ã“ã‹ã‚‰ActivityãŒå‚ç…§ã•ã‚Œã¦ã„ã‚‹ã‹ã‚’æ¢ç´¢ã—ã¾ã™. HAHAã¯, hprofãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰æœ¨æ§‹é€ ã‚’ä½œæˆã—, å„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒã©ã®ã‚ˆã†ãªå‚ç…§é–¢ä¿‚ã«ãªã£ã¦ã„ã‚‹ã‹ã‚’è¡¨ç¾ã—ã¾ã™. HAHAã‚’ä½¿ã„, Activityã‚’èµ·ç‚¹ã¨ã—, ãã‚Œã®è¦ªã®å‚ç…§, è¦ªã®å‚ç…§, &amp;hellip;ã¨æ¢ç´¢ã™ã‚‹ã“ã¨ã§rootã®å‚ç…§ã‚’æ¢ã—ã¾ã™.
ã‚ã¨ã¯, 4, 5ã§rootã®å‚ç…§ã‚’é€šçŸ¥ã—ã¾ã™.
ã¾ã¨ã‚ ã–ã£ãã‚Šã¨LeakCanaryã®èª¬æ˜ã‚’ã—ã¾ã—ãŸ. HAHAã¯hprofã®èª­ã¿è¾¼ã¿ã‚’ã„ã„æ„Ÿã˜ã«ã—ã¦ãã‚Œã‚‹ã ã‘ãªã®ã§, è‚ã¯ReferenceQueueã ã¨æ€ã„ã¾ã™.
ReferenceQueueã¯ãªã‹ãªã‹ä½¿ã†æ©Ÿä¼šã¯ç„¡ã„ã¨æ€ã„ã¾ã™ãŒ, è¦šãˆã¦ãŠãã¨ã„ã¤ã‹å¾—ã™ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“(é©å½“)</description>
    </item>
    
    <item>
      <title>Android: Fragmentã‚’ä½¿ã£ã¦ã€ç”»é¢ã®å‘ãã®å¤‰æ›´æ™‚ã«ãƒ‡ãƒ¼ã‚¿ã‚’ä¿æŒã™ã‚‹</title>
      <link>https://satoshun.github.io/2016/10/android-orientation-data/</link>
      <pubDate>Sun, 09 Oct 2016 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2016/10/android-orientation-data/</guid>
      <description>onSaveInstanceState, onRestoreInstanceStateã‚’ä½¿ã†æ–¹æ³•ã‚‚ã‚ã‚Šã¾ã™ãŒ, ä»Šå›ã¯Fragmentã‚’ä½¿ã†æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã™.
ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ https://github.com/satoshun-example/AndroidRetainData ã«ã‚ã‚Šã¾ã™.
ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã¯ã‚³ã‚¹ãƒˆãŒæ›ã‹ã‚‹ã®ã§, 1åº¦ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ãŸã‚‰, ç”»é¢å›è»¢ã§ã‚¢ã‚¯ãƒ†ã‚£ãƒ“ãƒ†ã‚£ãŒå†ç”Ÿæˆã•ã‚ŒãŸã¨ã—ã¦ã‚‚ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ã„ã¾ã‚ã—ãŸã„, ã¨ã„ã†ã‚±ãƒ¼ã‚¹ãŒã‚ã‚‹ã¨ã—ã¾ã™.
ã‚„ã‚Šæ–¹ ã¾ãš, ãƒ‡ãƒ¼ã‚¿ã‚’ä¿æŒã™ã‚‹Fragmentã‚’å®šç¾©ã—ã¾ã™.
æœ€åˆã«onCreateã§, setRetainInstance(true)ã‚’ã‚³ãƒ¼ãƒ«ã—ã¾ã™.
@Override public void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); setRetainInstance(true); refresh(); } æ¬¡ã«, refreshã§ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¾ã™. ã“ã“ã§ã¯RxJava2 + Retrofitã‚’ä½¿ã£ã¦ã„ã¾ã™.
void refresh() { disposables.clear(); disposables.add(provideGithubAPI() .getRepositories(&amp;#34;satoshun&amp;#34;) .subscribeOn(Schedulers.computation()) .observeOn(AndroidSchedulers.mainThread()) .subscribe( data -&amp;gt; subject.onNext(data), e -&amp;gt; subject.onError(e))); } APIã‚³ãƒ¼ãƒ«ã‚’ã—ã¦, å–å¾—ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’BehaviorSubject(subject)ã«ä¸ãˆã¾ã™.
æœ€å¾Œã«observableãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©ã—, ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹(subject)ã‚’ä»–ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹å‡ºæ¥ã‚‹ã‚ˆã†ã«ã—ã¾ã™.
Observable&amp;lt;List&amp;lt;Repo&amp;gt;&amp;gt; observable() { return subject; } Fragmentã®ãƒ•ãƒ«ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ã“ã“ã«ã‚ã‚Šã¾ã™.
æ¬¡ã«, Activityã®æº–å‚™ã‚’ã—ã¾ã™. Activityã®onCreateã§ãƒ‡ãƒ¼ã‚¿Fragmentã‚’ä½¿ã†ã‚ˆã†ã«ã™ã‚‹ã ã‘ã§ã™.
@Override protected void onCreate(Bundle savedInstanceState) { super.onCreate(savedInstanceState); dataFrag = (RetainFragment) getSupportFragmentManager().</description>
    </item>
    
    <item>
      <title>ISUCON6äºˆé¸ã§æ‚²ã—ãã‚‚è² ã‘ã¦ã—ã¾ã„ã¾ã—ãŸ</title>
      <link>https://satoshun.github.io/2016/09/isucon6/</link>
      <pubDate>Sat, 10 Sep 2016 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2016/09/isucon6/</guid>
      <description>ISUCON6äºˆé¸ã§æ‚²ã—ãã‚‚è² ã‘ã¦ã—ã¾ã„ã¾ã—ãŸ ã“ã‚“ã«ã¡ã¯. ISUCON6ã«3äººãƒãƒ¼ãƒ ã€Œã‚¦ãƒ«ãƒ‰ã€ã¨ã—ã¦å‡ºå ´ã—ãŸã®ã§ã™ãŒ, æ‚²ã—ãã‚‚äºˆé¸è½ã¡ã‚’ã—ã¦ã—ã¾ã„ã¾ã—ãŸ.
ãƒ™ã‚¹ãƒˆã‚¹ã‚³ã‚¢ã¯99,000ç‚¹, æœ€çµ‚ã‚¹ã‚³ã‚¢ã¯76,000ç‚¹ã§, ãƒ™ã‚¹ãƒˆã‚¹ã‚³ã‚¢ãªã‚‰äºˆé¸ã‚’çªç ´ã§ãã¦ã„ãŸã ã‘ã«éå¸¸ã«æ‚”ã—ãæ€ã£ã¦ã„ã¾ã™.
ä»Šå›ã¯, äºˆé¸ã§ä½•ã‚’ã—ãŸã‹ã¨åçœã‚’æ›¸ããŸã„ã¨æ€ã„ã¾ã™. åçœãƒ–ãƒ­ã‚°ã§ã™.
åŸºæœ¬çš„ãªãƒ¡ãƒ³ãƒãƒ¼ã®ã‚¹ãƒšãƒƒã‚¯ Golangã§å‹è² ã—ã¾ã—ãŸ. æœ€åˆã®å®Ÿè£…ã§ã¯æ­£è¦è¡¨ç¾ã‚’ãƒãƒªãƒãƒªã«ä½¿ã£ã¦ã„ã¦, ã‚¹ã‚³ã‚¢ãŒ0ã®çŠ¶æ…‹ã ã£ãŸã®ã§Pythonã«ã—ã‚ˆã†ã‹æ‚©ã‚“ã ã®ã§ã™ãŒ, æœ€çµ‚çš„ã«ã¯è¨€èªã®å·®ã¯ã»ã¼å‡ºãªã„ã ã‚ã†ã¨ã®äºˆæ¸¬ã§Golangã§å‹è² ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸ.
ãƒ¡ãƒ³ãƒãƒ¼ã®ç°¡å˜ãªå½¹å‰²åˆ†æ‹…ã¯ä»¥ä¸‹ã®æ„Ÿã˜ã§ã™.
 åƒ•(ã‚¢ãƒ—ãƒª: Golang) ãƒ¡ãƒ³ãƒãƒ¼ãã®1(ã‚¤ãƒ³ãƒ•ãƒ©+ã‚¢ãƒ—ãƒª) ãƒ¡ãƒ³ãƒãƒ¼ãã®2(ã‚¤ãƒ³ãƒ•ãƒ©+ã‚¢ãƒ—ãƒª)  åƒ•ãŒã‚¢ãƒ—ãƒªã‚’ä¸­å¿ƒã«ç›´ã—ã¦, 2äººã«ã¯ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ã®æ¤œå‡ºã‚„, å…¨ä½“çš„ãªæµã‚Œã‚’è¦‹ã¦ã‚‚ã‚‰ã†æ„Ÿã˜ã«ãªã£ã¦ã„ã¾ã™. ã¨ã¯ã„ãˆ, ã‹ã£ã¡ã‚Šã“ã®å½¹å‰²ã¨ã„ã†ã‚ã‘ã§ã¯ãªã, æ™‚é–“ã«å¿œã˜ã¦å½¹å‰²ã‚’åˆ‡ã‚Šåˆ†ã‘ãªãŒã‚‰ã¨ã„ã†æ„Ÿã˜ã§æŸ”è»Ÿã«ã„ã‘ãŸã‹ãªã¨æ€ã£ã¦ã¾ã™.
æœ€åˆã®2æ™‚é–“ãã‚‰ã„ ã¨ã«ã‹ãGoã®åˆæœŸå®Ÿè£…ãŒã‚¹ã‚³ã‚¢0ãªã®ã§, ãã“ã‹ã‚‰è„±å´ã™ã‚‹ãŸã‚ã«ã„ã‚ã„ã‚ã¨ç´°ã‹ã„ã¨ã“ã‚ã‚’ãƒãƒ¥ãƒ¼ãƒ‹ãƒ³ã‚°ã—ãŸã®ã§ã™ãŒåŠ¹æœãŒå‡ºãš.
ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°ã—ã¦ã¿ã‚‹ã¨, ã‚¢ãƒ—ãƒªãƒ—ãƒ­ã‚»ã‚¹ãŒCPUã‚’ä½¿ã„æœãŸã—ã¦ã„ã¦ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒå‡ºã¦ã„ãªã„æ¨¡æ§˜.
ãã—ã¦ãªã‚“ã‚„ã‹ã‚“ã‚„ã¨, ãƒ¡ãƒ³ãƒãƒ¼ãŒæ­£è¦è¡¨ç¾ã‚’ãƒãƒªãƒãƒªä½¿ã£ã¦ã„ã‚‹ã€Œhtmlifyã€ã®éƒ¨åˆ†ãŒé…ã„ã“ã¨ã‚’çªãæ­¢ã‚ã¦ãã‚ŒãŸã®ã§ãã“ã‚’ä¸­å¿ƒã«å‹è² ã™ã‚‹ã“ã¨ã«.
12æ™‚ãã‚‰ã„ã®æ®µéš ãƒ†ã‚­ã‚¹ãƒˆã«å¯¾ã—ã¦ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒªãƒ³ã‚¯ã‚’æŒ¿å…¥ã™ã‚‹ç®‡æ‰€ã§, æ­£è¦è¡¨ç¾ã®orã‚’ä½¿ã£ã¦ã„ã‚‹ç®‡æ‰€ã‚’ç™ºè¦‹.
re := regexp.MustCompile(&amp;#34;(&amp;#34; + strings.Join(keywords, &amp;#34;|&amp;#34;) + &amp;#34;)&amp;#34;) keywordsã¯7,000ä»¥ä¸Šãªã®ã§ã“ã“ãŒæ˜ã‚‰ã‹ã«ãƒœãƒˆãƒ«ãƒãƒƒã‚¯.
ãã†ã„ãˆã°, æ˜”naoyaã•ã‚“ã®ãƒ–ãƒ­ã‚°ã§ã¯ã¦ãªã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒªãƒ³ã‚¯ãŒã‚¹ã‚±ãƒ¼ãƒ«ã—ãªããªã£ãŸã¨ãã«, ä½•ã‹ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’ä½¿ã£ã¦è§£æ±ºã—ãŸã¿ãŸã„ãªè¨˜äº‹ãŒã‚ã£ãŸã“ã¨ã‚’æ€ã„å‡ºã—ã¦æ­»ã¬æ°—ã§ã‚°ã‚°ã‚‹.
ãã®çµæœ Aho Corasick ã¨ã„ã†ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’ç™ºè¦‹. ã“ã‚Œä½¿ãˆã°ã„ã‘ã‚‹ã‚“ã˜ã‚ƒã­? ã¨ã„ã†ã“ã¨ã§Golangã§ Aho Corasick ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒãªã„ã‹ã‚’æ­»ã¬æ°—ã§ã‚°ã‚°ã‚‹.
ãã®çµæœ, https://github.com/anknown/ahocorasick ã‚’ç™ºè¦‹. ã‚ˆãåˆ†ã‹ã‚“ãªã„ã‘ã©ã“ã‚Œã‚’æ­»ã¬æ°—ã§ã‚¢ãƒ—ãƒªã«é©å¿œã•ã›ã‚‹.
13:30ãã‚‰ã„ ä½•ã‹ã‚ˆãåˆ†ã‹ã‚“ãªã„ã‘ã©å‹•ã„ãŸ! ãã—ã¦ã‚¹ã‚³ã‚¢ã¯15,000ãã‚‰ã„ã«ãªã‚‹!
ã“ã‚Œã§htmlifyã¯å¤§ä¸ˆå¤«ã ã¨æ€ã„, keywordã‚’redisã§ãƒªã‚¹ãƒˆã§ä¿æŒã—ã¦, MySQLã®ã‚¯ã‚¨ãƒªã‚’æ¸›ã‚‰ã™ä½œæ¥­ã«å…¥ã‚‹.
ã“ã‚ŒãŒãƒŸã‚¹ã§ã—ãŸ. htmlifyã®ã‚³ã‚¹ãƒˆãŒã¾ã é«˜ã, ã“ã“ã‚’ã‚‚ã†å°‘ã—é‡ç‚¹çš„ã«ã‚„ã‚‹ã¹ãã ã£ãŸ.</description>
    </item>
    
    <item>
      <title>Golang: structã§å®£è¨€ã—ãŸãƒ¡ã‚½ãƒƒãƒ‰ã‚’æ˜ç¤ºçš„ã«å‘¼ã³å‡ºã™</title>
      <link>https://satoshun.github.io/2016/08/go-struct-method/</link>
      <pubDate>Mon, 01 Aug 2016 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2016/08/go-struct-method/</guid>
      <description>Goã§ã¯, å®£è¨€ã—ãŸtypeã«ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™.
å…¸å‹çš„ãªç”¨é€”ã¨ã—ã¦ã¯, structã§ãƒ‡ãƒ¼ã‚¿å‹ã‚’å®£è¨€ã—ã¦, ãã‚Œã«ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©ã™ã‚‹ä½¿ã„æ–¹ã ã¨æ€ã„ã¾ã™.
type Hoge struct { } func (h Hoge) h1() { fmt.Println(&amp;#34;called h1&amp;#34;) } func (h *Hoge) h2() { fmt.Println(&amp;#34;called h2&amp;#34;) } é€šå¸¸ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã¶éš›ã¯, ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œæˆã—, ãã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’é€šã˜ã¦ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ã‚³ãƒ¼ãƒ«ã—ã¾ã™.
h := Hoge{} h.h1() // output: called h1 h.h2() // output: called h2 ã“ã®ã•ã„, h1, h2ãƒ¡ã‚½ãƒƒãƒ‰ã‚’é€šã˜ã¦, æš—é»™çš„ã«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚‚æ¸¡ã•ã‚Œã¦ã„ã¾ã™.
æš—é»™çš„ã«æ¸¡ã—ã¦ã„ã‚‹éƒ¨åˆ†ã‚’, æ˜ç¤ºçš„ã«æ¸¡ã™ã¨ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™.
h := Hoge{} Hoge.h1(h) // output: called h1 == h.h1() (*Hoge).h2(&amp;amp;h) // output: called h2 == h.h2()  (*Hoge).h1(&amp;amp;h) // output: called h1 == h.</description>
    </item>
    
    <item>
      <title>Android: MVPã®Presenterã®éåŒæœŸå‘¨ã‚Šã®ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®æ›¸ãæ–¹</title>
      <link>https://satoshun.github.io/2016/07/android-test-mvp/</link>
      <pubDate>Sun, 31 Jul 2016 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2016/07/android-test-mvp/</guid>
      <description>MVP(Model-View-Presenter)ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãŒæµè¡Œã£ã¦ã¾ã™ã­!
MVPã¯ãƒ†ã‚¹ã‚¿ãƒ–ãƒ«ã§ã‚ã‚‹ã“ã¨ãŒ1ã¤ã®ã‚¦ãƒªã¨ãªã£ã¦ã„ã¾ã™ãŒ, å®Ÿéš›ã«Presenterã®ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’ã©ã®ã‚ˆã†ã«ã—ã¦æ›¸ãã‹ã‚’ç´¹ä»‹ã—ãŸã„ã¨æ€ã„ã¾ã™.
ä»Šå›ã®ã‚³ãƒ¼ãƒ‰ã¯ https://github.com/satoshun-example/AndroidTestSample ã«ä¸Šã’ã¦ã‚ã‚‹ã®ã§, è‰¯ã‹ã£ãŸã‚‰è¦‹ã¦ä¸‹ã•ã„.
ä½¿ã†ãƒ„ãƒ¼ãƒ«/ãƒ©ã‚¤ãƒ–ãƒ©ãƒª  JUnit4 Mockito  ä»Šå›, ãƒ†ã‚¹ãƒˆæ›¸ããŸã„ç®‡æ‰€ ä»Šå›ã¯, MainPresenterã‚¯ãƒ©ã‚¹ã‚’ãƒ†ã‚¹ãƒˆã—ã¾ã™.
public class MainPresenter implements MainContract.Presenter { @NonNull private final UserDataSource dataSource; @NonNull private final MainContract.View view; public MainPresenter(@NonNull UserDataSource dataSource, @NonNull MainContract.View view) { this.dataSource = dataSource; this.view = view; } @Override public void start() { view.showLoadingIndicator(); dataSource.getUser(new UserDataSource.Callback() { @Override public void onUserLoaded(@NonNull User user) { view.hideLoadingIndicator(); view.showUser(user); } @Override public void onNotAvailable() { view.</description>
    </item>
    
    <item>
      <title>Linux perf: CPUç·¨</title>
      <link>https://satoshun.github.io/2016/07/linux-perf/</link>
      <pubDate>Sun, 17 Jul 2016 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2016/07/linux-perf/</guid>
      <description>Linux perf: CPUç·¨ CPUåˆ©ç”¨ç‡, é«˜è² è·ãªãƒ—ãƒ­ã‚»ã‚¹ã®ç‰¹å®šã®ä»•æ–¹ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™.
0. lscpu ã‚·ã‚¹ãƒ†ãƒ ã®ã‚³ã‚¢æ•°,ãƒã‚·ãƒ³ã®ã‚¹ãƒšãƒƒã‚¯ã‚’æœ€åˆã«èª¿ã¹ã¾ã™.
root@vagrant:~# lscpu Architecture: x86_64 CPU op-mode(s): 32-bit, 64-bit Byte Order: Little Endian CPU(s): 4 On-line CPU(s) list: 0-3 Thread(s) per core: 1 Core(s) per socket: 4 Socket(s): 1 NUMA node(s): 1 Vendor ID: GenuineIntel CPU family: 6 Model: 69 Model name: Intel(R) Core(TM) i7-4650U CPU @ 1.70GHz Stepping: 1 CPU MHz: 2300.000 BogoMIPS: 4600.00 Hypervisor vendor: KVM Virtualization type: full L1d cache: 32K L1i cache: 32K L2 cache: 256K L3 cache: 4096K NUMA node0 CPU(s): 0-3 Flags: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush mmx fxsr sse sse2 ht syscall nx rdtscp lm constant_tsc rep_good nopl xtopology nonstop_tsc pni pclmulqdq ssse3 cx16 sse4_1 sse4_2 movbe popcnt aes xsave avx rdrand hypervisor lahf_lm abm ã‚³ã‚¢æ•°ã¯4, Core i7ã¨ã„ã†ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™.</description>
    </item>
    
    <item>
      <title>ãŠæ‰‹è»½ã«ãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚µãƒ¼ãƒã‚’ç«‹ã¦ã‚‹</title>
      <link>https://satoshun.github.io/2016/02/python-cgihttpserver/</link>
      <pubDate>Tue, 16 Feb 2016 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2016/02/python-cgihttpserver/</guid>
      <description>ã‚µã‚¯ãƒƒã¨ãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚µãƒ¼ãƒã‚’ç«‹ã¦ã‚‹ãŸã‚ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ç´¹ä»‹ã—ã¾ã™. Python2ç³»ãŒå…¥ã£ã¦ã„ã‚Œã°, ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚µãƒ¼ãƒã‚’ç«‹ã¦ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™.
$ python -m CGIHTTPServer Serving HTTP on 0.0.0.0 port 8000 ... ãƒ–ãƒ©ã‚¦ã‚¶ã§, http://localhost:8000ã«ã‚¢ã‚¯ã‚»ã‚¹å‡ºæ¥ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸ.
ã¡ã‚‡ã£ã¨ã‚³ãƒãƒ³ãƒ‰ãŒé•·ã„ã®ã§, åƒ•ã¯, ä¸Šè¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’aliasã«ç™»éŒ²ã—ã¦ã„ã¾ã™.
alias ser=&amp;#39;python -m CGIHTTPServer&amp;#39; ã“ã‚Œã§, serã§ã‚µãƒ¼ãƒãŒç«‹ã¤ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸ.
ã¡ãªã¿ã«, ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ãƒãƒ¼ãƒˆ8000ã§ã‚µãƒ¼ãƒãŒç«‹ã¤ã®ã§ã™ãŒ, æŒ‡å®šã™ã‚‹ã“ã¨ã‚‚å‡ºæ¥ã¾ã™.
$ ser 10000 Serving HTTP on 0.0.0.0 port 10000 ... ã“ã‚Œã§, ã„ã¤ã§ã‚‚ç°¡å˜ã«serã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚µãƒ¼ãƒã‚’ç«‹ã¦ã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸ.</description>
    </item>
    
    <item>
      <title>Android: ãƒ†ã‚¹ãƒˆãƒ¡ã‚½ãƒƒãƒ‰ã®å‘½åè¦å‰‡ã«ã¤ã„ã¦</title>
      <link>https://satoshun.github.io/2016/02/android-test-method-naming-convention/</link>
      <pubDate>Fri, 12 Feb 2016 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2016/02/android-test-method-naming-convention/</guid>
      <description>ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®ä¸–ç•Œã§ã¯Androidã«é™ã‚‰ãš, ãƒ†ã‚¹ãƒˆã‚’æ›¸ãã¨ã„ã†ã®ã¯éå¸¸ã«é‡è¦ã§ã™.
ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®å ´åˆã¯, ãƒ¡ã‚½ãƒƒãƒ‰ãƒ¬ãƒ™ãƒ«ã§ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ãŒèµ·ãã¦ã„ãªã„ã“ã¨ã‚’, æ©Ÿèƒ½/å—ã‘å…¥ã‚Œãƒ†ã‚¹ãƒˆã®å ´åˆã¯, ãƒ¦ãƒ¼ã‚¶ã®è¡Œå‹•ãƒ¬ãƒ™ãƒ«ã§ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³ãŒèµ·ãã¦ã„ãªã„ã“ã¨ã‚’ä¿è¨¼ã™ã‚‹ãŸã‚ã«å¿…è¦ã«ãªã‚Šã¾ã™.
ä»Šå›ã®è¨˜äº‹ã§ã¯, Androidã«ãŠã‘ã‚‹ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ(å„ãƒ†ã‚¹ãƒˆãƒ¡ã‚½ãƒƒãƒ‰)ã®å‘½åè¦å‰‡ã®è©±ã‚’ã—ã¾ã™. ã—ã‹ã—, ä»–ã®è¨€èª/ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®å ´åˆã§ã‚‚åŒæ§˜ã®è€ƒãˆæ–¹ã‚’å‡ºæ¥ã‚‹ã¨æ€ã„ã¾ã™.
ç”¨èªå®šç¾© ã‚¢ãƒ—ãƒªã‚³ãƒ¼ãƒ‰: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æœ¬ä½“ã®ã‚³ãƒ¼ãƒ‰
ãªãœãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®å‘½åè¦å‰‡ã‚’æ°—ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‹? Androidã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã„ã¦, ã‚¢ãƒ—ãƒªã‚³ãƒ¼ãƒ‰ã¯ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã‚„, æ–°æ©Ÿèƒ½ã®è¿½åŠ ãªã©ã§é »ç¹ã«ç›®ã‚’é€šã—ã¾ã™ãŒ, ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã¯1åº¦æ›¸ã„ãŸã‚‰, ãã®ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã™ã‚‹ã¾ã§æ”¾ç½®ã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒå¤šã„ãªã¨æ„Ÿã˜ã¦ã„ã¾ã™(ä½•ã«ã—ã¦ã‚‚ã‚¢ãƒ—ãƒªã‚³ãƒ¼ãƒ‰ã»ã©ã¯ç›®ã‚’é€šã•ãªã„)
æ•°é€±é–“å‰ã«æ›¸ã„ãŸãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ãªã‚“ã¦å¿˜ã‚Œã¦ã—ã¾ã†ã®ã§, ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã«ã¯ã„ã‚ã„ã‚ãªæƒ…å ±ã‚’ã‚³ãƒ¡ãƒ³ãƒˆãªã©ã§æ®‹ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™.
ã¾ãš, ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®æ§‹æˆã‚’è€ƒãˆã‚‹ æœ¬é¡Œã«å…¥ã‚‹å‰ã«, ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ãŒã©ã®ã‚ˆã†ãªè¦ç´ ã§æ§‹æˆã•ã‚Œã¦ã„ã‚‹ã‹ã‚’èª¬æ˜ã‚’ã—ã¾ã™.
ä¸€èˆ¬çš„ãªãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã¯æ¬¡ã®4ã¤ã®è¦ç´ ã«åˆ†å‰²ã§ãã¾ã™.
 äº‹å‰æº–å‚™(setup) å®Ÿè¡Œ(exercise) å®£è¨€(assertion) å¾Œå‡¦ç†(teardown)  ã“ã‚Œã ã¨åˆ†ã‹ã‚Šã«ãã„ã®ã§, ã‚³ãƒ¼ãƒ‰ã§èª¬æ˜ã™ã‚‹ã¨,
public class HogeTest { List&amp;lt;String&amp;gt; lists; @Before public void setup() { // äº‹å‰æº–å‚™(setup)  lists = new ArrayList&amp;lt;&amp;gt;(); lists.add(&amp;#34;1&amp;#34;); lists.add(&amp;#34;123&amp;#34;); } @After public void teardown() { // å¾Œå‡¦ç†(teardown)  } @Test public void testGet() { // å®Ÿè¡Œ(exercise)  String actual = lists.</description>
    </item>
    
    <item>
      <title>Android: MVP, Dagger2, Retrofitãªã©ãªã©ã§ã‚¢ãƒ—ãƒªã‚’ä½œã‚Šã¾ã—ãŸ</title>
      <link>https://satoshun.github.io/2015/09/android-app-events/</link>
      <pubDate>Sun, 06 Sep 2015 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2015/09/android-app-events/</guid>
      <description>ã‚¤ãƒ™ãƒ³ãƒˆã‚’æ¤œç´¢ã™ã‚‹Androidã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ãŸã®ã§, ä½¿ã£ãŸæŠ€è¡“ã®ã¾ã¨ã‚ã§ã™.
ã‚¢ãƒ—ãƒªã®æŠ€è¡“çš„æ©Ÿèƒ½, ç‰¹å¾´ã¯ä»¥ä¸‹ã«ãªã‚Šã¾ã™.
 HTTPã‚’ä»‹ã—ã¦ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹  æ¤œç´¢å¯¾è±¡ã®ã‚µãƒ¼ãƒã¯è¤‡æ•°ã‚ã‚‹ãŸã‚(ä»Šå›ã¯3ã¤), ã©ã“ã‹ã§ãã‚Œã‚‰ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‡ãƒ¼ã‚¿ã‚’åŒæœŸã™ã‚‹å¿…è¦ãŒã‚ã‚‹  ãã‚Œã‚‰è¤‡æ•°ã®ã‚µãƒ¼ãƒãƒ¼ã¯JSONã‚’è¿”ã™ãŒ, å¾®å¦™ã«JSONã®æ§‹é€ ãŒç•°ãªã‚‹     Data-Bindingãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã† MVP(Model-View-Presenter)ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½¿ã†  Activity(Fragment)ã«æ©Ÿèƒ½ãŒé›†ä¸­ã—ãªã„ã‚ˆã†ã«ã—ãŸã„!    ä¸Šè¨˜ã‚’ä¸­å¿ƒã«ã©ã®ã‚ˆã†ã«å®Ÿè£…ã‚’ã—ãŸã‹ã‚’èª¬æ˜ã‚’ã—ã¦ã„ãã¾ã™.
ãƒ•ãƒ«ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ã“ã“ã«ã‚ã‚Šã¾ã™. https://github.com/satoshun/AndroidEvents
HTTPã‚’ä»‹ã—ã¦ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ connpass, Atnd, Zusaarã®3ã¤ã®APIã‚’ä½¿ã†ã“ã¨ã«ã—ã¾ã—ãŸ. Retrofitã§APIã‚’å®šç¾©ã—, JSONã®ãƒ‘ãƒ¼ã‚¹ã«ã¯Gson, ãƒ‡ãƒ¼ã‚¿ã®å‡¦ç†ã«ã¯RxJavaã‚’ä½¿ã„ã¾ã—ãŸ.
ä¾‹ãˆã°, connpass APIã¯ä»¥ä¸‹ã®ã‚ˆã†ã«å®šç¾©ã—ã¾ã—ãŸ.
/** Get data from Conpass */ public interface Connpass { @GET(&amp;#34;/v1/event&amp;#34;) Observable&amp;lt;ConnpassResponse&amp;gt; search( @Query(&amp;#34;ymd&amp;#34;) List&amp;lt;String&amp;gt; ymds); @GET(&amp;#34;/v1/event&amp;#34;) Observable&amp;lt;ConnpassResponse&amp;gt; search( @Query(&amp;#34;keyword&amp;#34;) String keyword, @Query(&amp;#34;ymd&amp;#34;) List&amp;lt;String&amp;gt; ymds); } keywordã¨ymdã‚’æŒ‡å®šã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ç”Ÿæˆã—ã¾ã™. ã€Œ2015/12/31ã®Androidã®ã‚¤ãƒ™ãƒ³ãƒˆã€ã®ã‚ˆã†ã«ä½¿ã†æƒ³å®šã§ã™. Retrofitã‚’ä½¿ã†ã¨, ã“ã®ã‚ˆã†ã«interfaceã¨ã—ã¦, APIã‚’å®šç¾©ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™. (https://github.com/satoshun/AndroidEvents/blob/master/app/src/main/java/com/github/satoshun/events/network/Connpass.java#L10)
æ¬¡ã«, RxJavaã®èª¬æ˜ã‚’ã—ã¾ã™. RxJava(Observable)ã‚’ä½¿ã†ã¨, éåŒæœŸã«ãƒ‡ãƒ¼ã‚¿ãŒæ‰±ã„ã‚„ã™ããªã‚Šã¾ã™.</description>
    </item>
    
    <item>
      <title>Improving Android: åˆ—æŒ™ã«ã¯enumã§ã¯ãªãIntDef, StringDef annotationã‚’ä½¿ã†</title>
      <link>https://satoshun.github.io/2015/08/improve-android-performance1/</link>
      <pubDate>Tue, 11 Aug 2015 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2015/08/improve-android-performance1/</guid>
      <description>enumã®å…¸å‹çš„ãªä½¿ã„æ–¹ã¨ã—ã¦, æœˆ(month)ã‚„, ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ—ãƒ­ã‚³ãƒˆãƒ«ãªã©ã®, ç‰¹å®šã®ç¨®é¡ã‚’åˆ—æŒ™ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã¾ã™.
åˆ—æŒ™å‹ã¨ã—ã¦ã®enumã¯, ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ãã“ã¨ãŒå‡ºæ¥ã¾ã™.
enum Month { JANUARY, FEBRUARY, MARCH, APRIL, MAY, JUNE, JULY, AUGUST, SEPTEMBER, OCTOBER, NOVEMBER, DECEMBER } /** æŒ‡å®šã—ãŸæœˆãŒä½•æ—¥ã¾ã§ã‚ã‚‹ã‹ã‚’è¿”ã™ */ int getDate(Month month) { //// } ã¾ãŸ, enumã§ã¯ãªãå®šæ•°ã‚’ä½¿ã†ã¨ã—ãŸã‚‰ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ãã“ã¨ãŒå‡ºæ¥ã¾ã™.
static final int JANUARY = 1; static final int FEBRUARY = 2; static final int MARCH = 3; static final int APRIL = 4; ... static final int NOVEMBER = 11; static final int DECEMBER = 12; /** æŒ‡å®šã—ãŸæœˆãŒä½•æ—¥ã¾ã§ã‚ã‚‹ã‹ã‚’è¿”ã™ */ int getDate(int month) { //// } å®šæ•°ã‚’ä½¿ã†ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã ã¨, getDate(int)ã®ãŸã‚, äºˆæœŸã›ã¬å€¤ãŒå…¥ã£ã¦ãã¦ã—ã¾ã†å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™.</description>
    </item>
    
    <item>
      <title>Android: Picassoã§ä½¿ã‚ã‚Œã¦ã„ã‚‹ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³</title>
      <link>https://satoshun.github.io/2015/06/reading_picasso/</link>
      <pubDate>Fri, 12 Jun 2015 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2015/06/reading_picasso/</guid>
      <description>Picassoã§ä½¿ã‚ã‚Œã¦ã„ã‚‹ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç´¹ä»‹ã™ã‚‹è¨˜äº‹ã§ã™.
Singletonãƒ‘ã‚¿ãƒ¼ãƒ³ Singletonãƒ‘ã‚¿ãƒ¼ãƒ³ã¯, ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ç”Ÿæˆã‚’1ã¤ã«åˆ¶é™ã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ãªã‚Šã¾ã™.
https://github.com/square/picasso/blob/d35058278cff55874d133cfd63286dd0f1ff0d50/picasso/src/main/java/com/squareup/picasso/Picasso.java#L672
public static Picasso with(Context context) { if (singleton == null) { synchronized (Picasso.class) { if (singleton == null) { singleton = new Builder(context).build(); } } } return singleton; } Picasso#withã¯, ã™ã§ã«Picassoã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ singleton ãŒç”Ÿæˆã•ã‚Œã¦ã„ã‚Œã°ãã‚Œã‚’è¿”ã—, ç”Ÿæˆã•ã‚Œã¦ã„ãªã‘ã‚Œã°, ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã—ã¦è¿”ã—ã¾ã™.
ã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ãƒ¡ãƒªãƒƒãƒˆã¯, ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å¤šãã¦ã‚‚1ã¤ã—ã‹ä½œã‚‰ãªã„ã®ã§ãƒ¡ãƒ¢ãƒªçš„ã«æœ‰åˆ©ãªç‚¹ã§ã™(ä½¿ã„å›ã›ã‚‹) ã—ã‹ã—, singletonãªã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¯, è¤‡æ•°ã®ã‚¯ãƒ©ã‚¹ã‹ã‚‰ä½¿ã‚ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§, ã‚¹ãƒ¬ãƒƒãƒ‰ã‚»ãƒ¼ãƒ•ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™.
ã‚¹ãƒ¬ãƒƒãƒ‰ã‚»ãƒ¼ãƒ•ã«ã™ã‚‹ãŸã‚ã«ã¯, å…¨ã¦ã®fieldã®å€¤ã‚’finalã«ã™ã‚‹. æ’ä»–çš„åˆ¶å¾¡ã‚’å…¥ã‚Œã‚‹ãªã©ã®æ–¹æ³•ãŒã‚ã‚Šã¾ã™.
Builderãƒ‘ã‚¿ãƒ¼ãƒ³ Builderãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆæ™‚ã«å¤šæ•°ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒå¿…è¦ãªã¨ãã«ä¾¿åˆ©ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã™.
https://github.com/square/picasso/blob/d35058278cff55874d133cfd63286dd0f1ff0d50/picasso/src/main/java/com/squareup/picasso/Picasso.java#L702
public static class Builder { private final Context context; private Downloader downloader; private ExecutorService service; private Cache cache; private Listener listener; private RequestTransformer transformer; private List&amp;lt;RequestHandler&amp;gt; requestHandlers; private Bitmap.</description>
    </item>
    
    <item>
      <title>å¿ƒç†å­¦: äººé–“ã¯åˆç†çš„ãªåˆ¤æ–­ã¯å‡ºæ¥ãªã„</title>
      <link>https://satoshun.github.io/2015/06/anchoring_effect/</link>
      <pubDate>Mon, 08 Jun 2015 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2015/06/anchoring_effect/</guid>
      <description>äººé–“ã¯åˆç†çš„ãªåˆ¤æ–­ã‚’ã—ã¦ã„ã‚‹ã‚ˆã†ã§, å®Ÿã¯ãã‚“ãªã«ã—ã¦ã„ãªã„ã¨ã„ã†è©±ã‚’ã—ã¾ã™.
ä¾‹: å€¤å¼•ãå•†å“ æ™®æ®µ, 1,000å††ã®ã¨ã‚“ã‹ã¤å®šé£ŸãŒã‚ã‚‹ã¨ã—ã¾ã™. ãã®æ—¥ã¯å‰²å¼•ã‚»ãƒ¼ãƒ«ã§40%OFFã®600å††ã«ãªã£ã¦ã„ã¾ã—ãŸ. ã“ã®æ™‚ã«æœ¬æ¥ã¯, ã€Œã“ã®ã¨ã‚“ã‹ã¤å®šé£ŸãŒ600å††ã€ãŒé«˜ã„ã‹ã©ã†ã‹ã§åˆ¤æ–­ã‚’ä¸‹ã•ãªã„ã¨ã„ã‘ã¾ã›ã‚“. ã—ã‹ã—, è„³ã§ã¯ã€Œæ™®æ®µã‚ˆã‚Š400å††å®‰ã„!ãŠå¾—!!ã€ã¨åˆ¤æ–­ã—, ãŠå¾—ãªã¨ã‚“ã‹ã¤å®šé£Ÿã‚’é¸ã¶å¯èƒ½æ€§ãŒã‚ãŒã‚Šã¾ã™.
ã“ã®ç¾è±¡ã‚’, ã‚¢ãƒ³ã‚«ãƒªãƒ³ã‚°åŠ¹æœ(Anchoring effect)ã¨å‘¼ã³ã¾ã™. 1,000å††ãŒã‚¢ãƒ³ã‚«ãƒ¼(ä¸€ç¨®ã®åŸºæº–)ã«ãªã‚Š, 600å††ã‚’éå¸¸ã«ãŠå¾—ã¨åˆ¤æ–­ã—ã¦ã—ã¾ã„ã¾ã™. ä¾‹ãˆã°, éš£ã®åº—ã§å…¨ãåŒã˜ã¨ã‚“ã‹ã¤å®šé£ŸãŒ600å††ã§å£²ã‚‰ã‚Œã¦ã„ã‚‹ã¨ã—ã¦ã‚‚, ã“ã¡ã‚‰ã®ã¨ã‚“ã‹ã¤å®šé£ŸãŒãŠå¾—ã ã¨åˆ¤æ–­ã—ã¾ã™. ã“ã‚Œã¯åˆç†çš„ãªåˆ¤æ–­ã¨ã¯ã„ãˆã¾ã›ã‚“.
ã‚‚ã®ã‚’è²©å£²ã™ã‚‹æ™‚ã¯ã‚¢ãƒ³ã‚«ãƒ¼ã‚’æ„è­˜ã—ã¦å€¤æ®µè¨­å®šã™ã‚‹ã¨, ãƒ¦ãƒ¼ã‚¶ã®å¿ƒã‚’æºã•ã¶ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™.
åˆç†çš„ã«åˆ¤æ–­ã™ã‚‹ãªã‚‰, å‰²å¼•å‰ã®å€¤æ®µã«ã¯å½±éŸ¿ã‚’å—ã‘ã¦ã¯ãƒ€ãƒ¡ã§ã™. ãƒ¡ãƒ¼ã‚«ãƒ¼ã¯å®šä¾¡ã‚’é«˜ã‚ã«è¨­å®šã—ã¦ã„ã¾ã™. å†·å‡é£Ÿå“ãªã‚“ã‹ã¯å¸¸ã«å‰²å¼•ã‚»ãƒ¼ãƒ«ã‚’ã—ã¦ã„ã¾ã™.
ä¾‹: å…¨ãç„¡é–¢ä¿‚ãªæ•°å­— ã€Œå€¤å¼•ãå•†å“ã ã£ãŸã‚‰, ãªã‚“ã¨ãªãå½±éŸ¿ã‚’å—ã‘ã¦ã„ã‚‹æ°—ãŒã™ã‚‹ã€ã¨ã„ã†äººã¯å¤šã„ã¨æ€ã„ã¾ã™. ã—ã‹ã—, å…¨ãç„¡é–¢ä¿‚ãªæ•°å­—ã«ã‚‚äººé–“ã¯å½±éŸ¿ã‚’å—ã‘ã¾ã™.
äº‹å‰ã«10 or 50ã¨ã„ã†æ•°å­—ã‚’è¦‹ã›ã‚‰ã‚Œã¦ã„ã‚‹ã¨ã—ã¾ã™. æ¬¡ã«Android5.0ã®ã‚·ã‚§ã‚¢ç‡ç­”ãˆã¦ã‚‚ã‚‰ã„ã¾ã™. ã“ã®æ™‚, Android5.0ã®ã‚·ã‚§ã‚¢ç‡ã«é–¢ã—ã¦ãªã‚“ã‚‰æƒ…å ±ã‚’æŒã£ã¦ã„ãªã‘ã‚Œã°, 10 or 50ã¨ã„ã†æ•°å­—ã«å¤§ããå½±éŸ¿ã‚’å—ã‘ã‚‹ã“ã¨ãŒåˆ†ã‹ã£ã¦ã„ã¾ã™. ã“ã‚Œã¯10 or 50ã¨ã„ã†æ•°å­—ãŒåŸºæº–(ã‚¢ãƒ³ã‚«ãƒªãƒ³ã‚°)ã¨ã—, æ­£è§£ã ã¨æ€ã†æ•°å­—ã«èª¿æ•´ã™ã‚‹ãŸã‚ã§ã™.
ã“ã‚Œã¯, ç›´æ„Ÿçš„ã«ã¯ã€Œãã‚“ãªã“ã¨ãªã„ã‚ˆã¨ã€è¨€ã„ãŸã„ã¨ã“ã‚ã§ã™ãŒ, å¤šãã®äººé–“ãŒç„¡é–¢ä¿‚ãªæ•°å­—ã«å½±éŸ¿ã‚’å—ã‘ã‚‹ã‚ˆã†ã§ã™.
åˆç†çš„ã«åˆ¤æ–­ã™ã‚‹ãªã‚‰, äº‹å‰ã®æ•°å­—ã«å½±éŸ¿ã‚’å—ã‘ã¦ã¯ãƒ€ãƒ¡ã§ã™. ã—ã‹ã—, ã‚ˆã»ã©æ„è­˜ã—ãªã„é™ã‚Šäººé–“ã®è„³ã¯ç„¡é–¢ä¿‚ãªæ•°å­—ã«ã‚‚å½±éŸ¿ã‚’å—ã‘ã¦ã—ã¾ã„ã¾ã™.
ä¾‹: ã„ã‚ã„ã‚ãªãƒ¬ãƒ³ã‚¸å¸¯ã®å•†å“ç¾¤ ã‚ã‚‹é«˜ç´šãƒãƒƒãƒˆãƒ¬ã‚¹A,BãŒã‚ã‚‹ã¨ã—ã¾ã™. ãƒãƒƒãƒˆãƒ¬ã‚¹Aã¯78,000å††, ãƒãƒƒãƒˆãƒ¬ã‚¹Bã¯128,000å††ã®æ™‚ã«, ãƒãƒƒãƒˆãƒ¬ã‚¹Bã‚’é¸ã°ã›ã‚‹ãŸã‚ã«ã¯ã©ã†ã™ã‚‹ã®ãŒã‚ˆã„ã§ã—ã‚‡ã†ã‹? ãã‚Œã¯, ãƒãƒƒãƒˆãƒ¬ã‚¹C 488,000å††ã‚’å£²ã‚Šå‡ºã™ã“ã¨ã§ã™.
ãƒãƒƒãƒˆãƒ¬ã‚¹A 78,000å††, ãƒãƒƒãƒˆãƒ¬ã‚¹B 128,000å††, ãƒãƒƒãƒˆãƒ¬ã‚¹C 488,000å††ã¨ã‚ã‚‹ã¨, ãƒãƒƒãƒˆãƒ¬ã‚¹Aã ã¨å®‰ã™ãã¦ä¸å®‰, ãƒãƒƒãƒˆãƒ¬ã‚¹Cã ã¨é«˜ã™ãã‚‹ã—, ã¡ã‚‡ã†ã©ä¸­é–“å¸¯ã®ãƒãƒƒãƒˆãƒ¬ã‚¹Bã‚’è²·ãŠã†ã¨èª˜å°ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™.</description>
    </item>
    
    <item>
      <title>Android: Dagger2ã§DIã‚’ã™ã‚‹. u2020ã‹ã‚‰èª­ã¿è§£ãç·¨ Part2</title>
      <link>https://satoshun.github.io/2015/05/dagger2_2/</link>
      <pubDate>Sun, 24 May 2015 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2015/05/dagger2_2/</guid>
      <description>æ¦‚è¦ ã“ã®è¨˜äº‹ã§ã¯, JakeWhartonã•ã‚“ã®u2020ã‹ã‚‰, Androidã§Dagger2ã‚’ä½¿ã†ã¨ãã®å®Ÿè·µçš„ãªæ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã™. u2020ã¯Dagger1ã‚’ä½¿ã£ã¦ã„ã¾ã™ãŒ, Dagger2ã«ãŠã„ã¦ã‚‚åŒæ§˜ã«ä½¿ãˆã‚‹ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ãªã®ã§, u2020ã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ã¦èª¬æ˜ã—ã¾ã™.
DI, Dagger2ã®åŸºæœ¬ã«ã¤ã„ã¦çŸ¥ã‚ŠãŸã„æ–¹ã¯, Part1ã‚’è¦‹ã¦ä¸‹ã•ã„.
ç›®æ¬¡
 debugã¨productionã§Moduleã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ Debugå°‚ç”¨ã®Viewã‚’ä½œã‚‹ Mockãƒ¢ãƒ¼ãƒ‰ã®å®šç¾© -ã€€ã¾ã¨ã‚  debugã¨productionã§Moduleã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ gradleã¯, productFlavorsã‚’è¨­å®šã™ã‚‹ã“ã¨ã§, ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰, ãƒ“ãƒ«ãƒ‰è¨­å®šã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™. u2020ã§ã¯, production, internalã®flavorãŒã‚ã‚Šã¾ã™. ãã—ã¦, u2020ã¯flavorã®ç¨®é¡ã«ã‚ˆã£ã¦, DIã™ã‚‹å¯¾è±¡ã‚’åˆ‡ã‚Šæ›¿ãˆã¦ã„ã¾ã™. productionç”¨ã®Componentã¨debugç”¨ã®Componentã‚’ä½œæˆã™ã‚‹ã“ã¨ã§ãã‚Œã‚’å®Ÿç¾ã—ã¦ã„ã¾ã™. å…·ä½“çš„ã«ã¯,
 /src/production/java/com/jakewharton/u2020/Modules.java /src/internalDebug/java/com/jakewharton/u2020/Modules.java /src/internalRelease/java/com/jakewharton/u2020/Modules.javaã«  ãã‚Œãã‚ŒModuleã‚’å®šç¾©ã—, ãã‚Œã‚’Applicationã‚¯ãƒ©ã‚¹ã‹ã‚‰èª­ã¿è¾¼ã‚€ã‚ˆã†ã«ã—ã¦ã„ã¾ã™. ã“ã‚Œã§, flavorã”ã¨ã«injectã™ã‚‹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™.
ã“ã†ã™ã‚‹ã¨ä½•ãŒå¬‰ã—ã„ã‚“ã§ã—ã‚‡ã†ã‹? ä¾‹ãˆã°ä»¥ä¸‹ã®ã“ã¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã™.
 Debugã®ã¿ãƒ­ã‚°ã‚’æœ‰åŠ¹ã«ã—ãŸã„ APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’å¤‰ãˆãŸã„ debugå°‚ç”¨ã®Viewã‚’å‡ºã—ãŸã„ Testç”¨ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’injectã—ãŸã„ etc, etc&amp;hellip;  ä»¥ä¸‹ã§ã¯, ã‚ˆã‚Šç´°ã‹ãèª¬æ˜ã—ã¦ã„ãã¾ã™.
Debugå°‚ç”¨ã®Viewã‚’ä½œã‚‹ u2020ã§ã¯, Debugå°‚ç”¨ã®View DebugAppContainerãŒã‚ã‚Šã¾ã™. Debugå°‚ç”¨ã®View ã¯ã“ã‚“ãªæ„Ÿã˜ã§ã™. Debugãƒ“ãƒ«ãƒ‰ã®æ™‚ã¯, ã“ã®Containerã‚’injectã—ã¦ã„ã¾ã™.
DebugAppContainerã¯ç°¡å˜ã«ã„ãˆã°, DrawerLayoutã‚’1ã¤å®Ÿè£…ã—, ãã®ä¸­ã«ã€Œãƒ‡ãƒ¼ã‚¿ã‚’ãƒ¢ãƒƒã‚¯ã«å¤‰æ›´ã™ã‚‹ã€, ã€Œsocialæ©Ÿèƒ½ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã€ãªã©ã‚’è¨­å®šå‡ºæ¥ã‚‹Viewã‚’ãŠã„ã¦ã„ã¾ã™.
Mockãƒ¢ãƒ¼ãƒ‰ã®å®šç¾© u2020ã§ã¯Mockãƒ¢ãƒ¼ãƒ‰ãŒã‚ã‚Š, Mockãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºæ©Ÿèƒ½ãŒã‚ã‚Šã¾ã™.
public final class DebugDataModule { .</description>
    </item>
    
    <item>
      <title>ReactiveX: Hot, Coldã®é•ã„</title>
      <link>https://satoshun.github.io/2015/05/hot_cold/</link>
      <pubDate>Fri, 22 May 2015 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2015/05/hot_cold/</guid>
      <description>ReactiveXã«ãŠã‘ã‚‹, Cold/Hot Observableã®é•ã„ã‚’èª¬æ˜ã—ã¾ã™.
(æœ¬æ–‡ä¸­ã®ã€Œsubscribeã™ã‚‹ã€ã¨, ã€ŒObserverã‚’ç™»éŒ²ã™ã‚‹ã€ã¯åŒç¾©ã§ã™.)
Cold Observable Cold Observableã¯Subscribeã•ã‚Œã‚‹ã¨å‹•ä½œã‚’é–‹å§‹ã—ã¾ã™.
var source = Rx.Observable.range(1, 10); // ä½•ã‹å‡¦ç† // ...  source.subscribe(function(x) { console.log(x); // 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 }); ä¾‹ãˆã°, ä¸Šã®ã‚³ãƒ¼ãƒ‰ã ã¨, sourceã‚’å®šç¾©ã—ãŸæ™‚ç‚¹ã§ã¯ã‚¹ãƒˆãƒªãƒ¼ãƒ ãŒç”Ÿæˆã•ã‚Œã¦ãŠã‚‰ãš, source.subscribeã•ã‚ŒãŸæ™‚ã«, åˆã‚ã¦ã‚¹ãƒˆãƒªãƒ¼ãƒ ãŒç”Ÿæˆã•ã‚Œã¾ã™. é…å»¶è©•ä¾¡(lazy evaluation)ã®ã‚ˆã†ãªæŒ¯ã‚‹èˆã„ã‚’ã—ã¾ã™.
æ¬¡ã«, 1ã¤ã®Cold Observableã«å¯¾ã—ã¦è¤‡æ•°subscribeã—ãŸã¨ã—ã¾ã™.
var source = Rx.Observable.range(1, 10); // ä½•ã‹å‡¦ç† // ...  source.subscribe(function(x) { console.log(x); // 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 }); source.subscribe(function(x) { console.</description>
    </item>
    
    <item>
      <title>Android: Dagger2ã§DIã‚’ã™ã‚‹. åŸºæœ¬ç·¨ Part1</title>
      <link>https://satoshun.github.io/2015/05/dagger2/</link>
      <pubDate>Fri, 08 May 2015 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2015/05/dagger2/</guid>
      <description>æ¦‚è¦ ã“ã®è¨˜äº‹ã§ã¯, æœ€åˆã«DIã¨ã¯ä½•ã‹ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™. DIã‚’ç†è§£ã—ãŸå¾Œã«Dagger2ã®åŸºæœ¬çš„ãªä½¿ã„æ–¹ã‚’ç´¹ä»‹ã—ã¾ã™. Dagger2ã¯DI(Dependency Injection)ã‚’ã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™.
DIã¨ã¯? DIã¨ã¯Dependency Injectionã®ç•¥ã§, è¨³ã™ã¨ã€Œä¾å­˜æ€§ã®æ³¨å…¥ã€ã§ã™. ã“ã“ã§ã„ã†ä¾å­˜ã¨ã¯ ã‚¯ãƒ©ã‚¹åŒå£«ã®ä¾å­˜é–¢ä¿‚ã®ã“ã¨ã‚’è¡¨ã—ã¾ã™. ã‚¯ãƒ©ã‚¹åŒå£«ã®ä¾å­˜é–¢ä¿‚ã¯, å§”è­²ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ™‚ã«ç¾ã‚Œã¾ã™.
ä¾‹ãˆã°, ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ãŒã‚ã£ãŸã¨ã—ã¾ã™.
class Blogger { public Blogger() { } public void post(String title) { // ä½•ã‹ãƒ¡ã‚¤ãƒ³ã®å‡¦ç†  // ...  // fileã«logã‚’å–ã‚‹  FileLogger logger = new FileLogger(title); logger.logging(); } } class FileLogger implements Logger { @Override public void logging(String... messages) { // fileã«messagesã‚’æ›¸ãå‡ºã™  File file = new File(&amp;#34;hoge.txt&amp;#34;); ... } } interface Logger { void logging(String messgae); } ã‚¯ãƒ©ã‚¹Bloggerã¯ã‚¯ãƒ©ã‚¹FileLoggerã«ä¾å­˜ã—ã¦ã„ã‚‹.</description>
    </item>
    
    <item>
      <title>Python: Pythonãƒ©ã‚¤ã‚¯ãªæ›¸ãæ–¹ Part1</title>
      <link>https://satoshun.github.io/2015/04/python-beautiful/</link>
      <pubDate>Thu, 30 Apr 2015 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2015/04/python-beautiful/</guid>
      <description>Pythonãƒ©ã‚¤ã‚¯ãªæ›¸ãæ–¹ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™. Part1ã§ã™.
foræ–‡é–¢é€£ indexã‚’ä½¿ã„ãŸã„ã¨ã Bad: range, lenã‚’ä½¿ã†
names = [&amp;#39;TDN&amp;#39;, &amp;#39;suzuki&amp;#39;, &amp;#39;tom&amp;#39;] for i in range(len(names)): print i, names[i] Good: enumerateã‚’ä½¿ã†
for i, name in enumerate(names): print i, name 2ã¤ã®ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ‰±ã†ã¨ã Bad: indexã‚’ä½¿ã£ã¦ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹
names = [&amp;#39;TDN&amp;#39;, &amp;#39;suzuki&amp;#39;, &amp;#39;tom&amp;#39;] ages = [12, 19, 11] for i in range(min(len(names), len(ages))): print names[i], ages[i] Good: çµ„ã¿è¾¼ã¿é–¢æ•°zipã‚’ä½¿ã†
for name, age in zip(names, ages): print name, age dictionaryã§key, valueã‚’ä½¿ã† Bad: keyã§ã‚¢ã‚¯ã‚»ã‚¹, valueã‚’å–å¾—ã™ã‚‹
persons = {&amp;#39;TDN&amp;#39;: 12, &amp;#39;tanaka&amp;#39;: 24, &amp;#39;nakata&amp;#39;: 11} for k in persons: print k, persons[k] Good: itemsãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†</description>
    </item>
    
    <item>
      <title>Android: DroidKaigiã¾ã¨ã‚</title>
      <link>https://satoshun.github.io/2015/04/droid-kaigi/</link>
      <pubDate>Sat, 25 Apr 2015 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2015/04/droid-kaigi/</guid>
      <description>DroidKaigiã®è¨˜äº‹ã¾ã¨ã‚ã§ã™.
DroidKaigi - Welcome talk   DroidKaigi - Welcome talk  from mhidaka ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®ãŸã‚ã®å‹‰å¼·ä¼šã‚’ã‚„ã‚‹ã‚ˆ!ã¿ãŸã„ãªå†…å®¹
Activity, Fragment, CustomView ã®ä½¿ã„åˆ†ã‘ - ãƒãƒƒãƒãƒ§ãªActivityã«ã•ã‚ˆãªã‚‰ã™ã‚‹æ–¹æ³•   Activity, Fragment, CustomView ã®ä½¿ã„åˆ†ã‘ - ãƒãƒƒãƒãƒ§ãªActivityã«ã•ã‚ˆãªã‚‰ã™ã‚‹æ–¹æ³• -  from Yuki Anzai  Cardboardã®UXã‚’ã‚«ãƒ¡ãƒ©ã§å‘ä¸Šã™ã‚‹   Cardboardã®UXã‚’ã‚«ãƒ¡ãƒ©ã§å‘ä¸Šã™ã‚‹ (droidkaigi 2015/04)  from Kenichi Takahashi  çµ¶å¯¾è½ã¡ãªã„ã‚¢ãƒ—ãƒªã®ä½œã‚Šæ–¹ ã‚ã‚‹ã‚²ãƒ¼ãƒ ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ§‹æˆã¨ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚µã‚¤ã‚¯ãƒ«   ã‚ã‚‹ã‚²ãƒ¼ãƒ ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ§‹æˆã¨ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚µã‚¤ã‚¯ãƒ«  from Kentaro Iizuka  é–‹ç™ºã‚’åŠ¹ç‡çš„ã«é€²ã‚ã‚‹ã‚‰ã‚Œã‚‹ã¾ã§ã®é“ç¨‹   é–‹ç™ºã‚’åŠ¹ç‡çš„ã«é€²ã‚ã‚‹ã‚‰ã‚Œã‚‹ã¾ã§ã®é“ç¨‹  from Takao Sumitomo  ã‚¢ãƒ—ãƒªã®ä¼ç”»ã€ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã‹ã‚‰ãƒªãƒªãƒ¼ã‚¹ã«è‡³ã‚‹ã¾ã§   åˆå­¦è€…ã«å¬‰ã—ã„Androidé–‹ç™ºç’°å¢ƒ   ã€DroidKaigi2015ã€‘åˆå­¦è€…ã«å¬‰ã—ã„Androidé–‹ç™ºç’°å¢ƒ(ã‚ã¨MVCã¨ã‹)  from Hiroyuki Kusu  å¤§å®¹é‡ãƒ‡ãƒ¼ã‚¿ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æˆ¦ç•¥  è¤‡æ•°Threadã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã‚‚, å¸¯åŸŸãŒã‚ã¾ã£ã¦ã„ãªã„ã¨æ—©ããªã‚‰ãªã„.</description>
    </item>
    
    <item>
      <title>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹: RDBã¨ç¬¬1~3æ­£è¦å½¢ã«ã¤ã„ã¦</title>
      <link>https://satoshun.github.io/2015/04/normalization/</link>
      <pubDate>Sun, 19 Apr 2015 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2015/04/normalization/</guid>
      <description>æ­£è¦å½¢ã¯, ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒŠãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆã«ãŠã‘ã‚‹ç†è«–ã®1ã¤ã§ã™. æ­£è¦åŒ–ã‚’è¡Œã†ã“ã¨ã§, ãƒ‡ãƒ¼ã‚¿ã®é‡è¤‡ã‚’ãªãã—, åŠ¹ç‡è‰¯ããƒ‡ãƒ¼ã‚¿ã‚’ä¿æŒã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™.
ã“ã®è¨˜äº‹ã§ã¯, ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒŠãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ã¤ã„ã¦èª¬æ˜ã—, ç¬¬1-3æ­£è¦åŒ–ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™.(BCNF, ç¬¬4-6æ­£è¦åŒ–ã¯æ¬¡ã®è¨˜äº‹ã§èª¬æ˜ã—ã¾ã™)
ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒŠãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ¢ãƒ‡ãƒ«(RDB)ã«ã¤ã„ã¦ æœ€åˆã«ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™. ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¯è¦‹å‡ºã—(heading)ã¨æœ¬ä½“(body)ã‹ã‚‰ãªã‚Šã¾ã™. è¦‹å‡ºã—ã¯, SQLã§ã„ã†ã¨ã“ã‚ã®å±æ€§ã«ç›¸å½“ã—ã¾ã™. ä¾‹ãˆã°, ç”Ÿå¾’ãªã‚‰ä¸‹ã®ã‚ˆã†ãªãƒ‡ãƒ¼ã‚¿ã‚’æŒã¤ã¨è€ƒãˆã‚‰ã‚Œã¾ã™.
   å­¦ç”Ÿç•ªå· åå‰ å¹´é½¢     001 ç”°ä¸­ 17   002 å¤šç”°é‡ 19   003 æœ¨ä¸‹ 19   004 è¥¿å²¡ 18    ä¸Šè¨˜è¡¨ãŒãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®ä¸€ä¾‹ã«ãªã‚Šã¾ã™. {å­¦ç”Ÿç•ªå·, åå‰, å¹´é½¢}ãŒè¦‹å‡ºã—, {{001, ç”°ä¸­, 17}, {002, å¤šç”°é‡, 19}, {003, æœ¨ä¸‹, 19}, {004, è¥¿å²¡, 18}}ãŒæœ¬ä½“ã«ãªã‚Šã¾ã™. ã“ã“ã§{}ã‚’ä½¿ã£ã¦ã„ã‚‹ã®ã¯, ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒŠãƒ«ã«ãŠã‘ã‚‹è¦‹å‡ºã—, æœ¬ä½“ã¯ãã‚Œãã‚Œã‚¿ãƒ—ãƒ«ã§è¡¨ç¾ã•ã‚Œã‚‹ãŸã‚ã§ã™. ãã®ãŸã‚å„è¦ç´ ã«ã¯é †åºãŒå­˜åœ¨ã›ãš, é‡è¤‡ãŒè¨±ã•ã‚Œã¾ã›ã‚“(é‡è¤‡ãŒã‚ã£ã¦ã‚‚æ„å‘³ãŒãªã„).
ã“ã“ã§é›†åˆã¨ã„ã†è¨€è‘‰ãŒå‡ºã¦ãã¾ã—ãŸãŒ, RDBã¯é›†åˆè«– ã«åŸºã¥ã„ãŸç†è«–ã§ã™.</description>
    </item>
    
    <item>
      <title>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹: å±¥æ­´ãƒ‡ãƒ¼ã‚¿ã«ã¤ã„ã¦</title>
      <link>https://satoshun.github.io/2015/04/history_data/</link>
      <pubDate>Thu, 09 Apr 2015 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2015/04/history_data/</guid>
      <description>RDBã§å±¥æ­´ãƒ‡ãƒ¼ã‚¿ã‚’ä¿æŒã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ã¾ã¨ã‚ã¾ã—ãŸ. ãã‚‚ãã‚‚å±¥æ­´ãƒ‡ãƒ¼ã‚¿ã¯, ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒŠãƒ«ãƒ¢ãƒ‡ãƒ«ã¨ã¯ç›¸æ€§ãŒæ‚ªã„ã®ã§, ã“ã‚ŒãŒæ­£è§£!ã¿ãŸã„ãªã‚‚ã®ã¯ãªã„ã§ã™.
å±¥æ­´ãƒ‡ãƒ¼ã‚¿ã¨ã¯? ã‚¹ãƒ¼ãƒ‘ãƒ¼ã®å•†å“ã®å€¤æ®µã®ã‚ˆã†ã«, æ™‚é–“ã®çµŒéã¨ã¨ã‚‚ã«å±æ€§ã®å€¤ãŒå¤‰åŒ–ã—ã¦ã„ããƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã™. ãã®ã‚ˆã†ãªãƒ‡ãƒ¼ã‚¿ã‚’å±¥æ­´ãƒ‡ãƒ¼ã‚¿ã¨å‘¼ã³ã¾ã™.
ãƒ•ãƒ©ã‚°ã‚’ä»˜ã‘ã‚‹ æœ€åˆã«ä¸€ç•ªã‚ªãƒ¼ã‚½ãƒ‰ãƒƒã‚¯ã‚¹?ãª, ãƒ•ãƒ©ã‚°ã‚’ã¤ã‘ã¦ç®¡ç†ã™ã‚‹æ–¹æ³•ã§ã™.
productsãƒ†ãƒ¼ãƒ–ãƒ«
   id name price active     1 åµ 200 0   2 åµ 250 1   3 è‚‰ 100 1    activeãªãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ã¨ãã¯, SELECT * FROM products WHERE active = 1; ã¨ã—ã¾ã™.
ã“ã®æ–¹æ³•ã®åˆ©ç‚¹ã¯ãƒ‘ãƒƒã¨è¦‹ã«åˆ†ã‹ã‚Šã‚„ã™ã„ã“ã¨ã ã¨æ€ã„ã¾ã™. ã—ã‹ã—, ã“ã®æ–¹æ³•ã¯ãƒãƒƒãƒ‰ãƒã‚¦ãƒã‚¦ã ã¨ã•ã‚Œã¦ã„ã¾ã™. ç†ç”±ã‚’ä»¥ä¸‹ã«ã‚ã’ã¾ã™.
 activeãƒ•ãƒ©ã‚°ã¯ã‚«ãƒ¼ãƒ‡ã‚£ãƒŠãƒªãƒ†ã‚£ãŒä½ãåŠ¹ç‡ãŒæ‚ªã„ ãƒ†ãƒ¼ãƒ–ãƒ«ã‚µã‚¤ã‚ºãŒæ™‚é–“ã¨ã‚‚ã«è‚¥å¤§åŒ–ã—, æ¤œç´¢åŠ¹ç‡ãŒä¸‹ãŒã‚‹æã‚ŒãŒã‚ã‚‹ activeã®æ›´æ–°ã¯, ã‚¢ãƒ—ãƒªå´ ã‚‚ã—ãã¯, ãƒˆãƒªã‚¬ãƒ¼ã§åˆ¶å¾¡ã—ãªã‘ã‚Œã°ã„ã‘ãªã„  å˜ç´”ã§åˆ†ã‹ã‚Šã‚„ã™ã„ã§ã™ãŒ, ã‚ã¾ã‚Šä½¿ã‚ãªã„ã»ã†ãŒè‰¯ã„æ–¹æ³•ã®ã‚ˆã†ã§ã™.
ç¯„å›²ã‚’æŒ‡å®šã™ã‚‹ æ¬¡ã¯ç¯„å›²ã‚’æŒ‡å®šã™ã‚‹æ–¹æ³•ã§ã™.
productsãƒ†ãƒ¼ãƒ–ãƒ«</description>
    </item>
    
    <item>
      <title>[ERROR] InnoDB: Cannot allocate memory for the buffer pool ã®å¯¾å‡¦æ³•</title>
      <link>https://satoshun.github.io/2015/04/mysql_memory_error/</link>
      <pubDate>Tue, 07 Apr 2015 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2015/04/mysql_memory_error/</guid>
      <description>ä¸Šè¨˜ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸã‚‰ãƒ¡ãƒ¢ãƒªä¸è¶³ãªã®ã§, ã‚¹ãƒ¯ãƒƒãƒ—é ˜åŸŸã‚’ä½œã‚‹ã®ãŒè‰¯ã„ã¨æ€ã„ã¾ã™.
## swapé ˜åŸŸã®ç¢ºèª $ swapon -s Filename Type Size Used Priority ## swapé ˜åŸŸã®ç¢ºä¿ $ sudo dd if=/dev/zero of=/swapfile bs=1024 count=1024k ## swapé ˜åŸŸã®ä½œæˆ $ sudo mkswap /swapfile ## swapé ˜åŸŸã®å‰²ã‚Šå½“ã¦ $ sudo swapon /swapfile $ swapon -s Filename Type Size Used Priority /swapfile file 1048572 4320 -1 $ free total used free shared buffers cached Mem: 760132 689248 70884 4672 7740 48944 -/+ buffers/cache: 632564 127568 Swap: 1048572 88556 960016 ## å†èµ·å‹•æ™‚ã«ã‚‚swapã‚’å‰²ã‚Šå½“ã¦ã‚‹ã‚ˆã†ã«è¨­å®š $ sudo vi /etc/fstab ã“ã‚Œã§ãŠï½‹.</description>
    </item>
    
    <item>
      <title>Android: FragmentPagerAdapterã§ãƒãƒã£ãŸè©±</title>
      <link>https://satoshun.github.io/2015/03/android-fragment_pager_adapter/</link>
      <pubDate>Wed, 18 Mar 2015 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2015/03/android-fragment_pager_adapter/</guid>
      <description>ãƒãƒã£ãŸã®ã§ãƒ¡ãƒ¢. ä»¥ä¸‹ã®ã“ã¨ã‚’ã—ãŸã‹ã£ãŸ.
 ãƒ‡ãƒ¼ã‚¿å–å¾—ã™ã‚‹ã¾ã§, Fragmentå†…ã§Progress Barã‚’å‡ºåŠ› ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—, Fragmentå†…ã«ã‚ã‚‹Adapterã®ãƒ‡ãƒ¼ã‚¿æ›´æ–° UIã«åæ˜   notifyDataSetChangedãƒ¡ã‚½ãƒƒãƒ‰ãŒåŠ¹ã‹ãªã„ ãƒ‡ãƒ¼ã‚¿ãŒæ›´æ–°ã—ãŸå¾Œã« FragmentPagerAdapter#notifyDataSetChangedãƒ¡ã‚½ãƒƒãƒ‰ã‚’å©ã‘ã°FramentãŒå†ç”Ÿæˆã•ã‚Œã‚‹ã‚“ã§ã—ã‚‡?ã¨æ€ã£ã¦ã„ãŸæ™‚æœŸãŒåƒ•ã«ã‚‚ã‚ã‚Šã¾ã—ãŸ. notifyDataSetChangedãƒ¡ã‚½ãƒƒãƒ‰ã‚’å©ã„ã¦ã‚‚, ãƒ‡ãƒ¼ã‚¿ãŒUIã«åæ˜ ã•ã‚Œãš, ProgressBarãŒè¡¨ç¤ºã•ã‚ŒãŸã¾ã¾ã§ã—ãŸ.
FragmentPagerAdapterã§ã¯, åŸºæœ¬çš„ã«ä¸€åº¦ä½œã‚‰ã‚ŒãŸFragmentã¯å‰Šé™¤ã•ã‚Œãš, notifyDataSetChangedãƒ¡ã‚½ãƒƒãƒ‰ã§ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°ã—ãŸã‚ˆãƒ¼ã¨çŸ¥ã‚‰ã›ã¦ã‚‚, Fragmentã‚’å†ç”Ÿæˆã—ã¦ãã‚Œã¾ã›ã‚“.(ä»•æ§˜é€šã‚Š)
ã“ã‚Œã¯ã©ã†ã—ãŸã‚‚ã®ã‹ã¨æ€ã£ã¦ã„ã‚ã„ã‚èª¿ã¹ãŸã¨ã“ã‚, FragmentStatePagerAdapterã‚¯ãƒ©ã‚¹ã«ã„ãã¤ãã¾ã—ãŸ.
FragmentStatePagerAdapterã‚’ä½¿ã† FragmentPagerAdapterã§ãªãã¦, FragmentStatePagerAdapterã‚’ä½¿ãˆã°UIã«ãƒ‡ãƒ¼ã‚¿ãŒåæ˜ ã•ã‚Œã¾ã—ãŸ.
ä»¥ä¸‹, å®Ÿè£…ä¾‹ã«ãªã‚Šã¾ã™. ã¾ãšã¯, ãƒ€ãƒ¡ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã™. FragmentPagerAdapterã‚¯ãƒ©ã‚¹ã‚’ä½¿ã„, Activityã§ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã£ãŸã‚‰, refreshãƒ¡ã‚½ãƒƒãƒ‰ã‚’å©ãã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™.
public class PagerAdapter extends FragmentPagerAdapter { ... ... public void refresh() { notifyDataSetChanged(); } } FragmentPagerAdapterãŒã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹ã«ãªã£ã¦ã„ã‚‹ãŸã‚, notifyDataSetChangedã‚’ä½•åº¦å©ã„ã¦ã‚‚, FragmentãŒå†ç”Ÿæˆã•ã‚Œã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“. ã¤ã¾ã‚Š, ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°ã—ãŸå¾Œã«UIã«ãƒ‡ãƒ¼ã‚¿ãŒåæ˜ ã•ã‚Œã¾ã›ã‚“.
æ¬¡ã«OKãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã™. FragmentStatePagerAdapterã‚’ä½¿ã„, getItemPositionã‚’Overrideã™ã‚‹ã®ãŒãƒã‚¤ãƒ³ãƒˆã§ã™.
public class PagerAdapter extends FragmentStatePagerAdapter { private List&amp;lt;Fragment&amp;gt; mFragments; ... ... @Override public int getItemPosition(Object object) { Fragment target = (Fragment) object; if (mFragments.</description>
    </item>
    
    <item>
      <title>HTML5: Shadow DOMã«ã¤ã„ã¦</title>
      <link>https://satoshun.github.io/2015/03/shadow_dom/</link>
      <pubDate>Sat, 14 Mar 2015 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2015/03/shadow_dom/</guid>
      <description>Web Componentsã®æ©Ÿèƒ½ã®ä¸€ã¤ Shadow DOMã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™.
Shadow DOMã¨ã¯? å¤–éƒ¨ã‹ã‚‰å½±éŸ¿ã‚’å—ã‘ãªã„, å¤–éƒ¨ã«å½±éŸ¿ã‚’ä¸ãˆãªã„éš”é›¢ã•ã‚ŒãŸè¦ç´ ã§ã™. ã€Œã‚«ãƒ—ã‚»ãƒ«åŒ–ã•ã‚ŒãŸHTMLè¦ç´ ã€ã¿ãŸã„ãªæ„Ÿã˜ã§ã™.
Shadow DOMã®èª•ç”ŸèƒŒæ™¯ ãªãœShadow DOMãŒå‡ºã¦ããŸã‹ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™.
CSS, JavaScriptã¯, å…¨è¦ç´ ã«å¯¾ã—ã¦å½±éŸ¿ãŒåŠã¶ã¨ã„ã†æ€§è³ªãŒã‚ã‚Šã¾ã™.(ã‚°ãƒ­ãƒ¼ãƒãƒ«ã«å½±éŸ¿ã‚’ä¸ãˆã‚‹) ã‚ã‚‹ç®‡æ‰€ã‚’ä¿®æ­£ã—ãŸã‚‰, äºˆæœŸã›ã¬ç®‡æ‰€ã«ã‚‚å½±éŸ¿ãŒå‡ºã¦ã—ã¾ã†ã“ã¨ãŒã‚ˆãèµ·ã“ã‚Šã¾ã™ãŒ, ã“ã‚Œã¯ãƒã‚°ã‚’ç”Ÿã¿å‡ºã—ã‚„ã™ãã¨ã¦ã‚‚ã‚ˆããªã„ã§ã™. ä¾‹ã‚’ã‚ã’ã‚‹ã¨,
.hoge { font-size: 30px; } ã¨æ›¸ãã¨, hogeã‚’classå±æ€§ã«æŒã¤è¦ç´ ã®æ–‡å­—ã‚µã‚¤ã‚ºãŒ30pxã«ãªã‚Šã¾ã™. å¶ç„¶ã«ã‚‚ä»–ã®éƒ¨åˆ†ã§hogeã‚¯ãƒ©ã‚¹ã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼ã‚’ä½¿ã£ã¦ã„ãŸã¨ã—ãŸã‚‰ãã®ã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼ã«ã‚‚å½±éŸ¿ã‚’ä¸ãˆã¦ã—ã¾ã„ã¾ã™. ä»®ã«, ä»–ã®äººãŒä½œã£ãŸã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒéš”é›¢ã•ã‚Œã¦ä½¿ç”¨ã§ãã‚Œã°, åŒã˜ã‚»ãƒ¬ã‚¯ã‚¿ãƒ¼ã‚’ä½¿ã£ãŸã¨ã—ã¦ã‚‚, å•é¡ŒãŒãªããªã‚Šã¾ã™.
ãƒ•ãƒ­ãƒ³ãƒˆå´ãŒå¹´ã€…è¤‡é›‘ã«ãªã£ãŸã“ã¨ã«ã‚ˆã‚Š, ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆ, JavaScriptãŒè‚¥å¤§åŒ–ã—ãŸçµæœ, ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’äº’ã„ã«éš”é›¢ã—ãŸã„ã¨ã„ã†è¦æœ›ãŒé«˜ã¾ã‚Š, Shadow DOMãŒèª•ç”Ÿã—ã¾ã—ãŸ.
ä½¿ã„æ–¹ Shadow DOMã‚’ä½œã‚‹ã«ã¯createShadowRootAPIã‚’ä½¿ã„ã¾ã™. ä»¥ä¸‹, Shadow DOMç‰ˆHello Worldã§ã™.
&amp;lt;div id=&amp;#34;shadow&amp;#34;&amp;gt;&amp;lt;/div&amp;gt; &amp;lt;script&amp;gt; function insertShadow() { // Shadow DOMã®ä½œæˆ  var shadow = document.querySelector(&amp;#39;#shadow&amp;#39;).createShadowRoot(); shadow.textContent = &amp;#39;Hello world&amp;#39;; } insertShadow(); &amp;lt;/script&amp;gt; Shadow DOMãŒæŒ¿å…¥ã•ã‚Œ, Hello Worldã¨è¡¨ç¤ºã•ã‚Œã¾ã™.</description>
    </item>
    
    <item>
      <title>ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³: Value Object</title>
      <link>https://satoshun.github.io/2015/02/despatt-valueobject/</link>
      <pubDate>Sun, 22 Feb 2015 04:53:36 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2015/02/despatt-valueobject/</guid>
      <description>Value Object(å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ)ã¯, ãƒ¡ãƒ³ãƒã¨ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒã¡ã‚¯ãƒ©ã‚¹ã¨ã—ã¦ã®ç‰¹å¾´ã‚’æŒã¤ãŒ, immutableã§ã‚ã‚Š, identityã‚­ãƒ¼(RDSã§ã„ã†ã¨ã“ã‚ã®autoincremental id)ã‚’æŒãŸãªã„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã“ã¨ã§ã™. ç•°ãªã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆåŒå£«ã§ã‚ã£ã¦ã‚‚å€¤ãŒç­‰ã—ã‘ã‚Œã°ç­‰ã—ã„ã¨ã¿ãªã•ã‚Œã¾ã™. immutableãªã®ã§, primitive(int, floatãªã©)ãªå€¤ã¨åŒç­‰ã«æ‰±ã†ã“ã¨ãŒå‡ºæ¥ã¾ã™.
immutableã§ã‚ã‚‹ãƒ¡ãƒªãƒƒãƒˆ immutableã§ã‚ã‚‹ãƒ¡ãƒªãƒƒãƒˆã¨ã—ã¦ã¯
 çŠ¶æ…‹ã‚’æŒãŸãªã„ã®ã§, å‘¼ã³å‡ºã—é †åºã‚’è€ƒæ…®ã—ãªãã¦è‰¯ã„ å€¤ãŒæ›¸ãæ›ã‚ã‚‰ãªã„ãŸã‚, thread safeã§ã‚ã‚‹ ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®é€”ä¸­ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç‰¹å¾´ãŒå¤‰ã‚ã‚‹ã“ã¨ãŒãªã„ãŸã‚, ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’readableã«ä¿ã¤ã“ã¨ãŒå‡ºæ¥ã‚‹ã“ã¨ãŒå¤šã„  1, 2ã¤ç›®ã¯ç†è§£ã§ãã‚‹ã¨æ€ã†ã®ã§, ã€Œãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®é€”ä¸­ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç‰¹å¾´ãŒå¤‰ã‚ã‚‹ã“ã¨ãŒãªã„ãŸã‚, ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’readableã«ä¿ã¤ã“ã¨ãŒå‡ºæ¥ã‚‹ã€ã‚’Javaã®ã‚³ãƒ¼ãƒ‰ã‚’ã‚ã’ã¦èª¬æ˜ã—ã¾ã™.
public static Calendar getYesterday() { Calendar rightnow = Calendar.getInstance(); // ã“ã“ã®æ™‚ç‚¹ã§ã¯rightnowã¯, ä»Šã®æ™‚é–“ã‚’ç¤ºã—ã¦ã„ã‚‹  rightnow.add(Calendar.DATE, -1); // ã“ã“ã®æ™‚ç‚¹ã§ã¯rightnowã¯, æ˜¨æ—¥ã‚’ç¤ºã—ã¦ã„ã‚‹. å¤‰æ•°årightnowã¯ç›¸å¿œã—ããªã„  return rightnow; } ä¸Šè¨˜ã‚³ãƒ¼ãƒ‰ã¯, å¤‰æ•°rightnowã‚’å®šç¾©ã—ãŸæ®µéšã§ã¯, ç›¸å¿œã—ã„å¤‰æ•°åãªã®ã§ã™ãŒ, rightnow.add(Calendar.DATE, -1)ã‚’å®Ÿè¡Œã—ãŸæ®µéšã§, ç›¸å¿œã—ããªã„å¤‰æ•°åã«å¤‰ã‚ã‚Šã¾ã™. ã“ã‚Œã¯, Calendarã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒ, mutableãªãŸã‚ã§ã™. ã“ã®ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã¯æ··ä¹±ã‚’æ‹›ãã¾ã™. ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯åˆæœŸåŒ–ã—ãŸã‚‰, ã‚»ãƒƒã‚¿ãƒ¼ãªã©ã§å€¤ã¯å¤‰æ›´ã—ãªã„ã»ã†ãŒ, ã‚³ãƒ¼ãƒ‰ã‚’readableã«ä¿ã¤ã“ã¨ãŒã§ã, ãƒã‚°ã‚’é˜²ãã“ã¨ãŒå‡ºæ¥ã¾ã™.
indentityã‚­ãƒ¼ã‚’æŒãŸãªã„ãƒ¡ãƒªãƒƒãƒˆ Value Objectã¯, åå‰ã®é€šã‚Š, Value(å€¤)ã«æ³¨ç›®ã—ã¦ã„ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã™. é‡ãªã©ã®å±æ€§å€¤ãŒé‡è¦ã§ã‚ã‚Š, identityã‚­ãƒ¼ã«ã¯æ³¨ç›®ã—ã¦ã„ãªã„ãŸã‚, é™¤å»ã—ã¦ã„ã¾ã™. é€†ã«, identityã‚­ãƒ¼ã«æ³¨ç›®ã—ã¦ã„ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ã“ã¨ã‚’, ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£(Entity)ã¨è¨€ã„ã¾ã™.</description>
    </item>
    
    <item>
      <title>Go: Gojiã«PRã—ãŸè©±</title>
      <link>https://satoshun.github.io/2015/02/go-pr_goji/</link>
      <pubDate>Sun, 22 Feb 2015 04:11:23 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2015/02/go-pr_goji/</guid>
      <description>Goã«ãƒãƒã‚Šã¤ã¤ã‚ã‚Šã¾ã™. æœ€è¿‘å®¶ã§ã¯Go or Androidã£ã¦æ„Ÿã˜ã§ã™.
æœ€è¿‘, Goã®WEBãƒ•ãƒ¬ãƒ¼ãƒ ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ã¡ã‚‡ã„ã¡ã‚‡ã„èª­ã‚“ã§ã„ã¦, Gojiã«PRã‚’ã—ãŸã®ã§ãã®è©±.
Goji? Goji is a minimalistic web framework that values composability and simplicity ã§ã™. Sinatraã®ã‚ˆã†ãªMicro Frameworkã«ãªã£ã¦ã„ã¾ã™.
ã©ã“ã«PRã—ãŸã‹? ãƒã‚°ã§ã¯ãªãã¦, ã“ã£ã¡ã®ã»ã†ãŒGoãƒ©ã‚¤ã‚¯ã«ã ã‚ˆ!ã¨æ€ã£ãŸã®ã§PRã‚’ã—ã¾ã—ãŸ. è¨ˆ2å›PRã—ãŸã®ã§, ãã‚Œãã‚Œç´¹ä»‹ã—ã¾ã™.
switch type assertion 1ã¤ç›®ã¯, switch type assertionã«ã¤ã„ã¦ã§ã™. switchæ–‡ã®å†’é ­ã«ã‚ã‚‹, type assertionã®çµæœã‚’ä½¿ã†ã‚ˆã†ã«ã—ã¾ã—ãŸ.
--- a/web/pattern.go +++ b/web/pattern.go @@ -32,13 +32,13 @@ type Pattern interface { } func parsePattern(p interface{}) Pattern { - switch p.(type) { + switch v := p.(type) { case Pattern: - return p.(Pattern) + return v case *regexp.</description>
    </item>
    
    <item>
      <title>Android: strings.xmlã®ã¾ã¨ã‚</title>
      <link>https://satoshun.github.io/2015/02/android-resource_string/</link>
      <pubDate>Sun, 22 Feb 2015 04:10:23 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2015/02/android-resource_string/</guid>
      <description>res/values/strings.xmlã¯, æ–‡å­—åˆ—é–¢é€£ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’ç®¡ç†ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã§ã™. æ–‡å­—åˆ—ã‚’ãƒ—ãƒ­ã‚°ãƒ©ãƒ å¤–ã§å®šç¾©ã™ã‚‹ã“ã¨ã§, å¤šå›½èªã®å¯¾å¿œ, ãƒ‡ãƒãƒƒã‚°ãƒ–ãƒ«ãƒ‰ã®æ™‚ã«ã‚µãƒ¼ãƒã®URLã‚’å¤‰æ›´ã™ã‚‹ç­‰ãŒ, ã‚³ãƒ¼ãƒ‰ã‚’ã„ã˜ã‚‰ãšã«å®¹æ˜“ã«è¡Œãˆã¾ã™.
ã¾ãŸ, æ„å¤–ã¨ã„ã‚ã„ã‚ãªæ©Ÿèƒ½ãŒã‚ã£ãŸã®ã§, ç´¹ä»‹ã—ãŸã„ã¨æ€ã„ã¾ã™.
åŸºæœ¬çš„ãªä½¿ã„æ–¹ &amp;lt;string name=&amp;#34;app_name&amp;#34;&amp;gt;Application&amp;lt;/string&amp;gt; ã®ã‚ˆã†ã«è¨˜è¿°ã—ã¦ä½¿ã„ã¾ã™. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å´ã§ã¯, ä¸‹ã®ã‚ˆã†ã«å–å¾—ã—ã¾ã™.
getString(R.string.app_name); or context.getString(R.string.app_name); ç‰¹ã«, èª¬æ˜ã¯ã„ã‚‰ãªã„ã¨æ€ã„ã¾ã™.
arrayã®å®šç¾© strings.xmlã§ã¯å˜ç´”ãªkey-valueã ã‘ã§ãªã, arrayã‚‚å®šç¾©ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™.
string-arrayè¦ç´ ã§å®šç¾©ã—ã¦ã‚ã’ã¾ã™.
&amp;lt;string-array name=&amp;#34;sports&amp;#34;&amp;gt; &amp;lt;item&amp;gt;ãƒãƒ©ã‚½ãƒ³&amp;lt;/item&amp;gt; &amp;lt;item&amp;gt;é‡çƒ&amp;lt;/item&amp;gt; &amp;lt;item&amp;gt;ã‚µãƒƒã‚«ãƒ¼&amp;lt;/item&amp;gt; &amp;lt;item&amp;gt;å“çƒ&amp;lt;/item&amp;gt; &amp;lt;/string-array&amp;gt; ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å´ã§ã¯ä¸‹ã®ã‚ˆã†ã«å–å¾—ã—ã¾ã™.
getResources().getStringArray(R.array.sports) or context.getResources().getStringArray(R.array.sports) Contextã‹ã‚‰ç›´æ¥å–å¾—ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ãªã„ã®ã§, ä¸€æ—¦Resourcesã‚’å–å¾—ã—, ãã“ã‹ã‚‰arrayã‚’å–ã‚Šå‡ºã—ã¾ã™.
å€¤å±•é–‹ strings.xmlã§ã¯, æ–‡å­—åˆ—å±•é–‹ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™. printf formatã®ã‚ˆã†ã«ä½¿ã„ã¾ã™.
&amp;lt;!-- %1: å¼•æ•°1, $d: æ•°å­— --&amp;gt; &amp;lt;string name=&amp;#34;hoge&amp;#34;&amp;gt;Hello %1$d&amp;lt;/string&amp;gt; &amp;lt;!-- %1: å¼•æ•°1, %2: å¼•æ•°2, $s: æ–‡å­—åˆ— --&amp;gt; &amp;lt;string name=&amp;#34;hogestr&amp;#34;&amp;gt;%1$s %2$d %1$s&amp;lt;/string&amp;gt; ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å´ã§ã¯, ä¸‹ã®ã‚ˆã†ã«æŒ‡å®šã—ã¾ã™.
getString(R.string.hoge, 100)); // Hello 100 getString(R.</description>
    </item>
    
    <item>
      <title>Android: Pull to Refreshã®å®Ÿè£…(SwipeRefreshLayout)</title>
      <link>https://satoshun.github.io/2015/02/android-pull_to_refresh/</link>
      <pubDate>Sun, 22 Feb 2015 04:09:23 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2015/02/android-pull_to_refresh/</guid>
      <description>Androidã§Pull to Refreshã®å®Ÿè£…æ–¹æ³•ã§ã™. ListViewãªã©ã‚’ä¸‹æ–¹å‘ã«å¼•ã£å¼µã‚‹ã¨, ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°ã™ã‚‹ã‚ˆã†ã«å‡ºæ¥ã¾ã™. Gmailã¨ã‹ã§ä½¿ã‚ã‚Œã¦ã„ã‚‹ã‚ã‚Œã§ã™.
å…·ä½“çš„ã«ã¯, SwipeRefreshLayoutã‚’ä½¿ã£ã¦å®Ÿè£…ã—ã¾ã™. ä»¥ä¸‹ã§ã‚³ãƒ¼ãƒ‰ã§èª¬æ˜ã—ã¦ã„ãã¾ã™.
XMLå´ã®è¨˜è¿° ListViewã«è¦†ã„ã‹ã¶ã•ã‚‹ã‚ˆã†ã«å®šç¾©ã—ã¾ã™.
&amp;lt;android.support.v4.widget.SwipeRefreshLayout android:id=&amp;#34;@+id/refresh&amp;#34; android:layout_width=&amp;#34;match_parent&amp;#34; android:layout_height=&amp;#34;match_parent&amp;#34; &amp;gt; &amp;lt;ListView android:id=&amp;#34;@android:id/list&amp;#34; android:layout_width=&amp;#34;match_parent&amp;#34; android:layout_height=&amp;#34;match_parent&amp;#34; /&amp;gt; &amp;lt;/android.support.v4.widget.SwipeRefreshLayout&amp;gt; XMLå´ã¯ã“ã‚Œã§å®Œäº†ã§ã™. ã“ã‚Œã§, ListViewã‚’å¼•ã£å¼µã‚‹ã¨ã€ŒPull to Refreshã€ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒèµ·ã“ã‚Šã¾ã™.
Activityå´ã®è¨˜è¿° Pull to Refreshã‚’ã—ãŸæ™‚ã«, ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºç”Ÿã™ã‚‹ã®ã§Listenerã‚’è¨˜è¿°ã—ã¾ã™.
å®Ÿè£…ä¾‹ã§ã™. setOnRefreshListenerã§Listenerã‚’ç™»éŒ²ã—ã¾ã™.
private SwipeRefreshLayout mSwipe; @Override protected void onCreate(Bundle savedInstanceState) { ... mSwipe = (SwipeRefreshLayout) findViewById(R.id.refresh); // Callbackç™»éŒ²  mSwipe.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() { @Override public void onRefresh() { /* ã“ã“ã«é©å½“ãªå‡¦ç†ã‚’æ›¸ã */ mSwipe.setRefreshing(false); } }); } ListViewã‚’å¼•ã£å¼µã‚‹ã¨, setOnRefreshListenerãƒ¡ã‚½ãƒƒãƒ‰ãŒã‚³ãƒ¼ãƒ«ã•ã‚Œã¾ã™. setOnRefreshListenerã®æœ€å¾Œã«, setRefreshing(false)ã‚’ã‚³ãƒ¼ãƒ«ã—ã¾ã™. ã“ã‚Œã¯, æ›´æ–°ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’Offã«ã™ã‚‹ã‚‚ã®ã§ã™.</description>
    </item>
    
    <item>
      <title>tips: æ°—è»½ã«ãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚µãƒ¼ãƒã‚’ç«‹ã¦ã‚‹</title>
      <link>https://satoshun.github.io/2015/02/tips-ser/</link>
      <pubDate>Sun, 22 Feb 2015 02:40:23 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2015/02/tips-ser/</guid>
      <description>ã‚µã‚¯ãƒƒã¨ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒã‚’ç«‹ã¦ã‚‹ãŸã‚ã®Tipsã‚’ç´¹ä»‹ã—ã¾ã™.
ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã¯, PythonãŒå…¥ã£ã¦ã„ã‚Œã°, å•é¡Œãªãå‹•ãã¾ã™.
$ python -m CGIHTTPServer Serving HTTP on 0.0.0.0 port 8000 ... åƒ•ã¯, ä¸Šè¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’aliasã«ç™»éŒ²ã—ã¦ã„ã¾ã™.
alias ser=&amp;#39;python -m CGIHTTPServer&amp;#39; ã“ã‚Œã§, serã§ã‚µãƒ¼ãƒãŒç«‹ã¤ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸ.
ã¡ãªã¿ã«, Portã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã‚‚å‡ºæ¥ã¾ã™.
$ ser Serving HTTP on 0.0.0.0 port 8000 ... $ ser 8001 Serving HTTP on 0.0.0.0 port 8001 ... ç°¡å˜ã«ãƒ­ãƒ¼ã‚«ãƒ«ã‚µãƒ¼ãƒã‚’ç«‹ã¦ã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸ.</description>
    </item>
    
    <item>
      <title>CSS: Clearfixã«ã¤ã„ã¦</title>
      <link>https://satoshun.github.io/2015/02/css-clearfix/</link>
      <pubDate>Sun, 22 Feb 2015 02:32:23 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2015/02/css-clearfix/</guid>
      <description>CSSã«ã¯ã€Œclearfixã€ã¨å‘¼ã°ã‚Œã‚‹ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ãŒã‚ã‚Šã¾ã™.
ã“ã®è¨˜äº‹ã§ã¯, ãªãœclearfixã‚’ä½¿ã†ã®ã‹, clearfixã¨ã¯ä½•ãªã®ã‹ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™.
floatã®å•é¡Œç‚¹ clearfixã‚’èª¬æ˜ã™ã‚‹å‰ã«, floatãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å•é¡Œç‚¹ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™.
ã¾ãšä¾‹ã‚’ã‚ã’ã¾ã™.
&amp;lt;div&amp;gt; &amp;lt;img class=&amp;#34;test&amp;#34; src=&amp;#34;hoge.png&amp;#34; style=&amp;#34;float: right&amp;#34; /&amp;gt; &amp;lt;p&amp;gt;test1&amp;lt;/p&amp;gt; &amp;lt;p&amp;gt;test2&amp;lt;/p&amp;gt; &amp;lt;/div&amp;gt; ä¸Šè¨˜HTMLã¯, imgãŒå³ã«å¯„ã‚Š, ãã®å·¦å´ã«test1, test2ã¨è¡¨ç¤ºã•ã‚Œã¾ã™. floatã¯, æŒ‡å®šã—ãŸã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆä»¥é™ã®ã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆã‚’åå¯¾å´ã«å›ã‚Šã“ã¾ã›ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™.
å›ã‚Šã“ã¿ã‚’æ­¢ã‚ãŸã„ã¨ãã¯, clear: both;ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’æŒ‡å®šã—ã¾ã™.
&amp;lt;div&amp;gt; &amp;lt;img class=&amp;#34;test&amp;#34; src=&amp;#34;hoge.png&amp;#34; style=&amp;#34;float: right&amp;#34; /&amp;gt; &amp;lt;p&amp;gt;test1&amp;lt;/p&amp;gt; &amp;lt;p&amp;gt;test2&amp;lt;/p&amp;gt; &amp;lt;/div&amp;gt; &amp;lt;!-- clear:bothãŒãªã„ã¨, ã“ã®divã‚‚å·¦å´ã«å›ã‚Šã“ã‚€ --&amp;gt; &amp;lt;div style=&amp;#34;clear:both;&amp;#34;&amp;gt; hogehoge &amp;lt;/div&amp;gt; clear:both;ã®è¨˜è¿°ã‚’å¿˜ã‚Œã‚‹ã¨, å¾Œç¶šã®æ„å›³ã—ãªã„ã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆã«ã‚‚å½±éŸ¿ã‚’åŠã¼ã—ã¦ã—ã¾ã†ã®ã§, å¿˜ã‚Œãšã«æŒ‡å®šã—ãªã‘ã‚Œã°ã„ã‘ã¾ã›ã‚“.
ã¨ã¯è¨€ã£ã¦ã‚‚, floatingã®è§£é™¤ã¯å¿˜ã‚Œã¦ã—ã¾ã„ãŒã¡ã§ã™. ãã“ã§clearfixã¨å‘¼ã°ã‚Œã‚‹ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’ä½¿ã„ã¾ã™.
clearfixã¨ã¯ clearfixã¨ã¯, afteræ“¬ä¼¼è¦ç´ ã‚’ä½¿ã„floatã‚’è§£é™¤ã™ã‚‹ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã§ã™.
å…·ä½“çš„ã«ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«è¨˜è¿°ã—ã¾ã™.
.clearfix:after { content: &amp;#34;&amp;#34;; clear: both; display: block; } clear: both;ã‚’ã—ã¦ãã‚Œã‚‹è¦ç´ ã‚’afteræ“¬ä¼¼è¦ç´ ã§æŒ¿å…¥ã—ã¦ã„ã‚‹ã ã‘ã§ã™. ã“ã‚Œã‚’, è¦ªã‚¨ãƒ¬ãƒ¡ãƒ³ãƒˆã«ã¤ã‘ã¦ãŠã‘ã°, floatã‚’è§£é™¤ã—ã¦ãã‚Œã¾ã™.
&amp;lt;div class=&amp;#34;clearfix&amp;#34;&amp;gt; &amp;lt;img class=&amp;#34;test&amp;#34; src=&amp;#34;hoge.</description>
    </item>
    
    <item>
      <title>ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³: Null Object</title>
      <link>https://satoshun.github.io/2015/02/despatt-null_object/</link>
      <pubDate>Sun, 22 Feb 2015 02:22:23 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2015/02/despatt-null_object/</guid>
      <description>Null Objectãƒ‘ã‚¿ãƒ¼ãƒ³ã¯, ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆè‡ªèº«ã«Nullã‹ã©ã†ã‹ã®åˆ¤å®šã‚’ã—ã¦ã‚‚ã‚‰ã†ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã™.
ã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ãƒ¡ãƒªãƒƒãƒˆã¯, if (obj == null) ã®ã‚ˆã†ãªé¢å€’è‡­ã„è¨˜è¿°ã‚’é™¤å»å‡ºæ¥ã‚‹ã¨ã“ã‚ã§ã™. ã¾ãŸ, ãƒãƒªãƒ¢ãƒ¼ãƒ•ã‚£ã‚ºãƒ ã«ã‚ˆã‚Š, nullã®æ™‚ã®å‡¦ç†ã‚’Objectã«å§”è­²ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™. (nullã®æ™‚ã®å‡¦ç†ã‚’, Objectã«æŒãŸã›ã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³)
ä¾‹ ä¾‹ãŒã‚ã£ãŸæ–¹ãŒåˆ†ã‹ã‚Šæ˜“ã„ã®ã§, ç°¡å˜ãªã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã™.
ã¾ãšã¯, Null Objectã‚’ä½¿ã‚ãªã„å ´åˆã«ãªã‚Šã¾ã™.
class Student(object): def __init__(self, id): self.id = id @staticmethod def get_student(id): if id &amp;lt;= 10: return Student(id) return NullStudent(id) def show(self): print(&amp;#39;id:{}&amp;#39;.format(self.id)) student = Student.get_student(1) if student is not None: student.show() else: print(&amp;#39;not student&amp;#39;) æ¬¡ã«Null objectãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½¿ã„, if student is not None: ã‚’é™¤å»ã—ã¾ã™.
class Student(object): def __init__(self, id): self.id = id @staticmethod def get_student(id): if id &amp;lt;= 10: return Student(id) return NullStudent(id) def show(self): print(&amp;#39;id:{}&amp;#39;.</description>
    </item>
    
    <item>
      <title>Ansibleã§Ghostã‚¢ãƒ—ãƒªã‚’ãƒ‡ãƒ—ãƒ­ã‚¤</title>
      <link>https://satoshun.github.io/2015/02/ansible-deploy_ghost/</link>
      <pubDate>Sun, 22 Feb 2015 02:08:23 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2015/02/ansible-deploy_ghost/</guid>
      <description>VPSã«Ghostã‚’, Ansibleã§ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã„ã‚‹è©±.
ã‚µãƒ¼ãƒãƒ¼å´ã§ä½¿ã£ã¦ã„ã‚‹ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã¯, supervisor, nodeã§ã™.
GitHubã§ã‚½ãƒ¼ã‚¹ç®¡ç† CSS, HTMLã‚’å°‘ã—å¼„ã‚ŠãŸã„ã®ã§, Ghostã‚’forkã—, ãã‚Œã‚’ç·¨é›†ã—ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã„ã¾ã™.(https://github.com/satoshun/ghost)
ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’, ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ã„ãã¾ã™.
ãƒ‡ãƒ—ãƒ­ã‚¤æ™‚ã®æ‰‹é † ã‚µãƒ¼ãƒã§ä»¥ä¸‹ã®ã‚¿ã‚¹ã‚¯ã‚’è¡Œã„ã¾ã™.
 Gitãƒªãƒã‚¸ãƒˆãƒªã‚’æœ€æ–°ã®çŠ¶æ…‹ã«ã™ã‚‹(git pull origin master) npm moduleã®æ›´æ–°(npm install) gruntã®å®Ÿè¡Œ(grunt init &amp;amp;&amp;amp; grunt prod) ghostãƒ—ãƒ­ã‚»ã‚¹ã®å†èµ·å‹•(supervisorctl restart ghost)  Playbookã¯ä»¥ä¸‹ã«ãªã‚Šã¾ã™.
--- - hosts: all user: &amp;quot;{{ user }}&amp;quot; tasks: - include: update_source.yml - include: update_package.yml - include: restart.yml å„ã‚¿ã‚¹ã‚¯ã«ã¤ã„ã¦èª¬æ˜ã—ã¦ã„ãã¾ã™.
Git pullã™ã‚‹ Gitãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒã‚ã‚‹ã®ã§, ãã‚Œã‚’ä½¿ã„ã¾ã™.
- name: Update Git repository git: repo=&amp;lt;git url&amp;gt; dest=&amp;lt;path to project&amp;gt; npm moduleã®æ›´æ–° npmãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒã‚ã‚‹ã®ã§, ãã‚Œã‚’ä½¿ã„ã¾ã™.</description>
    </item>
    
    <item>
      <title>Golang: nil pointer receiverã®è©±</title>
      <link>https://satoshun.github.io/2015/02/go-nil_receiver/</link>
      <pubDate>Sun, 22 Feb 2015 02:08:23 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2015/02/go-nil_receiver/</guid>
      <description>nil pointer receiverã«ã¤ã„ã¦ãŠè©±ã—ã‚ˆã†ã¨æ€ã„ã¾ã™. å…·ä½“ä¾‹ã‚’ã‚ã’ãŸã»ã†ãŒåˆ†ã‹ã‚Šã‚„ã™ã„ã®ã§, ã‚³ãƒ¼ãƒ‰ã‚’å…ƒã«èª¬æ˜ã—ã¦ã„ãã¾ã™.
gist: https://gist.github.com/satoshun/3dc1302dbc163c9a9245
ã«ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ãŒã‚ã‚Šã¾ã™.
nil pointer receiver nilã«ã¤ã„ã¦. ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã¦ãã ã•ã„.
package main import &amp;quot;fmt&amp;quot; type A struct { } func (a *A) b() { fmt.Println(1000) } func main() { var a *A = nil a.b() } ã©ã†è€ƒãˆã¦ã‚‚, runtime error: nil pointer access çš„ãªã‚‚ã®ãŒå‡ºã‚‹ã ã‚ã†ã¨æ€ã£ã¦ã„ã¾ã—ãŸ.
sato$ go run main.go 1000 ã¡ã‚ƒã‚“ã¨å®Ÿè¡Œã§ãã¾ã—ãŸ. Goã§ã¯nilã«ã‚‚å‹æƒ…å ±ãŒã‚ã‚‹ã®ã§, nilã®å ´åˆã§ã‚‚Pointer receiverã®å ´åˆã¯å®Ÿè¡Œã§ãã‚‹ã®ã§ã™! ã“ã®æ©Ÿèƒ½ã‚’ä½¿ãˆã°, Pointer receiverã®ä¸­ã§nilã®å ´åˆã«å‡¦ç†ã‚’å¤‰ãˆã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™. è¦šãˆã¦ãŠãã¨ä¾¿åˆ©ã ã¨æ€ã„ã¾ã™.
ã¡ãªã¿ã«, Value receiverã®å ´åˆã¯ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã™.
package main import &amp;quot;fmt&amp;quot; type A struct { } // b is value receiver func (a A) b() { fmt.</description>
    </item>
    
    <item>
      <title>Ansibleã§Goã‚¢ãƒ—ãƒªã‚’ãƒ‡ãƒ—ãƒ­ã‚¤</title>
      <link>https://satoshun.github.io/2015/02/ansible-go_deploy/</link>
      <pubDate>Sun, 22 Feb 2015 01:08:23 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2015/02/ansible-go_deploy/</guid>
      <description>ãƒ­ãƒ¼ã‚«ãƒ«ã§ãƒã‚¤ãƒŠãƒªã‚’ä½œæˆã—, ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã‚ˆã†ãª, Ansible Playbookã‚’æ›¸ãã¾ã—ãŸ. Supervisorã§ãƒ—ãƒ­ã‚»ã‚¹ã®ç®¡ç†ã‚’è¡Œã£ã¦ã„ã¾ã™.
ä¸‹ã®æ‰‹é †ã§ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’è¡Œã£ã¦ã„ã¾ã™.
 Macã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦, Linux-amd64ç”¨ã®ãƒã‚¤ãƒŠãƒªç”Ÿæˆ(æ³¨æ„1) ãƒã‚¤ãƒŠãƒªã‚’ã‚µãƒ¼ãƒã«ãƒ‡ãƒ—ãƒ­ã‚¤(ã‚³ãƒ”ãƒ¼) ã‚¢ãƒ—ãƒªã®ãƒªã‚¹ã‚¿ãƒ¼ãƒˆ(supervisorã§å†èµ·å‹•)  å®Ÿéš›ã®Playbookã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™.
deploy.yml
--- - hosts: local connection: local tasks: - include: build.yml - hosts: app user: &amp;quot;{{ user }}&amp;quot; tasks: - include: update_binary.yml - include: restart.yml å„ã‚¿ã‚¹ã‚¯ã«ã¤ã„ã¦, èª¬æ˜ã—ã¦ãã¾ã™.
Linux-amd64ç”¨ã®ãƒã‚¤ãƒŠãƒªç”Ÿæˆ Goã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§, ã‚¯ãƒ­ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å‡ºæ¥ã‚‹æ©Ÿèƒ½ã‚’æŒã£ã¦ã„ã‚‹ã®ã§, ãã®æ©Ÿèƒ½ã‚’ä½¿ã„ã¾ã™.
ã‚„ã‚Šæ–¹ã¯ã„ã‚ã„ã‚ã‚ã‚‹ã¨æ€ã†ã®ã§ã™ãŒ, Makefileã‚’ä½œæˆã—ã¦, ãã‚Œã‚’Ansibleã‹ã‚‰å©ãã‚ˆã†ã«ã—ã¦å®Ÿè£…ã—ã¾ã—ãŸ. Makefileã‚’ä½œã‚‹å¿…è¦ãªã„ã¨æ€ã„ã¾ã™.
Makefile
get: go get -v build-amd64: get GOOS=linux GOARCH=amd64 go build . build.yml
--- - name: build src command: make build-amd64 chdir={{ local_home }} local_homeã¯å¤‰æ•°ã§, MakefileãŒã‚ã‚‹ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’å®šç¾©ã—ã¦ã„ã¾ã™.</description>
    </item>
    
    <item>
      <title>æ§˜ã€…ãªè¨€èªã®ãƒ•ã‚£ãƒœãƒŠãƒƒãƒé–¢æ•°</title>
      <link>https://satoshun.github.io/2015/02/algorithm-multi_fibonacci/</link>
      <pubDate>Sun, 22 Feb 2015 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2015/02/algorithm-multi_fibonacci/</guid>
      <description>Java, JavaScript, Go, Python, Bashã§fibonacciã‚’æ›¸ã„ã¦ã¿ã¾ã—ãŸ.
æ¥µåŠ›, ãã®è¨€èªç‰¹æœ‰ã®æ©Ÿèƒ½ã‚’ä½¿ã£ã¦å®Ÿè£…ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸ.
Go type fibonacci intã§, intå‹ã«fibonacciç”¨ã®é–¢æ•°ã‚’ç”Ÿã‚„ã—ã¾ã—ãŸ. ã›ã£ã‹ããªã®ã§, goroutineã‚‚ä½¿ã£ã¦ã¿ã¾ã—ãŸ.
package main import &amp;#34;fmt&amp;#34; type fibonacci int func (self fibonacci) value() chan int { ch := make(chan int, 1) a, b := 0, 1 index := 0 go func() { defer close(ch) for { if int(self) &amp;lt; index { break } a, b = b, a+b index++ ch &amp;lt;- a } }() return ch } func main() { var i fibonacci i = 10 for v := range i.</description>
    </item>
    
    <item>
      <title>Go: Goji patternãƒãƒƒãƒéƒ¨åˆ†ã®ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°</title>
      <link>https://satoshun.github.io/2014/11/go-goji-code-reading/</link>
      <pubDate>Sun, 09 Nov 2014 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2014/11/go-goji-code-reading/</guid>
      <description>Gojiã§ã¯, sinatraãƒ©ã‚¤ã‚¯ã«URLãƒãƒƒãƒãƒ³ã‚°ã‚’ã•ã›ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™. ã“ã®è¨˜äº‹ã§ã¯, URLãƒãƒƒãƒãƒ³ã‚°ã•ã›ã‚‹éƒ¨åˆ†ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’è§£èª¬ã—ã¦ã„ãã¾ã™.
ã¾ãš, parsePatternãƒ¡ã‚½ãƒƒãƒ‰ã‹ã‚‰.
func parsePattern(p interface{}) Pattern { switch p.(type) { case Pattern: return p.(Pattern) case *regexp.Regexp: return parseRegexpPattern(p.(*regexp.Regexp)) case string: return parseStringPattern(p.(string)) default: log.Fatalf(&amp;#34;Unknown pattern type %v. Expected a web.Pattern, &amp;#34;+ &amp;#34;regexp.Regexp, or a string.&amp;#34;, p) } panic(&amp;#34;log.Fatalf does not return&amp;#34;) } switch p.(type)ã§, ä¸ãˆã‚‰ã‚ŒãŸãƒ‘ã‚¿ãƒ¼ãƒ³ã®å‹ã«ã‚ˆã£ã¦å‡¦ç†ã‚’åˆ†å²ã•ã›ã¦ã„ã¾ã™. Pattern, *regexp.Regexp, stringã®3ãƒ‘ã‚¿ãƒ¼ãƒ³ã«å¯¾å¿œã—ã¦ã„ã¾ã™.
ä»Šå›ã¯, stringã®å ´åˆ, parseStringPatternã®å‡¦ç†ã‚’è¦‹ã¦ã„ãã¾ã™.
parseStringPattern ä¸­èº« const bc = &amp;#34;/.;,&amp;#34; var patternRe = regexp.MustCompile(`[` + bc + `]:([^` + bc + `]+)`) func parseStringPattern(s string) stringPattern { raw := s var wildcard bool if strings.</description>
    </item>
    
    <item>
      <title>subproã‚³ãƒãƒ³ãƒ‰: Sublime Projectã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†</title>
      <link>https://satoshun.github.io/2014/05/subpro/</link>
      <pubDate>Thu, 08 May 2014 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2014/05/subpro/</guid>
      <description>subproã‚³ãƒãƒ³ãƒ‰ Sublime Textã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’terminalã§ç®¡ç†ã™ã‚‹ãŸã‚ã®ã‚³ãƒãƒ³ãƒ‰ã‚’ä½œã‚Šã¾ã—ãŸï¼
çµæ§‹ä¾¿åˆ©ã ã¨æ€ã†ã®ã§ï¼Œä½¿ã£ã¦ãã‚ŒãŸã‚‰å¬‰ã—ã„ã§ã™ï¼ https://github.com/satoshun/subpro
ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« homebrewã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å‡ºæ¥ã¾ã™ï¼
$ brew tap satoshun/commands $ brew install subpro $ brew install subpro-completion .bashrcã«ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ï¼
if [ -f `brew --prefix`/etc/bash_completion.d/subpro_completion ]; then source `brew --prefix`/etc/bash_completion.d/subpro_completion fi ä½¿ã„æ–¹ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ # åŸºæœ¬æ§‹æ–‡ subpro create [group] [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª] # ä¾‹ $ ls martini $ subpro create golang martini ## create martini project into golang directory and open project. ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é–‹ã # åŸºæœ¬æ§‹æ–‡ subpro [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå] # ä¾‹ $ subpro martini ## open martini project with sublime text ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§ # ä¾‹ $ subpro [tab] Display all 131 possibilities?</description>
    </item>
    
  </channel>
</rss>
