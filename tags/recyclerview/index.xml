<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>recyclerview on stsnãƒ–ãƒ­ã‚°</title>
    <link>https://satoshun.github.io/tags/recyclerview/</link>
    <description>Recent content in recyclerview on stsnãƒ–ãƒ­ã‚°</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja</language>
    <copyright>Sato Shun</copyright>
    <lastBuildDate>Fri, 15 May 2020 13:25:48 +0000</lastBuildDate><atom:link href="https://satoshun.github.io/tags/recyclerview/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Android: ConstraintLayoutã®å­ã«RecyclerViewã‚’é…ç½®ã—ã¦ã€Match Constraintsã‚’è¨­å®šã™ã‚‹ã¨è‰¯ããªã„æŒ™å‹•ã‚’ã™ã‚‹</title>
      <link>https://satoshun.github.io/2020/05/recyclerview-with-match-constraints/</link>
      <pubDate>Fri, 15 May 2020 13:25:48 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2020/05/recyclerview-with-match-constraints/</guid>
      <description>å‚™å¿˜éŒ²ã§ã™ã€‚
æ¬¡ã®ã‚ˆã†ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¯è‰¯ããªã„ãã¨ã„ã†è©±ã§ã™ã€‚
&amp;lt;androidx.constraintlayout.widget.ConstraintLayout android:layout_width=&amp;#34;match_parent&amp;#34; android:layout_height=&amp;#34;wrap_content&amp;#34;&amp;gt; &amp;lt;androidx.recyclerview.widget.RecyclerView android:id=&amp;#34;@+id/recycler&amp;#34; android:layout_width=&amp;#34;0dp&amp;#34; android:layout_height=&amp;#34;wrap_content&amp;#34; app:layout_constraintEnd_toEndOf=&amp;#34;parent&amp;#34; app:layout_constraintStart_toStartOf=&amp;#34;parent&amp;#34; app:layout_constraintTop_toTopOf=&amp;#34;parent&amp;#34; /&amp;gt; &amp;lt;/androidx.constraintlayout.widget.ConstraintLayout&amp;gt; ä»Šå›ã®ä¾‹ã§ã¯ã€LinearLayoutManagerã‚’LayoutManagerã¨ã—ã¦ä½¿ã£ã¦ã„ã¾ã™ã€‚ä»–ã®LayoutManagerã®å ´åˆã€ã©ã†ã„ã†æŒ™å‹•ã‚’ã™ã‚‹ã‹åˆ†ã‹ã‚Šã¾ã›ã‚“ã€‚ ã¾ãŸã€ConstraintLayout 2.0.0-beta06ã€RecyclerView 1.1.0ã§è©¦ã—ã¦ã„ã¾ã™ã€‚
ã©ã‚“ãªæŒ™å‹•ã‚’ã™ã‚‹ã‹? ã“ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã¯ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆãƒ“ãƒ¥ãƒ¼ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ã€ã™ã¹ã¦ã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’ãƒã‚¤ãƒ³ãƒ‰ã—ã‚ˆã†ã¨ã—ã¾ã™ã€‚
ä¾‹ãˆã°500å€‹ã®RecyclerViewã‚¢ã‚¤ãƒ†ãƒ ãŒã‚ã£ãŸã¨ãã«ã€ç”»é¢ã«åã¾ã‚‹ã‹ã©ã†ã‹ã«é–¢ã‚ã‚‰ãš500å€‹ã®ãƒã‚¤ãƒ³ãƒ‰ãŒèµ°ã‚Šã¾ã™ã€‚
with(recycler) { // æ¨ªæ–¹å‘ã®LinearLayoutManager  layoutManager = LinearLayoutManager( this@ConstraintMatchConstraintsActivity, RecyclerView.HORIZONTAL, false ) // 500å€‹ã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’ç”Ÿæˆ  adapter = SampleAdapter().apply { submitList((0..500).map { &amp;#34;$index$it&amp;#34; }) } } private class SampleAdapter : ListAdapter&amp;lt;String, RecyclerView.ViewHolder&amp;gt;(...) { ... override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) { println(getItem(position)) // ã“ã“ãŒã€0 ~ 500ã¾ã§è¡¨ç¤ºã•ã‚Œã‚‹  } } 500å€‹å…¨éƒ¨ã«å¯¾ã—ã¦ã€æœ€åˆã«ãƒã‚¤ãƒ³ãƒ‰ãŒèµ°ã‚‹ã®ã¯éåŠ¹ç‡ãªã®ã§è‰¯ããªã„ã§ã™ğŸ˜‚</description>
    </item>
    
    <item>
      <title>Android: Groupieã®å†…éƒ¨ã§ã‚„ã£ã¦ã„ã‚‹å·®åˆ†æ›´æ–°å‘¨ã‚Šã®è©±</title>
      <link>https://satoshun.github.io/2019/11/groupie-diffutil/</link>
      <pubDate>Thu, 21 Nov 2019 12:35:25 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/11/groupie-diffutil/</guid>
      <description>Groupieã«ã¯GroupAdapter#updateãƒ¡ã‚½ãƒƒãƒ‰ã¨ã„ã†ä¾¿åˆ©ãªãƒ¡ã‚½ãƒƒãƒ‰ãŒã‚ã‚Šã¾ã™ã€‚
ã“ã®è¨˜äº‹ã§ã¯updateãƒ¡ã‚½ãƒƒãƒ‰ã‚’ã‚³ãƒ¼ãƒ«ã—ãŸæ™‚ã«ã€ã©ã®ã‚ˆã†ã«å·®åˆ†æ›´æ–°ã•ã‚Œã‚‹ã‹ã‚’ã€ç°¡å˜ãªèª¬æ˜ã¨å®Ÿéš›ã«å‹•ã‹ã—ã¦ã¿ã¦è¦‹ã¦ã„ãã¾ã™ã€‚
ãã‚‚ãã‚‚RecyclerViewã®å·®åˆ†æ›´æ–°ã£ã¦ä½•ã‚ˆ RecyclerViewã§ã¯ã€DiffUtil.Callbackã‚¯ãƒ©ã‚¹ã‚’å®Ÿè£…ã™ã‚‹ã“ã¨ã§ã€å‰ã®Adapterã®çŠ¶æ…‹ã¨ã€æ–°ã—ã„Adapterã®çŠ¶æ…‹ã®å·®åˆ†ã‚’è¨ˆç®—ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚ãã®è¨ˆç®—çµæœã‚’ã‚‚ã¨ã«ã€RecyclerViewã§ã¯åŠ¹ç‡çš„ã«Viewã‚’æ›´æ–°ã—ã¦ãã‚Œã¾ã™ã€‚ã¾ãŸã„ã„æ„Ÿã˜ã«ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã—ã¦ãã‚Œã¾ã™ã€‚
Groupieã§ã¯ã€å†…éƒ¨ã§DiffUtil.Callbackã‚’å®Ÿè£…ã—ãŸDiffCallbackã‚¯ãƒ©ã‚¹ãŒã‚ã‚Šã€ãã®ã‚¯ãƒ©ã‚¹ã‚’ã‚‚ã¨ã«å·®åˆ†æ›´æ–°ãŒè¡Œã‚ã‚Œã¾ã™ã€‚
DiffCallbackã‚¯ãƒ©ã‚¹ã®å®Ÿè£…ã‚’è¦‹ã¦ã„ã ã¾ãšã¯areItemsTheSameãƒ¡ã‚½ãƒƒãƒ‰ã‹ã‚‰ã€‚areItemsTheSameãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€ItemãŒåŒä¸€ã‹ã©ã†ã‹ã‚’åˆ¤å®šã—ã¾ã™ã€‚
@Override public boolean areItemsTheSame(int oldItemPosition, int newItemPosition) { Item oldItem = GroupUtils.getItem(oldGroups, oldItemPosition); Item newItem = GroupUtils.getItem(newGroups, newItemPosition); return newItem.isSameAs(oldItem); } ã¾ãšã€1ã¤å‰ã®Itemã¨æ–°ã—ã„Itemã‚’å–ã£ã¦ãã¦ã€newItem.isSameAs(oldItem);ã‚’ã‚³ãƒ¼ãƒ«ã—ã¦ã„ã¾ã™ã€‚
isSameAsãƒ¡ã‚½ãƒƒãƒ‰ã¯æ¬¡ã®å®šç¾©ã«ãªã£ã¦ã„ã¾ã™ã€‚
public boolean isSameAs(Item other) { if (getViewType() != other.getViewType()) { return false; } return getId() == other.getId(); } Itemã®viewTypeãŒç­‰ã—ã„ ã‹ã¤ IdãŒç­‰ã—ã„å ´åˆã«trueã‚’è¿”ã—ã¾ã™ã€‚
Idã¯ã€Itemã‚¯ãƒ©ã‚¹ã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‹ã‚‰ä¸ãˆã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
protected Item(long id) { this.id = id; } ãªã®ã§ã€GroupAdapterãŒupdateã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãªã‚‰ã€é©åˆ‡ãªIdã‚’æ¸¡ã™ã®ãŒè‰¯ã„ã§ã™ã€‚ ä¾‹ãˆã°ã€Userã‚¯ãƒ©ã‚¹çš„ãªã‚‚ã®ãŒã‚ã£ã¦ã€é‹è‰¯ãUserã‚’ä¸€æ„ã«åˆ¤å®šã§ãã‚‹idãŒå®šç¾©ã•ã‚Œã¦ã„ãŸã‚‰ã€ãã‚Œã‚’æ¸¡ã™ã¨è‰¯ã„ã¨æ€ã„ã¾ã™ã€‚
 æ¬¡ã«ã€areContentsTheSameãƒ¡ã‚½ãƒƒãƒ‰ã€‚areContentsTheSameãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€ã“ã®Itemã®å†…å®¹ãŒåŒã˜ã‹ã©ã†ã‹ã‚’åˆ¤å®šã—ã¾ã™ã€‚
@Override public boolean areContentsTheSame(int oldItemPosition, int newItemPosition) { Item oldItem = GroupUtils.</description>
    </item>
    
  </channel>
</rss>
