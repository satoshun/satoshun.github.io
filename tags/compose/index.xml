<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>compose on stsnãƒ–ãƒ­ã‚°</title>
    <link>https://satoshun.github.io/tags/compose/</link>
    <description>Recent content in compose on stsnãƒ–ãƒ­ã‚°</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja</language>
    <copyright>Sato Shun</copyright>
    <lastBuildDate>Sat, 11 Jun 2022 03:03:47 +0000</lastBuildDate><atom:link href="https://satoshun.github.io/tags/compose/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>devç‰ˆã®Jetpack Composeã‚’ä½¿ã£ã¦ã€æ–°ã—ã„Kotlinã«å¯¾å¿œã™ã‚‹</title>
      <link>https://satoshun.github.io/2022/06/jetpack-compose-dev-compiler/</link>
      <pubDate>Sat, 11 Jun 2022 03:03:47 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2022/06/jetpack-compose-dev-compiler/</guid>
      <description>Jetpack Composeã¯ã€ç‰¹å®šã®Kotlinã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¨çµã³ã¤ã„ã¦ãŠã‚Šã€Kotlinã‚’ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã™ã‚‹ã«ã¯ã€å¯¾å¿œã™ã‚‹Jetpack Composeã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«åˆã‚ã›ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ ã—ã‹ã—ã€Jetpack Composeã¯ã€ã‚„ã‚„é…ã‚Œã¦æœ€æ–°ã®Kotlinã¸ã®ã‚µãƒãƒ¼ãƒˆãŒå…¥ã‚‹ã®ã§ã€ã™ãã«æœ€æ–°ã®Kotlinã‚’è©¦ã›ãªã„ç¾çŠ¶ãŒã‚ã‚Šã¾ã™ã€‚
ãŸã ã€devãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®Jetpack Compose Compilerã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€Kotlinã‚’æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«ä¸Šã’ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
devãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®Jetpack Compose Compilerã¯ã€ä¸‹è¨˜ã®ãƒªãƒ³ã‚¯ã‹ã‚‰æ¢ã™ã“ã¨ãŒã§ãã¾ã™ã€‚
https://androidx.dev/storage/compose-compiler/repository ä¾‹ãˆã°ã€Kotlin 1.7.0ã«å¯¾å¿œã—ãŸã€Jetpack Compose Compilerã¯æ¬¡ã®ã‚ˆã†ã«ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ã€‚
// build.gradle repositories { maven { url &amp;#34;https://androidx.dev/storage/compose-compiler/repository/&amp;#34; } } // app/build.gradle android { composeOptions { kotlinCompilerExtensionVersion &amp;#34;1.2.0-dev-k1.7.0-53370d83bb1&amp;#34; } } ã“ã‚Œã§ã€Kotlinã‚’1.7.0ã«ä¸Šã’ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
æ³¨æ„ å‰è¿°ã—ãŸãƒªãƒ³ã‚¯ã«ã‚‚æ›¸ã„ã¦ã‚ã‚‹ã‚“ã§ã™ãŒã€devãƒãƒ¼ã‚¸ãƒ§ãƒ³ãªã®ã§ä¸å…·åˆãŒã‚ã‚‹å¯èƒ½æ€§ãŒé«˜ã„ã§ã™ã€‚ãªã®ã§ã€ã‚ãã¾ã§ãƒ†ã‚¹ãƒˆã€ã‚µãƒ³ãƒ—ãƒ«ã§ã®ã¿ä½¿ã£ãŸã»ã†ãŒç„¡é›£ã ã¨æ€ã„ã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>Jetpack Compose: debugInspectorInfoã‚’ä½¿ã£ã¦ã€ãƒ‡ãƒãƒƒã‚°ã‚’å°‘ã—æ¥½ã«ã™ã‚‹</title>
      <link>https://satoshun.github.io/2022/03/compose-debug-inspector-info/</link>
      <pubDate>Sun, 06 Mar 2022 12:12:41 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2022/03/compose-debug-inspector-info/</guid>
      <description>Android Studioã§ã€Layout Inspector ã‚’ä½¿ã†ã“ã¨ã§ã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®é…ç½®ã‚„ã€å®Ÿéš›ã«ã©ã®ã‚ˆã†ãªå€¤ãŒã‚»ãƒƒãƒˆã•ã‚Œã¦ã„ã‚‹ã‹ã®è©³ç´°ã‚’è¦‹ã‚‹äº‹ãŒã§ãã¾ã™ã€‚
Jetpack Composeã§ã¯ã€ãã®Layout Inspectorã«æƒ…å ±ã‚’æ¸¡ã™ã“ã¨ãŒã§ãã¾ã™ã€‚
ã©ã®ã‚ˆã†ã«æ¸¡ã™ã‹ã‚’ Modifier.border ã‚’ä¾‹ã«ã—ã¦èª¬æ˜ã—ã¾ã™ã€‚ã¾ãšã€Modifier.borderã‚’æ¬¡ã®ã‚ˆã†ã«ä½¿ã£ã¦ã¿ã¾ã™ã€‚
Surface( modifier = Modifier .border(width = 2.dp, color = Color.Cyan) ) { ... } ãã—ã¦ã€Layout Inspectorã§ã€ã“ã®Surfaceã®ä¸­èº«ã‚’è¦‹ã¦ã¿ã¾ã™ã€‚
modifierã®ä¸­ã«ã€borderãŒã‚ã‚Šã€è©³ç´°ãªæƒ…å ±ãŒã‚ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚
ã§ã¯æ¬¡ã«ã€Modifier.border ã§ã¯ã©ã®ã‚ˆã†ã«ã—ã¦ã€Layout Inspectorã«å€¤ã‚’ã‚»ãƒƒãƒˆã—ã¦ã„ã‚‹ã‹ã‚’è¦‹ã¦ã„ãã¾ã™ã€‚
fun Modifier.border(width: Dp, brush: Brush, shape: Shape): Modifier = composed( factory = { ... }, inspectorInfo = debugInspectorInfo { name = &amp;#34;border&amp;#34; properties[&amp;#34;width&amp;#34;] = width if (brush is SolidColor) { properties[&amp;#34;color&amp;#34;] = brush.value value = brush.value } else { properties[&amp;#34;brush&amp;#34;] = brush } properties[&amp;#34;shape&amp;#34;] = shape } ) composedãƒ¡ã‚½ãƒƒãƒ‰ã®ã€inspectorInfoå¼•æ•°ã‹ã‚‰ã€debugInspectorInfoãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä»‹ã—ã¦ãªã‚“ã‹è‰²ã€…ã‚„ã£ã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚ debugInspectorInfoãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€InspectorInfoã‚’ãƒ¬ã‚·ãƒ¼ãƒãƒ¼ã¨ã—ã¦å—ã‘å–ã‚‹ã“ã¨ãŒã§ãã€InspectorInfoã‚’ä»‹ã—ã¦nameã¨propertiesã‚’ã‚»ãƒƒãƒˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã‚‹ã¨ã€nameã«&amp;quot;border&amp;quot;ã€propertiesã«&amp;quot;width&amp;quot;ãªã©ã‚’ã‚»ãƒƒãƒˆã—ã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚ ã“ã‚Œã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ä¸Šã®ç”»åƒã®ã‚ˆã†ã«Layout Inspectorä¸Šã«æƒ…å ±ã‚’å‡ºåŠ›ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>Testifyã‚’ä½¿ã£ã¦ã€Jetpack Composeã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’ã™ã‚‹</title>
      <link>https://satoshun.github.io/2021/07/android-testify-jetpack-compose/</link>
      <pubDate>Sun, 18 Jul 2021 07:44:46 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2021/07/android-testify-jetpack-compose/</guid>
      <description>(ã“ã®è¨˜äº‹ã¯ã€ã»ã¼ã€Testify ã®READMEã«æ›¸ã„ã¦ã‚ã‚‹ã“ã¨ã‚’ã‚„ã£ã¦ã„ã‚‹ã ã‘ã§ã™)
Testify ã‚’ä½¿ã£ã¦ã€Jetpack Composeã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’ã—ã¦ã¿ã¾ã™ã€‚
ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— READMEã«è¨˜ã—ã¦ã‚ã‚‹é€šã‚Šã€build.gradleã«ä¸‹è¨˜ã®è¨­å®šã‚’è¿½åŠ ã—ã¾ã™ã€‚
dependencies { classpath &amp;#34;com.shopify.testify:plugin:1.1.0-beta2&amp;#34; } apply plugin: &amp;#39;com.shopify.testify&amp;#39; ã“ã‚Œã§å®Œäº†ã§ã™ã€‚
ãƒ†ã‚¹ãƒˆã‚’æ›¸ã„ã¦ã¿ã‚‹ JUnit4ãƒ™ãƒ¼ã‚¹ã®ScreenshotRule ã¨ã€ScreenshotInstrumentation ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ã„ã¾ã™ã€‚
class AppActivityTest { @get:Rule val rule = ScreenshotRule(TestActivity::class.java) @ScreenshotInstrumentation @Test fun test() { rule.activity.runOnUiThread { rule.activity.setContent { AppContent() } // AppContenté–¢æ•°ã¯é©å½“ãªComposeã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ } Thread.sleep(500) // ä¸€å¿œ rule.assertSame() } } ã“ã‚“ãªæ„Ÿã˜ã§ãƒ†ã‚¹ãƒˆã‚’è¨˜è¿°ã§ãã¾ã™ã€‚ScreenshotRule ã‚’ä½¿ã£ã¦ã€é©å½“ãªActivityã‚’èµ·å‹•ã™ã‚‹ã€‚ãã‚Œã«ã€Jetpack Composeã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ã‚»ãƒƒãƒˆã™ã‚‹æ„Ÿã˜ã§ã™ã€‚
æ¬¡ã«ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œã‚’ã—ã¾ã™ã€‚ã¾ãšä¸‹æº–å‚™ã¨ã—ã¦ã€baseã¨ãªã‚‹ç”»åƒã‚’ç”Ÿæˆã—ã¾ã™ã€‚
./gradlew screenshotRecord ã“ã‚Œã§ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ(pngãƒ•ã‚¡ã‚¤ãƒ«)ãŒãƒ­ãƒ¼ã‚«ãƒ«ã«ã‚³ãƒ”ãƒ¼ã•ã‚Œã‚‹ã®ã§ã€Gitãªã©ã«ã‚³ãƒŸãƒƒãƒˆã—ã¦ãŠãã¾ã™ã€‚
æ¬¡ã«ã€ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’è¡Œã„ã¾ã™ã€‚ä»Šå›ã¯ã€é€£ç¶šã§ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã„ã‚‹ã®ã§æˆåŠŸã—ã¾ã™ã€‚
./gradlew screenshotTest ------------------------------------------------------------ Run the Testify screenshot tests ------------------------------------------------------------ com.github.satoshun.example.AppActivityTest:. Time: 2.264 OK (1 test) å¤±æ•—ã—ãŸã‚±ãƒ¼ã‚¹ã‚‚è¦‹ã¦ã¿ãŸã„ã®ã§ã€AppContenté–¢æ•°ã®ä¸­èº«ã‚’å¤‰ãˆã¦å®Ÿè¡Œã—ã¦ã¿ã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>Jetpack Compose: IOSchedã‚’Jetpack Composeã§æ›¸ã part1</title>
      <link>https://satoshun.github.io/2020/07/compose-iosched-scaffold/</link>
      <pubDate>Sun, 12 Jul 2020 05:14:48 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2020/07/compose-iosched-scaffold/</guid>
      <description>ã“ã®è¨˜äº‹ã§ã¯ã€Jetpack Composeã‚’å­¦ã¶ãŸã‚ã«ã€å…¬å¼ã® IoSched ã®UIã‚’Jetpack Composeã«æ›¸ãæ›ãˆã¦ã„ãè¨˜äº‹ã«ãªã‚Šã¾ã™ã€‚ å®Œå…¨ã«è¦‹ãŸç›®ã‚’åŒä¸€ã«ã™ã‚‹ã¨ã„ã†æ‰€ã¾ã§ã¯ã‚„ã‚‰ãšã«ã€å¤§ä½“ä¸€ç·’ã®è¦‹ãŸç›®ã§å¦¥å”ã™ã‚‹ã®ã§ã”äº†æ‰¿ä¸‹ã•ã„ã€‚
Part1ã§ã¯ã€ãƒ›ãƒ¼ãƒ ç”»é¢ã®Appbarã‚’ä½œã‚‹ã¨ã“ã‚ã¾ã§ã‚’ã‚„ã‚Šã¾ã™ã€‚
ã¾ãŸã€ã“ã®è¨˜äº‹ã®ã‚³ãƒ¼ãƒ‰ã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã¯Google I/Oã‚¢ãƒ—ãƒªã¨åŒç­‰ã§ã™ã€‚
Copyright 2014 Google Inc. All rights reserved. Licensed under the Apache License, Version 2.0 (the &amp;#34;License&amp;#34;); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an &amp;#34;AS IS&amp;#34; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</description>
    </item>
    
    <item>
      <title>Jetpack Compose: PreviewParameterã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ã£ã¦ã„ã‚ã„ã‚ãªãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ä½œã‚‹</title>
      <link>https://satoshun.github.io/2020/07/compose-preview/</link>
      <pubDate>Wed, 08 Jul 2020 11:36:04 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2020/07/compose-preview/</guid>
      <description>ã“ã®è¨˜äº‹ã§ã¯ã€PreviewParameterã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ã£ã¦è¤‡æ•°ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å‡ºã™æ–¹æ³•ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚
Previewã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦ Jetpack Composeã§ã¯ã€@Previewã‚’ä½¿ã†ã“ã¨ã§ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤ºã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
ä¾‹ãˆã°ã€TestScreenã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¯æ¬¡ã®ã‚ˆã†ã«å®šç¾©ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
@Composable fun TestScreen( user: User, count: Int ) { ... } @Preview(&amp;#34;test screen&amp;#34;) @Composable fun PreviewTestScreen() { TestScreen(user = User(id = &amp;#34;1&amp;#34;, name = &amp;#34;tom&amp;#34;), count = 10) } ã“ã“ã§ã€ã„ã‚ã„ã‚ãªUserã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã§ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤ºã—ãŸã„ã¨ã—ã¾ã™ã€‚æ„šç›´ã«ã‚„ã‚‹ãªã‚‰ã€@Previewã‚’è¤‡æ•°å®šç¾©ã™ã‚‹ã“ã¨ã§ã™ãŒã€@PreviewParameterã‚’ä½¿ã†ã“ã¨ã§ã‚ˆã‚Šã‚¹ãƒãƒ¼ãƒˆã«æ›¸ãã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
å…·ä½“çš„ã«ã¯ã€æ¬¡ã®ã‚ˆã†ã«æ›¸ãã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
class PreviewUserProvider : PreviewParameterProvider&amp;lt;User&amp;gt; { override val values: Sequence&amp;lt;User&amp;gt; get() = sequenceOf( User(id = &amp;#34;1&amp;#34;, name = &amp;#34;tom&amp;#34;), User(id = &amp;#34;2&amp;#34;, name = &amp;#34;ã‚¹ã‚ºã‚­&amp;#34;) ) } @Preview(&amp;#34;test screen parameter&amp;#34;) @Composable fun PreviewParameterTestScreen( @PreviewParameter(PreviewUserProvider::class) user: User ) { TestScreen(user = user, count = 10) } æœ€åˆã«ã€PreviewParameterProviderã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®Ÿè£…ã—ã¾ã™ã€‚PreviewParameterProviderã§ã¯ã€ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ãŸã„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ï¼ˆãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼‰ã‚’å®šç¾©ã—ã¦ã‚ã’ã¾ã™ã€‚ å®Ÿè£…ã—ãŸã‚¯ãƒ©ã‚¹ã‚’ @PreviewParameter(PreviewUserProvider::class) ã¨æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¤‡æ•°å‡ºã™ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>Jetpack Compose: Ambientã‚’ä½¿ã£ã¦ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’æ³¨å…¥ã€å–å¾—ã™ã‚‹</title>
      <link>https://satoshun.github.io/2020/03/compose-ambient/</link>
      <pubDate>Thu, 05 Mar 2020 10:38:47 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2020/03/compose-ambient/</guid>
      <description>ã“ã‚“ã«ã¡ã‚ã£ãµã‚‹ğŸ°
ä»Šå›ã¯ã€Composeã«ã‚ã‚‹Ambientã‚’èª¬æ˜ã—ãŸã„ã¨æ€ã„ã¾ã™ã€‚ã“ã®è¨˜äº‹ã¯dev06ã§æ¤œè¨¼ã—ã¦ã„ã¾ã™ã€‚
å‰æãƒ»èª²é¡Œ ä¸€èˆ¬çš„ã«ã€Composableãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ãƒ‡ãƒ¼ã‚¿ã‚’æ¸¡ã™ã¨ãã€é–¢æ•°ã®å¼•æ•°ã‹ã‚‰æ¸¡ã—ã¾ã™ã€‚
@Composable fun MyView(someData: Data) { ... } ã“ã‚ŒãŒã‚·ãƒ³ãƒ—ãƒ« ã‹ã¤ åˆ†ã‹ã‚Šã‚„ã™ã„æ–¹æ³•ã§ã™ã€‚ ã—ã‹ã—ã€ä¸­é–“ã«å¤šãã®Composableãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒã‚ã‚‹å ´åˆã€å…¨ã¦ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å¼•æ•°ã§ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã‚Šã€ã•ã‚‰ã«æ¸¡ã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¯å°‘ã€…é¢å€’ã§å†—é•·ã§ã™ã€‚
ã“ã“ã§ã€Ambientã‚’ä½¿ã†ã¨ã™ã£ãã‚Šã¨æ›¸ãã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
Ambientã‚’ä½¿ã† ã¾ãšã€æœ€åˆã«Ambientã®å®šç¾©ã‚’ã—ã¾ã™ã€‚Ambientã®å®šç¾©ã¯ambientOfãƒ¡ã‚½ãƒƒãƒ‰ã‹ã‚‰è¡Œãˆã¾ã™ã€‚
ä»Šå›ã¯ä¾‹ã¨ã—ã¦ã€ExampleViewModelã‚’Ambientã§å®šç¾©ã—ã¦ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‹ã‚‰ä½¿ç”¨ã—ã¾ã™ã€‚
ã¾ãšã€å®šç¾©ã‚’è¡Œã„ã¾ã™ã€‚
val exampleViewModelAmbient = ambientOf&amp;lt;ExampleViewModel&amp;gt;() ã“ã‚Œã§å®šç¾©ã¯å®Œäº†ã§ã™ã€‚ambientOfãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã™ã ã‘ã§ã™ã€‚
æ¬¡ã«ã€ã“ã‚Œã‚’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‹ã‚‰ä½¿ã£ã¦ã¿ã¾ã™ã€‚
val exampleViewModelAmbient = ambientOf&amp;lt;ExampleViewModel&amp;gt;() @Composable fun ExampleApp() { val viewModel = ExampleViewModel() Providers(exampleViewModelAmbient provides viewModel) { MyView() } } @Composable private fun MyView() { val viewModel = exampleViewModelAmbient.current ... } ã“ã‚Œã§å®Œäº†ã§ã™ã€‚ã‚³ãƒ¼ãƒ‰ã‚’èª¬æ˜ã—ã¦ãã¾ã™ã€‚
Providers(exampleViewModelAmbient provides viewModel)
Ambientã«å¯¾ã—ã¦å€¤ã‚’æ³¨å…¥ã—ã¦ã„ã¾ã™ã€‚ã“ã®å ´åˆã€å®šç¾©ã—ãŸexampleViewModelAmbientã«ã€ExampleViewModelã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’æ³¨å…¥ã€ã‚»ãƒƒãƒˆã—ã¦ã„ã¾ã™ã€‚
val viewModel = exampleViewModelAmbient.current
æ³¨å…¥ã—ãŸå€¤ã¯ .current ã‹ã‚‰å–å¾—ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚ã“ã®å ´åˆã€ä¸Šè¨˜ã§ç”Ÿæˆã—ãŸExampleViewModelã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®å€¤ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
ambientOfã§å®šç¾©ã—ã¦ã€Providersã§å€¤ã‚’ã‚»ãƒƒãƒˆã™ã‚‹ã“ã¨ã§ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«å€¤ã‚’æ¸¡ã™ã“ã¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚
æ³¨æ„ç‚¹ æ³¨æ„ã¨ã—ã¦ã¯ã€Providersã§å›²ã£ã¦ã„ãªã„å ´åˆã«ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ç‚¹ã§ã™ã€‚ä¾‹ãˆã°ã€æ¬¡ã®ã‚ˆã†ã«æ›¸ãã“ã¨ã¯å‡ºæ¥ã¾ã›ã‚“ã€‚</description>
    </item>
    
    <item>
      <title>Jetpack Compose: Modelã¨state</title>
      <link>https://satoshun.github.io/2020/02/compose-model-state/</link>
      <pubDate>Sat, 29 Feb 2020 23:32:01 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2020/02/compose-model-state/</guid>
      <description>Jetpack Composeã®ãƒ‡ãƒ¼ã‚¿ç›£è¦–æ–¹æ³•ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚
state ã¾ãšã€stateãƒ¡ã‚½ãƒƒãƒ‰ã®ç´¹ä»‹ã‚’ã—ã¾ã™ã€‚
stateãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†ã¨å€¤ã‚’ç›£è¦–ã™ã‚‹ã“ã¨ãŒã§ãã€å€¤ãŒå¤‰æ›´ã•ã‚ŒãŸã¨ãã«è‡ªå‹•ã§å†æ§‹æˆï¼ˆrecompositionï¼‰ã—ã¦ãã‚Œã¾ã™ã€‚
æ¬¡ã®ã‚ˆã†ã«ã€Viewã®çŠ¶æ…‹ã‚’è¡¨ã™ã®ã«ä¾¿åˆ©ã«ä½¿ãˆã¾ã™ã€‚
@Composable fun MyCheckbox() { // åˆæœŸå€¤false var checked by state { false } Checkbox( checked = checked, onCheckedChange = { // stateã§å®šç¾©ã—ãŸå€¤ã‚’æ›´æ–°ã™ã‚‹ã¨ã€è‡ªå‹•ã§UIã®å†æ§‹æˆï¼ˆrecomposition)ãŒèµ°ã‚‹ checked = it } ) } state { åˆæœŸå€¤ }ã£ã¦æ„Ÿã˜ã§å®šç¾©ã—ã¦ã€ãã®å€¤ã‚’æ›´æ–°ã™ã‚‹ã¨UIã®å†æ§‹æˆã‚’ã—ã¦ãã‚Œã¾ã™ã€‚
ã“ã®ä¾‹ã®å ´åˆã€CheckboxãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã‚‹ã¨ã€checkedã®çŠ¶æ…‹ãŒå¤‰ã‚ã‚Šã€ViewãŒå†æ§‹æˆã•ã‚Œã¾ã™ã€‚
Model æ¬¡ã«Modelã§ã™ã€‚Modelã¯ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã§å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚ Modelã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã¤ã‘ãŸã‚¯ãƒ©ã‚¹ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒç›£è¦–å¯¾è±¡ã«ãªã‚Šã€ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒæ›´æ–°ã•ã‚ŒãŸã¨ãã«è‡ªå‹•ã§å†æ§‹æˆã—ã¦ãã‚Œã¾ã™ã€‚
ä¾‹ãˆã°ã€ã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã‚«ã‚¦ãƒ³ãƒˆã‚’ä¿æŒã™ã‚‹Modelã¯æ¬¡ã®ã‚ˆã†ã«ä½œã‚Šã¾ã™ã€‚
@Model class Count( var count: Int = 0 ) @Composable fun MyText() { // Modelã®å®šç¾©ã€‚å¼•æ•°ã‹ã‚‰æ¸¡ã™ã“ã¨ã‚‚ã‚ã‚‹ val count = Count() Ripple(bounded = false) { Clickable(onClick = { // Modelã®å€¤ã‚’æ›´æ–°ã™ã‚‹ã¨ã€è‡ªå‹•ã§å†æ§‹æˆï¼ˆrecomposition)ãŒèµ°ã‚‹ count.</description>
    </item>
    
  </channel>
</rss>
