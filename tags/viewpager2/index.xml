<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>viewpager2 on stsnãƒ–ãƒ­ã‚°</title>
    <link>https://satoshun.github.io/tags/viewpager2/</link>
    <description>Recent content in viewpager2 on stsnãƒ–ãƒ­ã‚°</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja</language>
    <copyright>Sato Shun</copyright>
    <lastBuildDate>Sun, 13 Oct 2019 05:23:44 +0000</lastBuildDate><atom:link href="https://satoshun.github.io/tags/viewpager2/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>ViewPager2ã§è¦ç´ ã‚’ãƒ«ãƒ¼ãƒ—ã•ã›ã‚‹</title>
      <link>https://satoshun.github.io/2019/10/viewpager2-loop/</link>
      <pubDate>Sun, 13 Oct 2019 05:23:44 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/10/viewpager2-loop/</guid>
      <description>ViewPager2ã§è¦ç´ ã‚’ãƒ«ãƒ¼ãƒ—ã•ã›ã‚‹æ–¹æ³•ã®ç´¹ä»‹ã§ã™ã€‚ã„ã‚ã‚†ã‚‹å¾ªç’°ãƒªã‚¹ãƒˆã§ã™ã€‚
ViewPager2ã§ã¯RecyclerViewã‚’ä½¿ã†ã“ã¨ãŒå‡ºæ¥ã‚‹ã®ã§ã€RecyclerViewã¨åŒã˜ã‚ˆã†ãªå®Ÿè£…ã§å®Ÿç¾ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
æœ€çµ‚çš„ã«ã“ã‚“ãªã®ãŒä½œã‚Œã¾ã™ã€‚ï¼ˆaã€bã€cã®è¦ç´ ã§ãƒ«ãƒ¼ãƒ—ã—ã¦ã„ã‚‹ï¼‰
 ä»Šå›ã®æ¤œè¨¼ã«ç”¨ã„ãŸã‚³ãƒ¼ãƒ‰ã¯ã€satoshun/ViewPager2ã«ã‚ã‚Šã¾ã™ğŸ˜ƒ
ã§ã¯ã€ã‚³ãƒ¼ãƒ‰ã‚’èª¬æ˜ã—ã¦ã„ãã¾ã™ã€‚ä»Šå›ã¯ã€1ã¤ã®ViewTypeã‚’æ‰±ã„ã¾ã™ã€‚
å®Ÿéš›ã®ã‚³ãƒ¼ãƒ‰ ã¾ãšã€RecyclerView.Adapterã®ã‚µã‚¤ã‚ºã‚’æ±ºã‚ã‚‹getItemCountãƒ¡ã‚½ãƒƒãƒ‰ã®å®Ÿè£…ã§ã™ã€‚ é™ã‚Šãªãå¤§ãã„å€¤ã€Int.MAX_VALUEã‚’è¿”ã—ã¾ã™ã€‚
override fun getItemCount(): Int = Int.MAX_VALUE æ¬¡ã«ã€onBindViewHolderãƒ¡ã‚½ãƒƒãƒ‰ã‚’æ¬¡ã®ã‚ˆã†ã«å®Ÿè£…ã—ã¾ã™ã€‚
private val itemData: List&amp;lt;Data&amp;gt; override fun onBindViewHolder(holder: InfiniteViewHolder, position: Int) { val data = itemData[position % itemData.size] ... } itemDataã«ã¯Viewã®ç”Ÿæˆã«å¿…è¦ãªå®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿ãŒå…¥ã£ã¦ã„ã¾ã™ã€‚position % itemData.sizeã¨indexã‚’å–ã‚‹ã“ã¨ã§ã€ãƒ«ãƒ¼ãƒ—ä¸­ã®ã©ã“ã®ä½ç½®ã«ã„ã‚‹ã‹ã‚’ç‰¹å®šã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
æœ€çµ‚çš„ãªã€RecyclerView.Adapterã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ï¼ˆonCreateViewHolderãƒ¡ã‚½ãƒƒãƒ‰ã¯é‡è¦ã§ãªã„ã®ã§ã€çœç•¥ã—ã¦ã„ã¾ã™ï¼‰
class InfiniteAdapter( private val itemData: List&amp;lt;Data&amp;gt; ) : RecyclerView.Adapter&amp;lt;InfiniteViewHolder&amp;gt;() { override fun getItemCount(): Int = Int.MAX_VALUE override fun onCreateViewHolder(parent: ViewGroup, viewType: Int) = ... override fun onBindViewHolder(holder: InfiniteViewHolder, position: Int) { val data = itemData[position % itemData.</description>
    </item>
    
    <item>
      <title>ViewPager2ã§ã‚«ãƒ«ãƒ¼ã‚»ãƒ«ã£ã½ã„ã‚‚ã®ã‚’å®Ÿè£…ã™ã‚‹</title>
      <link>https://satoshun.github.io/2019/08/viewpager2-like-a-carousel/</link>
      <pubDate>Thu, 29 Aug 2019 13:29:06 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/08/viewpager2-like-a-carousel/</guid>
      <description>æ¨ªã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’ãƒãƒ©è¦‹ã›ã™ã‚‹ç”»é¢ã‚’ViewPager2ã§æ›¸ã‘ã‚‹ã‚ˆã£ã¦è©±ã§ã™ã€‚
æœ€çµ‚çš„ã«ã“ã‚“ãªã®ãŒä½œã‚Œã¾ã™ã€‚
 ã§ã¯ã€ã‚³ãƒ¼ãƒ‰ã‚’èª¬æ˜ã—ã¦ã„ãã¾ã™ã€‚
1. æ¨ªã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’ãƒãƒ©è¦‹ã›ã™ã‚‹ ã¾ãšã€ViewPager2ã‚’Layoutå†…ã«å®šç¾©ã—ã¾ã™ã€‚
&amp;lt;androidx.viewpager2.widget.ViewPager2 android:id=&amp;#34;@+id/viewpager&amp;#34; android:layout_width=&amp;#34;match_parent&amp;#34; android:layout_height=&amp;#34;200dp&amp;#34; android:orientation=&amp;#34;horizontal&amp;#34; /&amp;gt; æ¬¡ã«ã€æ¨ªã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’ã©ã‚Œã ã‘ãƒãƒ©è¦‹ã›ã‚‹ã‹ã‚’å®šç¾©ã—ã¾ã™ã€‚
&amp;lt;dimen name=&amp;#34;offset&amp;#34;&amp;gt;32dp&amp;lt;/dimen&amp;gt; æ¬¡ã«ã€å„ã‚¢ã‚¤ãƒ†ãƒ é–“ã«ã©ã‚Œã ã‘ã®ãƒãƒ¼ã‚¸ãƒ³ã‚’ã¤ã‘ã‚‹ã‹ã‚’å®šç¾©ã—ã¾ã™ã€‚
&amp;lt;dimen name=&amp;#34;page_margin&amp;#34;&amp;gt;16dp&amp;lt;/dimen&amp;gt; æ¬¡ã«ã€ViewPager2å†…ã§ä½¿ã†ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ«ã®Viewã«marginLeftã€Rightã‚’ã‚»ãƒƒãƒˆã—ã¾ã™ã€‚
&amp;lt;com.google.android.material.card.MaterialCardView android:layout_width=&amp;#34;match_parent&amp;#34; android:layout_height=&amp;#34;match_parent&amp;#34; android:layout_marginLeft=&amp;#34;48dp&amp;#34; // ã“ã‚Œã¯ã€offset + page_marginã®å€¤ android:layout_marginRight=&amp;#34;48dp&amp;#34; app:cardCornerRadius=&amp;#34;16dp&amp;#34;&amp;gt; ... marginã«ã¯å‰ã§å®šç¾©ã—ãŸoffsetã€page_marginã‚’è¶³ã—åˆã‚ã›ãŸã‚‚ã®ã‚’æŒ‡å®šã—ã¾ã™ã€‚
ãã—ã¦ã€æœ€å¾Œã«PageTransformerã‚’è¨­å®šã—ã¾ã™ã€‚
viewpager.offscreenPageLimit = 2 // ã“ã‚Œã¯å·¦å³ã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’æç”»ã™ã‚‹ãŸã‚ã«å¿…è¦  val pageMarginPx = root.context.resources.getDimensionPixelOffset(R.dimen.page_margin) val offsetPx = root.context.resources.getDimensionPixelOffset(R.dimen.offset) viewpager.setPageTransformer { page, position -&amp;gt; val offset = position * (2 * offsetPx + pageMarginPx) page.translationX = -offset } PageTransformerã¯ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã«å¿œã˜ã¦ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã•ã‚Œã‚‹é–¢æ•°ã«ãªã‚Šã¾ã™ã€‚ ã“ã®ä¸­ã§ã€translationXã‚’positionã®å€¤ã«å¿œã˜ã¦å‹•ã‹ã™ã“ã¨ã§ã€å·¦å³ã®ã‚¢ã‚¤ãƒ†ãƒ ã®ãƒãƒ©è¦‹ã›ã‚’å®Ÿç¾å‡ºæ¥ã¾ã™ã€‚
2. ã•ã‚‰ã«Scaleã‚‚å¤‰æ›´ã™ã‚‹ å‰è¿°ã—ãŸãƒãƒ©è¦‹ã›PageTransformerã«åŠ ãˆã€Scaleç”¨ã®PageTransformerã‚‚ä½œã‚Šã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>ViewPager2 with TabLayout</title>
      <link>https://satoshun.github.io/2019/05/viewpager2-with-tablayout/</link>
      <pubDate>Fri, 17 May 2019 04:08:42 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/05/viewpager2-with-tablayout/</guid>
      <description>Material Componentsã§ViewPager2 + TabLayoutã®ã‚³ãƒ¼ãƒ‰ãŒå…¥ã£ãŸã®ã§ãã‚Œã®ç´¹ä»‹ã€‚ã¾ã alphaã¸ã®ãƒªãƒªãƒ¼ã‚¹ã‚‚ã•ã‚Œã¦ã„ãªã„ã®ã§ã€APIã¯å¤§ããå¤‰ã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ãŠãã‚‰ã1.1.0-alpha07ã«å…¥ã£ã¦ãã‚‹ã¨æ€ã„ã¾ã™ã€‚
TabLayoutã¯ViewPagerã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã—ãŸãŒã€ãã‚ŒãŒViewPager2ã«ã‚‚æ¥ãŸã£ã¦æ„Ÿã˜ã§ã™ã€‚
ä½¿ã„æ–¹ æ–°ã—ãè¿½åŠ ã•ã‚ŒãŸTabLayoutMediatorã‚’ä½¿ã„ã¾ã™ã€‚
ã¾ãšã€TabLayoutMediatorã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã—ã¾ã™ã€‚
val viewPager: ViewPager2 = findViewById(R.id.viewpager) val tabLayout: TabLayout = findViewById(R.id.tab) val mediator = TabLayoutMediator(tabLayout, viewPager) { tab: TabLayout.Tab, position: Int -&amp;gt; tab.text = &amp;#34;test $position&amp;#34; // ã‚¿ãƒ–ã«ã‚¿ã‚¤ãƒˆãƒ«ã‚’ã‚»ãƒƒãƒˆ } ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã«ã¯ã€TabLayoutã€ViewPager2ã€OnConfigureTabCallbackã‚’æ¸¡ã—ã¾ã™ã€‚ OnConfigureTabCallbackã¯ã€tabã¨positionã‚’å—ã‘å–ã‚Šã€tabã«å¯¾ã—ã¦ã€ã‚¿ã‚¤ãƒˆãƒ«ã‚’ã‚»ãƒƒãƒˆã—ã¾ã™ã€‚ ViewPagerã®PageAdapterã¨ã¯é•ã„ã€RecyclerViewã®Adapterã‹ã‚‰ã¯ã‚¿ã‚¤ãƒˆãƒ«ã‚’å–å¾—ã§ããªã„ã®ã§ã€ã“ã®ã‚ˆã†ãªå¤‰æ›´ã«ãªã£ãŸã¨æ€ã‚ã‚Œã¾ã™ã€‚
æœ€å¾Œã«attaché–¢æ•°ã‚’å‘¼ã³å‡ºã—ã¾ã™ã€‚
mediator.attach() ã“ã‚Œã§ã€ViewPager2 + TabLayoutã‚’å®Ÿç¾ã§ãã¾ã™ã€‚ã¨ã¦ã‚‚ç°¡å˜ï¼ï¼
ã¾ã¨ã‚  ViewPager2ã‚‚ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ãŒæ•´ã„ã¤ã¤ã‚ã‚‹ğŸ˜Š ä»Šå›è©¦ã—ãŸã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ satoshun-android-example/ViewPager2ã«ã‚ã‚Šã¾ã™ğŸ˜ƒ  </description>
    </item>
    
  </channel>
</rss>
