<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Android on stsnãƒ–ãƒ­ã‚°</title>
    <link>https://satoshun.github.io/tags/android/</link>
    <description>Recent content in Android on stsnãƒ–ãƒ­ã‚°</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja</language>
    <copyright>Sato Shun</copyright>
    <lastBuildDate>Sun, 02 Jun 2019 09:08:57 +0000</lastBuildDate>
    
	<atom:link href="https://satoshun.github.io/tags/android/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Dagger2: 2.23ã«å…¥ã£ãŸHasAndroidInjectorã«ã¤ã„ã¦</title>
      <link>https://satoshun.github.io/2019/06/dagger-android-injector/</link>
      <pubDate>Sun, 02 Jun 2019 09:08:57 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/06/dagger-android-injector/</guid>
      <description>Dagger 2.23ã«æ–°ã—ãã€HasAndroidInjectorã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãŒå…¥ã‚Šã¾ã—ãŸã€‚ ã“ã‚Œã¯ã€å¾“æ¥ã®HasActivityInjectorã‚„HasFragmentInjectorãªã©ã‚’ç½®ãæ›ãˆã‚‹ãŸã‚ã«ä½œã‚‰ã‚Œã¾ã—ãŸã€‚
ã“ã®è¨˜äº‹ã§ã¯ã€ã©ã®ã‚ˆã†ã«ç½®ãæ›ãˆã‚‹ã‹ã‚’èª¬æ˜ã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚
ã¾ãŸã€DaggerApplicationã‚„DaggerActivityãªã©ã®åŸºåº•ã‚¯ãƒ©ã‚¹ã¯ä½¿ã£ã¦ã„ãªã„ã‚‚ã®ã¨ã—ã¾ã™ã€‚
ç½®ãæ›ãˆã¦ã„ã AppComponent AndroidSupportInjectionModuleã‚’ä½¿ã£ã¦ã„ã‚‹ãªã‚‰ã€AndroidInjectionModuleã«ç½®ãæ›ãˆã¾ã™ã€‚ ä»Šå¾Œã¯ã€AndroidSupportInjectionModuleã‚’ä½¿ã†å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
@Singleton @dagger.Component( modules = [ AndroidInjectionModule::class, // AndroidInjectionModuleã‚’ä½¿ã† ... ] ) interface AppComponent ...  Application Applicationã§å®Ÿè£…ã—ã¦ã„ã‚‹ã€HasActivityInjectorã€ HasServiceInjectorã‚’HasAndroidInjectorã«ç½®ãæ›ãˆã¾ã™ã€‚
class App : Application(), // HasAndroidInjectorã®ã¿ã§ãŠï½‹ HasAndroidInjector { // å‹å¤‰æ•°ãŒAnyã«ãªã‚‹ @Inject lateinit var androidInjector: DispatchingAndroidInjector&amp;lt;Any&amp;gt; // è¿”ã‚Šå€¤ã®å‹å¤‰æ•°ãŒAnyã«ãªã‚‹ override fun androidInjector(): AndroidInjector&amp;lt;Any&amp;gt; { DaggerAppComponent.factory().create(this).inject(this) return androidInjector } }  ä»Šã¾ã§ã¯Activtityç”¨ã€Fragmentç”¨ã€Serviceç”¨ã¨ãã‚Œãã‚Œã«DispatchingAndroidInjectorãŒã‚ã‚Šã¾ã—ãŸãŒã€ãã‚ŒãŒ1ã¤ã®DispatchingAndroidInjector&amp;lt;Any&amp;gt;ã¾ã¨ã¾ã‚Šã¾ã—ãŸã€‚
Activity, Fragment HasSupportFragmentInjectorãªã©ã®Injectorã¯ã€HasAndroidInjectorã«ç½®ãæ›ãˆã¾ã™ã€‚
class MainActivity : AppCompatActivity(), // HasSupportFragmentInjectorã®ä»£ã‚ã‚Šã«ã€HasAndroidInjectorã‚’ä½¿ã† HasAndroidInjector { @Inject lateinit var androidInjector: DispatchingAndroidInjector&amp;lt;Any&amp;gt; override fun onCreate(savedInstanceState: Bundle?</description>
    </item>
    
    <item>
      <title>ViewModel SavedState &#43; Dagger</title>
      <link>https://satoshun.github.io/2019/05/viewmodel-savedstate-dagger/</link>
      <pubDate>Sat, 25 May 2019 10:38:15 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/05/viewmodel-savedstate-dagger/</guid>
      <description>ViewModel + SavedStateã§Daggerã‚’ä½¿ã†æ–¹æ³•ã‚’è€ƒãˆã¦ã¿ã¾ã—ãŸã€‚
å‰æçŸ¥è­˜ãƒ»èª²é¡Œ SavedStateã‚’ä½¿ã†å ´åˆã€ViewModelã«SavedStateHandleã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’æ¸¡ã•ãªã‘ã‚Œã°ã„ã‘ã¾ã›ã‚“ã€‚
class MyViewModel( private val state: SavedStateHandle ) : ViewModel() { ... }  SavedStateHandleã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œã‚‹ãŸã‚ã«ã€SavedStateVMFactoryã‚‚ã—ãã¯ã€AbstractSavedStateVMFactoryã‚’ä½¿ã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
ç”Ÿæˆã—ãŸã„ViewModelã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã®å¼•æ•°ãŒSavedStateHandleã®ã¿ãªã‚‰ã€SavedStateVMFactoryã‚’ä½¿ã„ã¾ã™ã€‚
// thisã¯FragmentActivity ViewModelProvider(this, MyViewModel(this)) .get(MyViewModel::class.java)  ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã®å¼•æ•°ãŒSavedStateHandleä»¥å¤–ã«ã‚‚ã‚ã‚‹ãªã‚‰ã€AbstractSavedStateVMFactoryã‚’æ‹¡å¼µã—ã¾ã™ã€‚
class TestViewModel( private val state: SavedStateHandle, private val name: String ) : ViewModel() class TestViewModelFactory( owner: SavedStateRegistryOwner, defaultArgs: Bundle? = null ) : AbstractSavedStateVMFactory(owner, defaultArgs) { override fun &amp;lt;T : ViewModel&amp;gt; create( key: String, modelClass: Class&amp;lt;T&amp;gt;, handle: SavedStateHandle ): T { return TestViewModel(handle, &amp;quot;test&amp;quot;) as T } } // ä»¥ä¸‹ã€ç”Ÿæˆã‚³ãƒ¼ãƒ‰ ViewModelProvider(this, TestViewModelFactory(this)) .</description>
    </item>
    
    <item>
      <title>é›‘ãƒ¡ãƒ¢: ViewModel SavedStateã®ã‚³ãƒ¼ãƒ‰ãƒªãƒ¼ãƒ‡ã‚£ãƒ³ã‚°</title>
      <link>https://satoshun.github.io/2019/05/viewmodel-savedstate/</link>
      <pubDate>Tue, 21 May 2019 23:59:53 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/05/viewmodel-savedstate/</guid>
      <description>ViewModelã®SavedStateãŒã©ã®ã‚ˆã†ã«å®Ÿç¾ã—ã¦ã„ã‚‹ã®ã‹ã€å†…éƒ¨ã§ã©ã®ã‚ˆã†ã«å‹•ä½œã—ã¦ã„ã‚‹ã®ã‹æ°—ã«ãªã£ãŸã®ã§ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’èª­ã‚“ã§ã¿ã¾ã—ãŸã€‚
ã“ã®è¨˜äº‹ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯å…¨ã¦ã€ä¸‹è¨˜ã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã«å¾“ã„ã¾ã™ã€‚
/* * Copyright 2019 The Android Open Source Project * * Licensed under the Apache License, Version 2.0 (the &amp;quot;License&amp;quot;); * you may not use this file except in compliance with the License. * You may obtain a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an &amp;quot;AS IS&amp;quot; BASIS, * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</description>
    </item>
    
    <item>
      <title>ViewPager2 with TabLayout</title>
      <link>https://satoshun.github.io/2019/05/viewpager2-with-tablayout/</link>
      <pubDate>Fri, 17 May 2019 04:08:42 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/05/viewpager2-with-tablayout/</guid>
      <description> Material Componentsã§ViewPager2 + TabLayoutã®ã‚³ãƒ¼ãƒ‰ãŒå…¥ã£ãŸã®ã§ãã‚Œã®ç´¹ä»‹ã€‚ã¾ã alphaã¸ã®ãƒªãƒªãƒ¼ã‚¹ã‚‚ã•ã‚Œã¦ã„ãªã„ã®ã§ã€APIã¯å¤§ããå¤‰ã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ãŠãã‚‰ã1.1.0-alpha07ã«å…¥ã£ã¦ãã‚‹ã¨æ€ã„ã¾ã™ã€‚
TabLayoutã¯ViewPagerã§ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ã¾ã—ãŸãŒã€ãã‚ŒãŒViewPager2ã«ã‚‚æ¥ãŸã£ã¦æ„Ÿã˜ã§ã™ã€‚
ä½¿ã„æ–¹ æ–°ã—ãè¿½åŠ ã•ã‚ŒãŸTabLayoutMediatorã‚’ä½¿ã„ã¾ã™ã€‚
ã¾ãšã€TabLayoutMediatorã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã—ã¾ã™ã€‚
val viewPager: ViewPager2 = findViewById(R.id.viewpager) val tabLayout: TabLayout = findViewById(R.id.tab) val mediator = TabLayoutMediator(tabLayout, viewPager) { tab: TabLayout.Tab, position: Int -&amp;gt; tab.text = &amp;quot;test $position&amp;quot; // ã‚¿ãƒ–ã«ã‚¿ã‚¤ãƒˆãƒ«ã‚’ã‚»ãƒƒãƒˆ }  ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã«ã¯ã€TabLayoutã€ViewPager2ã€OnConfigureTabCallbackã‚’æ¸¡ã—ã¾ã™ã€‚ OnConfigureTabCallbackã¯ã€tabã¨positionã‚’å—ã‘å–ã‚Šã€tabã«å¯¾ã—ã¦ã€ã‚¿ã‚¤ãƒˆãƒ«ã‚’ã‚»ãƒƒãƒˆã—ã¾ã™ã€‚ ViewPagerã®PageAdapterã¨ã¯é•ã„ã€RecyclerViewã®Adapterã‹ã‚‰ã¯ã‚¿ã‚¤ãƒˆãƒ«ã‚’å–å¾—ã§ããªã„ã®ã§ã€ã“ã®ã‚ˆã†ãªå¤‰æ›´ã«ãªã£ãŸã¨æ€ã‚ã‚Œã¾ã™ã€‚
æœ€å¾Œã«attaché–¢æ•°ã‚’å‘¼ã³å‡ºã—ã¾ã™ã€‚
mediator.attach()  ã“ã‚Œã§ã€ViewPager2 + TabLayoutã‚’å®Ÿç¾ã§ãã¾ã™ã€‚ã¨ã¦ã‚‚ç°¡å˜ï¼ï¼
ã¾ã¨ã‚  ViewPager2ã‚‚ã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ãŒæ•´ã„ã¤ã¤ã‚ã‚‹ğŸ˜Š ä»Šå›è©¦ã—ãŸã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ satoshun-android-example/ViewPager2ã«ã‚ã‚Šã¾ã™ğŸ˜ƒ  </description>
    </item>
    
    <item>
      <title>Data Binding 3.5ã¨3.6ã®ã¾ã¨ã‚/æ„Ÿæƒ³</title>
      <link>https://satoshun.github.io/2019/05/databinding-3dot5/</link>
      <pubDate>Thu, 16 May 2019 00:33:48 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/05/databinding-3dot5/</guid>
      <description>Google I/O 2019ã§DataBindingã«ã¤ã„ã¦å°‘ã—è©±ã•ã‚Œã¦ã„ãŸã®ã§æ„Ÿæƒ³ã¨ã¾ã¨ã‚ã‚’ã€‚ å‹•ç”»ã ã¨ã“ã“ã‚‰ã¸ã‚“ã«ãªã‚Šã¾ã™ã€‚
æ”¹å–„ç³» ãƒ“ãƒ«ãƒ‰ã®é«˜é€ŸåŒ–!  20%ãã‚‰ã„ãƒ“ãƒ«ãƒ‰ãŒæ—©ããªã£ãŸ distributed build cacheå¯¾å¿œ Incremental annotation processingå¯¾å¿œ  android.databinding.incremental=true ã‚’è¨­å®šã«ã™ã‚‹ã¨ä½¿ãˆã¾ã™   Android Studioã¨ã®é€£æºå¼·åŒ–!!  Live Class Generation  XMLã‚’å¤‰æ›´ã—ãŸã‚‰ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã›ãšã¨ã‚‚ã‚¯ãƒ©ã‚¹ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹  ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ç³»  ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰åã®å¤‰æ›´ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ãªã©ã‚’ã—ãŸã¨ãã«ã€XMLã€ã‚³ãƒ¼ãƒ‰ã®ä¸¡æ–¹ã«åæ˜ ã•ã‚Œã‚‹   Errorãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æ”¹å–„!!!  DataBindingç”¨ã®ã‚¨ãƒ©ãƒ¼ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒå‡ºæ¥ãŸã“ã¨ã§ã€ã©ã“ã§ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸã‹ç‰¹å®šã—ã‚„ã™ããªã£ãŸ  æ–°è¦ç³» View Binding ç°¡æ˜“ç‰ˆData Bindingã®ã‚ˆã†ãªç«‹ã¡ä½ç½®ã§ã€findViewByIdã‚’çœç•¥ + ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚»ãƒ¼ãƒ• + ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚’é«˜é€Ÿã«ã™ã‚‹ã“ã¨ã‚’ç›®çš„ã«ä½œã‚‰ã‚Œã¾ã—ãŸã€‚3.6ã§å…¥ã‚‹ã¿ãŸã„ã§ã™ã€‚
Data Bindingã¨æ¯”è¼ƒã—ãŸã¨ãã®ã€ãƒ¡ãƒªãƒƒãƒˆã€ãƒ‡ãƒ¡ãƒªãƒƒãƒˆä»¥ä¸‹ã«ãªã‚Šã¾ã™ã€‚ï¼ˆãŸã ã—ã€ã¾ã alphaã‚‚å‡ºã¦ã„ãªã„æ®µéšãªã®ã§I/Oå‹•ç”»ã‹ã‚‰è¦‹ã‚‹é™ã‚Šã®æ„Ÿæƒ³ã§ã™ï¼‰
ãƒ¡ãƒªãƒƒãƒˆ  ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒæ—©ããªã‚‹  Data Bindingã‚ˆã‚Šæ©Ÿèƒ½ãŒå°‘ãªããªã‚‹ã®ã§ãã‚Œã¯ãã†  &amp;lt;layout&amp;gt;ã§å›²ã†å¿…è¦ãŒãªããªã£ãŸ  ã“ã‚Œå€‹äººçš„ã«ã¯å¥½ãã§ãªã‹ã£ãŸã®ã§å¬‰ã—ã„ã€‚ãƒã‚¹ãƒˆãŒæ¸›ã‚‹   ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ  &amp;lt;data&amp;gt;ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒãªããªã‚‹  ãƒ¢ãƒ‡ãƒ«ã®å€¤ã¨Viewã®ãƒãƒƒãƒ”ãƒ³ã‚°ã¯ã‚³ãƒ¼ãƒ‰å´ã§ã™ã‚‹ã“ã¨ã«ãªã‚Šãã†  å¤šåˆ†BindingAdapterã¯ä½¿ãˆãªã„  ã“ã‚Œã‚‚ã‚³ãƒ¼ãƒ‰å´ã§ã™ã‚‹ã“ã¨ã«ãªã‚Šãã†  åŒæ–¹å‘ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã¨ã‹ä½¿ãˆãªã„  ãŠãã‚‰ããªã‚“ã§ã™ã‘ã©ã€Data Bindingã€View Bindingã¯1ã¤ã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«æ··åœ¨ã•ã›ã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹ã®ã§ã€åŸºæœ¬View Bindingã§ã€åŒæ–¹å‘ä½¿ã„ãŸã„ã¨ãã¯Data Bindingã¿ãŸã„ãªä½¿ã„æ–¹ã‚‚å‡ºæ¥ã‚‹ã¯ãšã§ã™ã€‚</description>
    </item>
    
    <item>
      <title>CameraX: CameraViewè§¦ã£ã¦ã¿ãŸ</title>
      <link>https://satoshun.github.io/2019/05/camerax-camera-view/</link>
      <pubDate>Mon, 06 May 2019 05:47:14 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/05/camerax-camera-view/</guid>
      <description>CameraXã®ã‚³ãƒ¼ãƒ‰ãŒå…¬é–‹ã•ã‚Œã¦ã„ãŸã®ã§ã€ãã®ä¸­ã«ã‚ã£ãŸCameraViewã‚’è§¦ã£ã¦ã¿ã¾ã—ãŸã€‚ã¾ã ã€alphaã§ã‚ã‚‹ã“ã¨ã‹ã‚‰APIã¯å¤§ããå¤‰ã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
å†…éƒ¨ã®å®Ÿè£…ã§ã‚ã£ãŸã‚Šã€ç´°ã‹ã„éƒ¨åˆ†ã¯psideã•ã‚“ã®ã€ŒCameraXã®ã‚³ãƒ¼ãƒ‰ãŒããŸã®ã§æ°—åˆã„å…¥ã‚Œã¦èª­ã‚“ã§ã¿ãŸã€ãŒè©³ã—ã„ã§ã™ã€‚
ç’°å¢ƒæ§‹ç¯‰ CameraViewã¯ã¾ã å…¬é–‹ã•ã‚Œã¦ã„ãªã„ãŸã‚ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‹ã‚‰ãƒ“ãƒ«ãƒ‰ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã¾ãŸã€è¨­å®šã§publishãƒ•ãƒ©ã‚°ãŒfalseã«ãªã£ã¦ã„ã‚‹ã®ã§ã€trueã«ã—ã¦ãƒ“ãƒ«ãƒ‰ã—ã¾ã™ã€‚
 androidx { name = &amp;quot;Jetpack Camera View Library&amp;quot; - publish = false + publish = true mavenVersion = LibraryVersions.CAMERA mavenGroup = LibraryGroups.CAMERA inceptionYear = &amp;quot;2019&amp;quot; }  ä½¿ã„æ–¹ CameraViewã¯æ™®é€šã®Viewã®ã‚ˆã†ã«ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ã€‚
&amp;lt;androidx.constraintlayout.widget.ConstraintLayout ...&amp;gt; &amp;lt;androidx.camera.view.CameraView android:layout_width=&amp;quot;0dp&amp;quot; android:layout_height=&amp;quot;0dp&amp;quot; app:layout_constraintBottom_toBottomOf=&amp;quot;parent&amp;quot; app:layout_constraintEnd_toEndOf=&amp;quot;parent&amp;quot; app:layout_constraintStart_toStartOf=&amp;quot;parent&amp;quot; app:layout_constraintTop_toTopOf=&amp;quot;parent&amp;quot; /&amp;gt; &amp;lt;/androidx.constraintlayout.widget.ConstraintLayout&amp;gt;  æ¬¡ã«åˆæœŸåŒ–ã‚’ã—ã¾ã™ã€‚
cameraView.bindToLifecycle(this) // thisã¯LifecycleOwner  LifecycleOwnerã¨CameraViewã‚’çµã³ã¤ã‘ã‚‹ã“ã¨ã§Lifecycleã«åˆã‚ã›ã¦è‡ªå‹•ã§ãƒªã‚½ãƒ¼ã‚¹ã‚’èª¿æ•´ã—ã¦ãã‚Œã¾ã™ã€‚ CameraViewã¯Lifecycle-Aware Componentã¨ãªã£ã¦ã„ã¾ã™ã€‚éå¸¸ã«æ‰±ã„ã‚„ã™ãã†ã§ã™ã€‚
ã“ã‚Œã ã‘ã§ã‚«ãƒ¡ãƒ©æ©Ÿèƒ½ãŒä½¿ãˆã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼ã¨ã¦ã‚‚ç°¡å˜ï¼!
ä»¥ä¸‹ã€CameraViewã§ç¾çŠ¶ä½¿ãˆã‚‹APIã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚
CameraViewã§ä½¿ãˆã‚‹APIé” ãƒ¢ãƒ¼ãƒ‰ã®å¤‰æ›´ CameraViewã§ã¯æ¬¡ã®3ã¤ã®ãƒ¢ãƒ¼ãƒ‰ãŒã‚ã‚Šã¾ã™ã€‚
 Image: å†™çœŸã‚’å–ã‚‹ Video: ãƒ“ãƒ‡ã‚ªã‚’å–ã‚‹ Mixed: ä¸¡æ–¹ã€‚ãŸã ã—ã€å‹•ã‹ãªã„ç«¯æœ«ã‚‚ã‚ã‚‹ã‚‰ã—ã„  æ¬¡ã®ã‚ˆã†ã«ä½¿ã„ã¾ã™ã€‚
// Image cameraView.</description>
    </item>
    
    <item>
      <title>MvRxã®é›‘ãªæ„Ÿæƒ³</title>
      <link>https://satoshun.github.io/2019/05/mvrx-architecture/</link>
      <pubDate>Sun, 05 May 2019 05:05:09 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/05/mvrx-architecture/</guid>
      <description> é›‘å¤šãªã“ã¨ã‚’æ›¸ã„ãŸã ã‘ã®ãƒ–ãƒ­ã‚°ã«ãªã‚Šã¾ã™ã€‚å†…å®¹ã¯ã‚ã¾ã‚Šãªã„ã‚ˆã†ã€œã€‚
MvRxã¯AirbnbãŒé–‹ç™ºã‚’ã—ã¦ã„ã‚‹OSSãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚
ç‰¹å¾´ã¨ã—ã¦ã¯
 Kotlinãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ RxJavaã‚’ä½¿ã£ã¦ã„ã‚‹ AACï¼ˆAndroid Architecture Componentsï¼‰ã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ã¦ã„ã‚‹  AACã‚’RxJavaã§ã‚ã£ãŸã‚Šã€ä¾¿åˆ©é–¢æ•°ã€ã‚¯ãƒ©ã‚¹ç¾¤ã§è£œä½ã—ã¦ã„ã‚‹æ„Ÿã˜  å¤šãã®éƒ¨åˆ†ã§Reactã®APIã‚’å‚è€ƒã«ã—ã¦ã‚‹  Stateã€renderãªã©  Epoxyã¨ç›¸æ€§ãŒè‰¯ã„  ä¸€ç·’ã«ä½¿ã†ã“ã¨ã‚’æ¨å¥¨ã—ã¦ã„ã‚‹ Reactã®Componentã®ã‚ˆã†ã«æŒ¯ã‚‹èˆã‚ã†ã“ã¨ãŒå‡ºæ¥ã‚‹  ViewModelãŒä¿æŒã—ã¦ã„ã‚‹Stateï¼ˆçŠ¶æ…‹ï¼‰ã«å¯¾ã—ã¦ã€ViewãŒpure functionã®ã‚ˆã†ã«æŒ¯ã‚‹èˆã†  å‰¯ä½œç”¨ãŒãªã„ï¼ˆæ¸›ã‚‰ã—ãŸã„ï¼‰   ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆãªã‚³ãƒ¼ãƒ‰ã‚’æ¸›ã‚‰ã™ã“ã¨ãŒæœŸå¾…ã§ãã¾ã™ğŸ˜ƒ
å€‹äººçš„ã«æ°—ã«ãªã£ãŸéƒ¨åˆ†ã€å¥½ããªã¨ã“ Stateã§ViewçŠ¶æ…‹ã‚’ç®¡ç†ã™ã‚‹ã¨ã“ã‚ Stateã‚’å®šç¾©ã™ã‚‹ã“ã¨ã®ãƒ¡ãƒªãƒƒãƒˆã¯ä»¥ä¸‹ã‹ãªã¨æ€ã£ã¦ã¾ã™ã€‚
 Stateã‚’è¦‹ã‚Œã°ã€Viewã®æ§‹æˆè¦ç´ ãŒåˆ†ã‹ã‚‹  MVPã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®Viewã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®ã‚ˆã†ãªå½¹å‰²ã‚’æœãŸã™  çŠ¶æ…‹ã®ç®¡ç†ãŒæ¥½  Androidã§ã¯ã€configuration changesæ™‚ã®çŠ¶æ…‹ã®ä¿æŒãŒé›£ã—ã„ãŒã€Stateã ã‘ã‚’ã‚±ã‚¢ã™ã‚Œã°è‰¯ã„  MvRxã®æµå„€ã«ç¿’ã£ã¦ã€æ­£ã—ãå®Ÿè£…ã™ã‚Œã°ã‚ˆã—ãªã«çŠ¶æ…‹ã®ç®¡ç†ã‚’ã—ã¦ãã‚Œã‚‹   Viewã‹ã‚‰ãƒ­ã‚¸ãƒƒã‚¯ã‚’å–ã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹  ã‚‚ã¡ã‚ã‚“å®Ÿè£…æ¬¡ç¬¬ãªã®ã§ã™ãŒã€Stateã§Viewã®çŠ¶æ…‹ã‚’è¡¨ç¾ã™ã‚‹ã‚ˆã†ã«ã™ã‚Œã°ã€Viewã¯ãƒãƒƒãƒ”ãƒ³ã‚°ã™ã‚‹ã ã‘ã§è‰¯ããªã‚‹   AsyncãŒã™ã”ã„è‰¯ã„ MvRxã§ã¯Asyncã¨ã„ã†sealed classãŒå®šç¾©ã•ã‚Œã¦ã„ã¦ã€
 Uninitialized Loading Success Fail  ã®4çŠ¶æ…‹ã‚’è¡¨ç¾ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ç”»é¢ã®åˆæœŸå€¤ã¯ä¸Šè¨˜4çŠ¶æ…‹ã§ã€å¤§ä½“ã®ã‚±ãƒ¼ã‚¹ã¯ã‚±ã‚¢å‡ºæ¥ã‚‹ã¨æ€ã„ã¾ã™ã€‚
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã€Asyncã ã‘å–ã‚Šå…¥ã‚Œã‚‹ã®ã‚‚ã‚¢ãƒªã ã¨æ€ã„ã¾ã™ã€‚
Single Eventã®å‡¦ç†ã‚’ã©ã†ã™ã‚‹ã®ã‹ Stateå†…ã§ä¿æŒã™ã‚‹ã¨ã€æ¯å›ç™ºç«ã—ã¦ã—ã¾ã†ã®ã§ã€Stateã¨ã¯é•ã†ã€ä»–ã®streamã§è¡¨ç¾ã™ã‚‹ã“ã¨ã«ãªã‚‹ã¨æ€ã†
 invalidateãƒ¡ã‚½ãƒƒãƒ‰ã§ã¯ãªãã€ç›´æ¥ViewModelã«å®šç¾©ã—ãŸãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ã€observeã™ã‚‹ã“ã¨ã«ãªã‚‹ã®ã§ã€ä»–ã®ãƒšãƒ¼ã‚¸ã¨æ¯”è¼ƒã—ãŸã¨ãã«é•å’Œæ„ŸãŒã‚ã‚‹ã‹ã‚‚  ã‚„ã£ã±ã‚ŠSingle Eventã®å–ã‚Šæ‰±ã„ã£ã¦å¤§å¤‰ãªã‚“ã‚„ãªã£ã¦ ã¨ã¯ã„ãˆã€sealed classã§å®šç¾©ã™ã‚Œã°ã€åŒã˜ã‚ˆã†ã«è¦‹ãˆã‚‹ã“ã¨ãŒå‡ºæ¥ã‚‹ã¨æ€ã†ã®ã§ã€å¤§ããªè©±ã§ã¯ãªã„   å‚è€ƒ  Tivi  ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚‚å¤§ããã€Coroutineãªã©ã‚‚ä½¿ã£ã¦ã„ã‚‹ ã“ã‚Œè¦‹ã‚Œã°ã€ãªã‚“ã¨ãªãè‚Œæ„Ÿã¯åˆ†ã‹ã‚‹ã¨æ€ã„ã¾ã™   </description>
    </item>
    
    <item>
      <title>Material Components: MotionSpecã‚’ä½¿ã£ã¦ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹</title>
      <link>https://satoshun.github.io/2019/04/fab-motion-spec/</link>
      <pubDate>Tue, 30 Apr 2019 05:59:41 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/04/fab-motion-spec/</guid>
      <description>MotionSpecã¯Android material componentsã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹1ã‚¯ãƒ©ã‚¹ã«ãªã‚Šã¾ã™ã€‚ MotionSpecã‚’ä½¿ã†ã“ã¨ã§ã€æ¬¡ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³å±æ€§ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
 startOffset duration interpolator repeatCount repeatMode  ä¾‹ãˆã°ã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é•·ãã—ãŸã„ã¨ãã¯ã€durationã®å€¤ã‚’é•·ãã€ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®é–‹å§‹æ™‚é–“ã‚’é…ã‚‰ã›ãŸã„ãªã‚‰ã€startOffsetã®å€¤ã‚’é•·ãã—ã¾ã™ã€‚
FloatingActionButtonã‚’ä¾‹ã«ã€å®Ÿéš›ã«MotionSpecã®å€¤ã‚’ã„ã˜ã£ã¦ã¿ã¾ã™ã€‚
æœ€åˆã«MotionSpecç”¨ã®animator XMLã‚’å®šç¾©ã™ã‚‹ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®XMLã‚’ã‚³ãƒ”ãƒšã—ã¦ãã¦ã€ãã‚Œã‚’ãƒ™ãƒ¼ã‚¹ã«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹ã®ãŒè‰¯ã„ã¨æ€ã„ã¾ã™ã€‚
FloatingActionButtonç”¨ã®XMLã¯ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’èª­ã‚“ã§ã„ãã¨ã€design_fab_show_motion_spec.xmlã¨design_fab_hide_motion_spec.xmlã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚MotionSpecã¯ã€show/hideç”¨ã®2ç¨®é¡ãŒã‚ã‚Šã€ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ãŸã„ã¨ãã¯ä¸¡æ–¹ã¨ã‚‚å¤‰æ›´ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
ã¾ãšã¯showç”¨ã®MotionSpecã‚’å¤‰æ›´ã—ã¦ã„ãã¾ã™ã€‚ä»¥ä¸‹ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹design_fab_show_motion_spec.xmlã®ä¸­èº«ã«ãªã‚Šã¾ã™ã€‚
&amp;lt;?xml version=&amp;quot;1.0&amp;quot; encoding=&amp;quot;utf-8&amp;quot;?&amp;gt; &amp;lt;!-- Copyright 2017 The Android Open Source Project Licensed under the Apache License, Version 2.0 (the &amp;quot;License&amp;quot;); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an &amp;quot;AS IS&amp;quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</description>
    </item>
    
    <item>
      <title>ConstraintLayout Flowã®ç´¹ä»‹</title>
      <link>https://satoshun.github.io/2019/04/constraintlayout-flow/</link>
      <pubDate>Sun, 28 Apr 2019 11:13:20 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/04/constraintlayout-flow/</guid>
      <description>ConstraintLayoutã®2.0.0 alpha 5ã«Flow Virtual LayoutãŒå°å…¥ã•ã‚Œã¾ã—ãŸğŸ‰ Flowã‚’ä½¿ã†ã“ã¨ã§ã€å¯¾è±¡ã®Viewã‚’æ§˜ã€…ãªãƒ«ãƒ¼ãƒ«ã§ä¸¦ã¹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
ãƒ¡ãƒªãƒƒãƒˆã¨ã—ã¦ã¯ã€æ¬¡ã®ã‚ˆã†ãªã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚
 Viewã®éšå±¤ã‚’ãƒ•ãƒ©ãƒƒãƒˆã«ä¿ã¤ã“ã¨ãŒå‡ºæ¥ã‚‹ Flowã¯æ™®é€šã®Viewã®ã‚ˆã†ã«æ‰±ã†äº‹ãŒã§ãã‚‹ MotionLayoutã¨ç›¸æ€§ãŒè‰¯ã„  ã§ã¯ã€ã©ã®ã‚ˆã†ã«æ›¸ãã®ã‹ã‚’è¦‹ã¦ã„ãã¾ã™ã€‚
1. é…ç½®ã™ã‚‹æ–¹å‘ã‚’æ±ºã‚ã‚‹ android:orientationã‹ã‚‰ã€horizontal or verticalã‚’æŒ‡å®šã§ãã¾ã™ã€‚
&amp;lt;androidx.constraintlayout.widget.ConstraintLayout android:layout_width=&amp;quot;match_parent&amp;quot; android:layout_height=&amp;quot;match_parent&amp;quot;&amp;gt; &amp;lt;androidx.constraintlayout.helper.widget.Flow android:id=&amp;quot;@+id/flow&amp;quot; android:layout_width=&amp;quot;0dp&amp;quot; android:layout_height=&amp;quot;0dp&amp;quot; android:orientation=&amp;quot;horizontal&amp;quot; android:background=&amp;quot;@android:color/white&amp;quot; app:layout_constraintBottom_toBottomOf=&amp;quot;parent&amp;quot; app:layout_constraintEnd_toEndOf=&amp;quot;parent&amp;quot; app:layout_constraintStart_toStartOf=&amp;quot;parent&amp;quot; app:layout_constraintTop_toTopOf=&amp;quot;parent&amp;quot; /&amp;gt; ...  ã“ã‚Œã¯orientationã«horizontalã‚’æŒã¡ã¾ã™ã€‚ã¾ãŸã€é€šå¸¸ã®Viewã®ã‚ˆã†ã«å„constraintsã‚’æŒ‡å®šã—ã€é…ç½®ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
2. wrapModeã‚’æ±ºã‚ã‚‹ flow_wrapModeã§æŒ‡å®šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
wrapModeã§ã¯ã€ã©ã®ã‚ˆã†ã«Viewã‚’ä¸¦ã¹ã‚‹ã‹ã‚’æŒ‡å®šã§ãã€3ç¨®é¡ã®modeãŒã‚ã‚Šã¾ã™ã€‚
 none  å˜ç´”ã«single lineã«ä¸¦ã¹ã‚‹  chain  å˜ç´”ã«é †ç•ªã«é…ç½®ã—ã¦ã„ãã€‚ãã®è¡Œï¼ˆåˆ—ï¼‰ã«åã¾ã‚‰ãªã„å ´åˆã¯æ¬¡ã®è¡Œï¼ˆåˆ—ï¼‰ã«é…ç½®ã™ã‚‹  aligned  å„è¦ç´ ã‚’æ•´åˆ—ã™ã‚‹ã‚ˆã†ã«é…ç½®ã—ã¦ã„ãã€‚ãƒ†ãƒ¼ãƒ–ãƒ«ã®ã‚ˆã†ãªã‚¤ãƒ¡ãƒ¼ã‚¸   &amp;lt;androidx.constraintlayout.helper.widget.Flow android:id=&amp;quot;@+id/flow&amp;quot; android:layout_width=&amp;quot;0dp&amp;quot; android:layout_height=&amp;quot;0dp&amp;quot; android:orientation=&amp;quot;horizontal&amp;quot; android:background=&amp;quot;@android:color/white&amp;quot; app:flow_wrapMode=&amp;quot;chain&amp;quot; app:layout_constraintBottom_toBottomOf=&amp;quot;parent&amp;quot; app:layout_constraintEnd_toEndOf=&amp;quot;parent&amp;quot; app:layout_constraintStart_toStartOf=&amp;quot;parent&amp;quot; app:layout_constraintTop_toTopOf=&amp;quot;parent&amp;quot; /&amp;gt;  ã“ã‚Œã¯chainã§å¯¾è±¡ã®Viewã‚’é…ç½®ã—ã¾ã™ã€‚
3. å¯¾è±¡ã®Viewã‚’æŒ‡å®šã™ã‚‹ constraint_referenced_idsã‹ã‚‰æŒ‡å®šã—ã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>Kotlin: ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å¤‰æ›´ã‚’æ¤œçŸ¥ã™ã‚‹</title>
      <link>https://satoshun.github.io/2019/04/kotlin-watch-property-change/</link>
      <pubDate>Wed, 24 Apr 2019 02:21:47 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/04/kotlin-watch-property-change/</guid>
      <description>ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆè‡ªèº«ã®å¤‰æ›´ã§ã¯ãªãã€å¯¾è±¡ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒæŒã¤ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å¤‰æ›´ã‚’æ±ç”¨çš„ã«æ¤œçŸ¥ã™ã‚‹æ–¹æ³•ã®ç´¹ä»‹ã§ã™ã€‚
æ¬¡ãŒã€ã“ã®è¨˜äº‹ã§ç´¹ä»‹ã—ãŸã„ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚
// 1ã¤ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å¤‰æ›´ã‚’æ¤œçŸ¥ã—ãŸã„ fun &amp;lt;S, A1&amp;gt; LiveData&amp;lt;S&amp;gt;.watch(prop1: KProperty1&amp;lt;S, A1&amp;gt;): LiveData&amp;lt;A1&amp;gt; = this .map { prop1.get(it) } .distinctUntilChanged() // 2ã¤ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å¤‰æ›´ã‚’æ¤œçŸ¥ã—ãŸã„ fun &amp;lt;S, A1, A2&amp;gt; LiveData&amp;lt;S&amp;gt;.watch( prop1: KProperty1&amp;lt;S, A1&amp;gt;, prop2: KProperty1&amp;lt;S, A2&amp;gt; ): LiveData&amp;lt;Pair&amp;lt;A1, A2&amp;gt;&amp;gt; = this .map { prop1.get(it) to prop2.get(it) } .distinctUntilChanged() // 3ã¤ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å¤‰æ›´ã‚’æ¤œçŸ¥ã—ãŸã„ fun &amp;lt;S, A1, A2, A3&amp;gt; LiveData&amp;lt;S&amp;gt;.watch( prop1: KProperty1&amp;lt;S, A1&amp;gt;, prop2: KProperty1&amp;lt;S, A2&amp;gt;, prop3: KProperty1&amp;lt;S, A3&amp;gt; ): LiveData&amp;lt;Triple&amp;lt;A1, A2, A3&amp;gt;&amp;gt; = this .map { Triple(prop1.get(it), prop2.</description>
    </item>
    
    <item>
      <title>ConstraintLayoutã®ImageFilterViewã£ã¦å˜ä½“ã§ã‚‚ä½¿ãˆã‚‹ã‚“ã‚„ãªã£ã¦</title>
      <link>https://satoshun.github.io/2019/04/constraintlayout-imagefilterview/</link>
      <pubDate>Mon, 15 Apr 2019 13:17:53 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/04/constraintlayout-imagefilterview/</guid>
      <description> ConstraintLayout 2.0.0-alphaã‹ã‚‰ImageFilterViewã‚¯ãƒ©ã‚¹ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚ä»Šã¾ã§ã€MotionLayoutã¨ä¸€ç·’ã«ä½¿ã†ã‚‚ã®ã ã‹ã‚‰ã€ä½¿ã„æ‰€é™ã‚‰ã‚Œãã†ã ãªãã€œã¨æ€ã£ã¦ã„ãŸã®ã§ã™ãŒã€å˜ä½“ã§ã‚‚ä½¿ãˆãã†ã ã£ãŸã®ã§ã€ãã®å ±å‘Šè¨˜äº‹ã«ãªã‚Šã¾ã™ã€‚
ã“ã®è¨˜äº‹ã§ã¯ConstraintLayout 2.0.0-alpha4ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚
è§’ä¸¸ã«ã™ã‚‹ roundå±æ€§ã‹ã‚‰æŒ‡å®šã™ã‚‹äº‹ãŒã§ãã¾ã™ã€‚
&amp;lt;androidx.constraintlayout.utils.widget.ImageFilterView android:id=&amp;quot;@+id/image&amp;quot; android:layout_width=&amp;quot;100dp&amp;quot; android:layout_height=&amp;quot;100dp&amp;quot; app:layout_constraintBottom_toBottomOf=&amp;quot;parent&amp;quot; app:layout_constraintEnd_toEndOf=&amp;quot;parent&amp;quot; app:layout_constraintStart_toStartOf=&amp;quot;parent&amp;quot; app:layout_constraintTop_toTopOf=&amp;quot;parent&amp;quot; app:round=&amp;quot;0.5dp&amp;quot; /&amp;gt;  å½©åº¦ saturationå±æ€§ã‹ã‚‰è¨­å®šã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
&amp;lt;androidx.constraintlayout.utils.widget.ImageFilterView android:id=&amp;quot;@+id/image&amp;quot; android:layout_width=&amp;quot;100dp&amp;quot; android:layout_height=&amp;quot;100dp&amp;quot; app:layout_constraintStart_toStartOf=&amp;quot;parent&amp;quot; app:layout_constraintTop_toTopOf=&amp;quot;parent&amp;quot; app:round=&amp;quot;0.5dp&amp;quot; app:saturation=&amp;quot;0.1&amp;quot; /&amp;gt;  ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆ contrastå±æ€§ã‹ã‚‰è¨­å®šã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
&amp;lt;androidx.constraintlayout.utils.widget.ImageFilterView android:id=&amp;quot;@+id/image&amp;quot; android:layout_width=&amp;quot;100dp&amp;quot; android:layout_height=&amp;quot;100dp&amp;quot; app:contrast=&amp;quot;0.5&amp;quot; app:layout_constraintStart_toStartOf=&amp;quot;parent&amp;quot; app:layout_constraintTop_toTopOf=&amp;quot;parent&amp;quot; app:round=&amp;quot;0.5dp&amp;quot; /&amp;gt;  æš–è‰²ã€å¯’è‰² warmthå±æ€§ã‹ã‚‰ã€æš–è‰²ã€å¯’è‰²ï¼Ÿã‚’è¨­å®šã™ã‚‹ã“ã¨ã§ãã¾ã™ã€‚
&amp;lt;androidx.constraintlayout.utils.widget.ImageFilterView android:id=&amp;quot;@+id/image&amp;quot; android:layout_width=&amp;quot;100dp&amp;quot; android:layout_height=&amp;quot;100dp&amp;quot; app:layout_constraintStart_toStartOf=&amp;quot;parent&amp;quot; app:layout_constraintTop_toTopOf=&amp;quot;parent&amp;quot; app:round=&amp;quot;0.5dp&amp;quot; app:warmth=&amp;quot;2&amp;quot; /&amp;gt;  &amp;lt;androidx.constraintlayout.utils.widget.ImageFilterView android:id=&amp;quot;@+id/image&amp;quot; android:layout_width=&amp;quot;100dp&amp;quot; android:layout_height=&amp;quot;100dp&amp;quot; app:layout_constraintStart_toStartOf=&amp;quot;parent&amp;quot; app:layout_constraintTop_toTopOf=&amp;quot;parent&amp;quot; app:round=&amp;quot;0.5dp&amp;quot; app:warmth=&amp;quot;0.5&amp;quot; /&amp;gt;  ã‚¯ãƒ­ã‚¹ãƒ•ã‚§ãƒ¼ãƒ‰ crossfadeå±æ€§ã‹ã‚‰è¨­å®šã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚ãŸã ã€ã“ã®å±æ€§ã¯MotionLayoutã¨ä¸€ç·’ã«ä½¿ã†ã‚‚ã®ã§ã€å˜ä½“ã§ã¯ä½¿ã‚ãªã„ã¨æ€ã„ã¾ã™ã€‚
ã¾ã¨ã‚  ImageFilterViewã€å˜ä½“ã§ã‚‚çµæ§‹ä½¿ã„ã©ã“ã‚ã‚ã‚‹ã‹ã‚‚ğŸ˜ƒ  </description>
    </item>
    
    <item>
      <title>Dagger 2.22ã«Factoryã‚¯ãƒ©ã‚¹ãŒå°å…¥ã•ã‚Œã¾ã—ãŸ</title>
      <link>https://satoshun.github.io/2019/04/dagger-component-factory/</link>
      <pubDate>Sun, 07 Apr 2019 06:04:22 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/04/dagger-component-factory/</guid>
      <description>Dagger 2.22ã‹ã‚‰Component.Factoryã‚¯ãƒ©ã‚¹ãŒå°å…¥ã•ã‚Œã¾ã—ãŸã€‚ã“ã®è¨˜äº‹ã§ã¯ã€ç°¡å˜ãªä½¿ã„æ–¹ã¨ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚’è¦‹ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚
Component.Factoryã¨ã¯? å®Ÿã¯ã€Component.Factoryã§ã‚„ã‚Œã‚‹ã“ã¨ã¯Component.Builderã‚¯ãƒ©ã‚¹ã¨ã»ã¼å¤‰ã‚ã‚Šã¾ã›ã‚“ã€‚
ä¾‹ãˆã°ã€æ¬¡ã®ArticlePresenterã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã™ã‚‹2ã¤ã®ã‚³ãƒ¼ãƒ‰ã¯æœ¬è³ªçš„ã«ã‚„ã£ã¦ã„ã‚‹ã“ã¨ã¯åŒç­‰ã§ã™ã€‚
// Factoryã‚’ä½¿ã†å ´åˆ @Component interface AppComponent { val presenter: ArticlePresenter @Component.Factory interface Factory { fun create( @BindsInstance id: Long ): AppComponent } } val component = DaggerAppComponent .factory() .create(50) val presenter = component.presentere --- // Builderã‚’ä½¿ã†å ´åˆ @Component interface AppComponent { val presenter: ArticlePresenter @Component.Builder interface Builder { @BindsInstance fun bindId(id: Long): Builder fun build(): AppComponent } } val component = DaggerAppComponent .builder() .bindId(50) .build() val presenter = component.</description>
    </item>
    
    <item>
      <title>DataBindingã¨Activityã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ Layout IdæŒ‡å®šã‚’ä¸€ç·’ã«ä½¿ã†</title>
      <link>https://satoshun.github.io/2019/04/jetpack-coroutine-support/</link>
      <pubDate>Thu, 04 Apr 2019 00:46:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/04/jetpack-coroutine-support/</guid>
      <description>Jetpackã®Activityã¨Fragmentã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã«ã€Layout IdãŒæŒ‡å®šã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚
 Activity Version 1.0.0-alpha06 Fragment Version 1.1.0-alpha06  ã“ã‚Œã¯ã€æ¬¡ã®ã‚ˆã†ã«ä½¿ã†ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
class MainActivity : AppCompatActivity(R.layout.main_act) class MainFragment : Fragment(R.layout.main_frag)  Activityã®å ´åˆã¯ã€setConentViewãŒã€‚Fragmentã®å ´åˆã¯onCreateViewãŒãã‚Œãã‚Œçœç•¥ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
ã“ã“ã‹ã‚‰ãŒæœ¬é¡Œã§ã™ã€‚ã“ã‚Œã‚’DataBindingã¨ä¸€ç·’ã«ä½¿ã†ãªã‚‰ã€æ¬¡ã®ã‚ˆã†ã«ãªã‚‹ã‹ãªã¨æ€ã„ã¾ã™ã€‚
Activityã®å ´åˆ ã¾ãšã¯Actvityã®ä¾‹ã§ã™ã€‚
// æ‹¡å¼µé–¢æ•°ã‚’å®šç¾©ã—ã¦ãŠã fun &amp;lt;T : ViewDataBinding&amp;gt; ComponentActivity.bindView(): T = DataBindingUtil.bind(getContentView())!! private fun Activity.getContentView(): View = findViewById&amp;lt;ViewGroup&amp;gt;(android.R.id.content)[0] // MainActivity.kt class MainActivity : AppCompatActivity(R.layout.main_act) { private lateinit var binding: MainActBinding override fun onCreate(savedInstanceState: Bundle?) { super.onCreate(savedInstanceState) binding = bindView() ... } }  ã¾ãŸã€Activityã®å ´åˆã«é™ã‚Šã€by lazyã¨çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚
class MainActivity : AppCompatActivity(R.</description>
    </item>
    
    <item>
      <title>OkHttp: Java to Kotlinã®PRã‚’è¦‹ã¦å‹‰å¼·ã™ã‚‹</title>
      <link>https://satoshun.github.io/2019/03/okhttp-convert-to-kotlin/</link>
      <pubDate>Sun, 24 Mar 2019 02:36:27 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/03/okhttp-convert-to-kotlin/</guid>
      <description>OkHttpãŒKotlinåŒ–ã‚’ã™ã‚‹ã¨ã„ã†ISSUEãŒç«‹ã¦ã‚‰ã‚Œã¾ã—ãŸã€‚ Upgrade OkHttp 3 to Kotlin and call it OkHttp 4
ã“ã‚Œã®æ˜¯éã«ã¤ã„ã¦ã¯ã•ã¦ãŠãã€‚ç¾çŠ¶ã€ã„ãã¤ã‹ã®Javaã‚³ãƒ¼ãƒ‰ãŒKotlinã¸ã¨ç½®ãæ›ã‚ã£ã¦ã„ã‚‹ã®ã§ã€ãã‚Œã‚‰ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§æ°—ã«ãªã£ãŸã“ã¨ã€çŸ¥ã‚‰ãªã‹ã£ãŸã“ã¨ã€å¿˜ã‚ŒãŒã¡ãªã“ã¨ã‚’å‹‰å¼·ãŒã¦ã‚‰ã¾ã¨ã‚ãŸã„ã¨æ€ã„ã¾ã™ã€‚
checkNotNullã‚’ä½¿ã†ã‹ã©ã†ã‹ could also be code no preference myself
Kotlinã®æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã€checkNotNullãŒã‚ã‚Šã¾ã™ã€‚ ã“ã‚Œã¯ã€å€¤ãŒnullãªã‚‰IllegalStateExceptionä¾‹å¤–ã‚’æŠ•ã’ã‚‹ã‚‚ã®ã§ã™ã€‚
ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã¯åŒã˜æ„å‘³ã‚’æŒã¡ã¾ã™ã€‚
val state = someState ?: throw IllegalStateException(&amp;quot;State must be set beforehand&amp;quot;) val state = checkNotNull(someState) { &amp;quot;State must be set beforehand&amp;quot; }  ãŸã ã€no preference myselfã¨è¨€ã£ã¦ã„ã‚‹é€šã‚Šã€ä½¿ã†ã‹ã©ã†ã‹ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§åˆ†ã‹ã‚Œãã†ã§ã™ã€‚ äº‹å‰ã«ä½¿ã†ã‹ã©ã†ã‹ã‚’ã€æ±ºã‚ã¦ãŠãã¨æ‰ã‚ãªãè‰¯ã•ãã†ã ã¨æ€ã„ã¾ã—ãŸã€‚
å‘½åã¯to***ãŒæ…£ç”¨çš„ idiomatic naming would be toUrl on the Kotlin side
OkHttpã§ã¯ã€HttpUrlã‚’URLã«å¤‰æ›ã™ã‚‹ãŸã‚ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¨ã—ã¦fun url(): URLãŒå®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚ã—ã‹ã—ã€fun toUrl(): URLã®ã»ã†ãŒKotlinã£ã½ã„ã‚ˆã¨æŒ‡æ‘˜ãŒã‚ã‚Šã¾ã—ãŸã€‚
ç¢ºã‹ã«ã€è¨€ã‚ã‚Œã¦ã¿ã‚‹ã¨AtoBã‚¯ãƒ©ã‚¹å¤‰æ›ã®ãƒ¡ã‚½ãƒƒãƒ‰åã¯ã€to***ãŒå¤šã„æ°—ãŒã—ã¾ã™ã€‚ãŸã ã—ã€ä»Šå›ã¯ä¸‹ä½äº’æ›ã‚’ä¿ã¤ãŸã‚ã«ã€ä¸€æ—¦ã“ã®ä¿®æ­£ã¯å…¥ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚
constã‚’ä½¿ã† discussion link</description>
    </item>
    
    <item>
      <title>Android: Jetpackã®Coroutine Supportã«ã¤ã„ã¦</title>
      <link>https://satoshun.github.io/2019/03/jetpack-coroutine-support/</link>
      <pubDate>Sun, 10 Mar 2019 10:14:21 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/03/jetpack-coroutine-support/</guid>
      <description>Jetpackã®ã„ãã¤ã‹ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã¯ã€Kotlin Coroutineã®ã‚µãƒãƒ¼ãƒˆãŒå…¥ã£ã¦ã„ã¾ã™ãŒã€ ã©ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§å¯¾å¿œãŒé€²ã‚“ã§ã„ã‚‹ã‹æ°—ã«ãªã£ãŸã®ã§ã€è»½ãã¾ã¨ã‚ã¾ã™ã€‚ä½¿ã„æ–¹ã«ã¤ã„ã¦ã¯è¨€åŠã—ã¾ã›ã‚“ã€‚
ä»¥ä¸‹ã€2019å¹´3æœˆ10æ—¥ 2019å¹´3æœˆ11æ—¥ã®èª¿æŸ»çµæœã«ãªã‚Šã¾ã™ã€‚ ã¾ãŸã€ã“ã‚Œã‚‰ã¯ã€supportãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒªãƒã‚¸ãƒˆãƒªã‹ã‚‰å–ã£ã¦ããŸã®ã§ã€ç¾åœ¨ãƒªãƒªãƒ¼ã‚¹ã•ã‚Œã¦ã„ã‚‹ã‹ã©ã†ã‹ã¯ä¸æ˜ã§ã™ã€‚
Lifecycle
// Lifecycleã«å¾“ã†CoroutineScopeã®ç”Ÿæˆ val Lifecycle.coroutineScope: CoroutineScope  LifecycleOwner
// LifecycleOwnerã«å¾“ã†CoroutineScopeã®ç”Ÿæˆ val LifecycleOwner.lifecycleScope: CoroutineScope  ViewModel
// ViewModelã«å¾“ã†CoroutineScopeã®ç”Ÿæˆ val ViewModel.viewModelScope: CoroutineScope  WorkManager
abstract class CoroutineWorker( appContext: Context, params: WorkerParameters ) : ListenableWorker(appContext, params) { // suspendãƒ¡ã‚½ãƒƒãƒ‰ã§å®šç¾©ã•ã‚ŒãŸ abstract suspend fun doWork(): Result }  Room
// Daoå†…ã§suspendãƒ¡ã‚½ãƒƒãƒ‰ãŒä½¿ãˆã‚‹ @Dao interface HogesDao { @Insert suspend fun add(hoge: Hoge) @Query(&amp;quot;SELECT * FROM hoge WHERE id = :id&amp;quot;) suspend fun get(id: String): Hoge .</description>
    </item>
    
    <item>
      <title>Dagger2: Providesã¯Kotlin extension methodã¨ä¸€ç·’ã«ä½¿ã†ã“ã¨ãŒå‡ºæ¥ã‚‹</title>
      <link>https://satoshun.github.io/2019/03/dagger-provide-with-extension-method/</link>
      <pubDate>Tue, 05 Mar 2019 00:10:42 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/03/dagger-provide-with-extension-method/</guid>
      <description>Dagger2ã®ã¡ã‚‡ã£ã¨ã—ãŸtipsã§ã™ã€‚
æ¬¡ã®2ã¤ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¯åŒã˜æŒ¯ã‚‹èˆã„ã‚’ã—ã¾ã™ã€‚
@Module class MainActivityModule { // æ™®é€šã®æ›¸ãæ–¹ @Provides fun provideMainContractView(activity: MainActivity): MainContract.View { return activity } // æ‹¡å¼µé–¢æ•°ã‚’ä½¿ã£ãŸæ›¸ãæ–¹ @Provides fun MainActivity.provideMainContractView(): MainContract.View { return this } }  ãªãœãªã‚‰ã€æ‹¡å¼µé–¢æ•°ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã‚‹ã¨æ¬¡ã®ã‚ˆã†ã«è§£é‡ˆã•ã‚Œã‚‹ãŸã‚ã§ã™ã€‚
... @Provides @NotNull public final MainContract.View provideMainContractView(@NotNull MainActivity $receiver) { Intrinsics.checkParameterIsNotNull($receiver, &amp;quot;receiver$0&amp;quot;); return (MainContract.View)$receiver; } ...  æ‹¡å¼µé–¢æ•°ã¨ã—ã¦å®šç¾©ã—ãŸMainActivityã¯$receiverã¨ãªã‚Šã€å¼•æ•°ã«å…¥ã£ã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚æ‹¡å¼µé–¢æ•°ã¯ä¸Šè¨˜ã®ã‚ˆã†ã«è§£é‡ˆã•ã‚Œã‚‹ãŸã‚ã€@Providesã¨çµ„ã¿åˆã‚ã›ã¦ä½¿ã†ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
ã¾ã¨ã‚ å¤šåˆ†ã€ä½¿ã„æ‰€ãªã„ã¨æ€ã„ã¾ã™ğŸ˜ƒğŸ˜ƒğŸ˜ƒ</description>
    </item>
    
    <item>
      <title>RxAndroidã«Pull Requestã‚’å‡ºã—ãŸè©±</title>
      <link>https://satoshun.github.io/2019/03/rx-android-pull-request/</link>
      <pubDate>Sat, 02 Mar 2019 13:21:05 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/03/rx-android-pull-request/</guid>
      <description>RxAndroidã«Issueã‚’ç«‹ã¦ã¦ã€PRã‚’å‡ºã—ãŸè©±ã§ã™ã€‚åºƒãä½¿ã‚ã‚Œã¦ã„ã‚‹OSSãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å¯¾ã—ã¦ã€Issueã‚’ç«‹ã¦ã¦ã€ãƒ†ã‚¹ãƒˆã‚‚ã‚»ãƒƒãƒˆã§PRã‚’å‡ºã—ãŸã“ã¨ãŒãªã‹ã£ãŸã®ã§ã€ãã‚Œã®è¨˜å¿µè¨˜äº‹ã«ãªã‚Šã¾ã™ã€‚
Issueã®å†…å®¹ å®Ÿéš›ã®Issueã¯ HandlerScheduler.scheduleDirect supports async option? ã«ãªã‚Šã¾ã™ã€‚
Issueã®æ¦‚è¦ã¯ã€RxAndroidã¯2.1.0ã§async messageã«å¯¾å¿œã—ã¾ã—ãŸã€‚ã—ã‹ã—ã€ã“ã‚Œã¯Worker.scheduleã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‹ã‚‰ã®ã¿ã®ã‚µãƒãƒ¼ãƒˆã§ã—ãŸã€‚RxJavaã§ã¯Scheduler.scheduleDirectã§ã‚‚ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã•ã‚Œã‚‹ã®ã§ã€ã“ã¡ã‚‰ã‚‚å¯¾å¿œã—ãŸã»ã†ãŒè‰¯ã„ã®ã§ã¯ï¼Ÿã¨æ€ã„Issueã‚’ç«‹ã¦ã¾ã—ãŸã€‚
ãã‚‚ãã‚‚ã“ã®å•é¡Œã«æ°—ã¥ã„ãŸãã£ã‹ã‘ RxAndroidãŒ2.1.0ã§async messageã«å¯¾å¿œã—ãŸæ™‚ã«ã€ã‚µãƒ³ãƒ—ãƒ«ã§åŠ¹æœã‚’æ¸¬å®šã—ãŸã¨ã“ã‚ã€ã„ãã¤ã‹ã®ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ã§ã¯ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®å‘ä¸ŠãŒè¦‹ã‚‰ã‚Œãªã„ã“ã¨ã«æ°—ã¥ãã¾ã—ãŸã€‚ã“ã®ã¨ãã¯ã€ã‚µãƒ³ãƒ—ãƒ«ãŒæ‚ªã„ã®ã‹ã€ãã‚Œã¨ã‚‚ç’°å¢ƒãŒãŠã‹ã—ã„ã®ã‹ã€ã¾ãŸã¾ãŸã“ã‚ŒãŒæ„å›³ã—ãŸæŒ™å‹•ãªã®ã‹ãŒåˆ†ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚ã¨ã‚Šã‚ãˆãšã€è‡ªåˆ†ã®ã‚¿ã‚¹ã‚¯ç®¡ç†ã‚’ã—ã¦ã„ã‚‹todoistã«ã€Œè‰¯ãåˆ†ã‹ã‚‰ãªã„ã‘ã©ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒå‘ä¸Šã—ãªã„ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒã‚ã‚‹ã€ã¿ãŸã„ãªã‚¿ã‚¹ã‚¯ã‚’ä½œã£ã¦ã€ã‚ã¨ã§èª¿ã¹ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚
èª¿ã¹æ–¹ ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã™ã‚‹ã‚ã‘ã§ã‚‚ãªã„ã®ã§ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãŒå‘ä¸Šã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ã€å‘ä¸Šã—ãªã„ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã•ã‚Œã‹ãŸã«é•ã„ãŒãªã„ã‹ã‚’ãƒ‡ãƒãƒƒã‚¬ãƒ¼ã‚’ä½¿ã„ã€åœ°é“ã«ã‚³ãƒ¼ãƒ‰ã‚’è¿½ã„ã‹ã‘ã¾ã—ãŸã€‚
çµæœã€Observable.observeOnã§ã¯Worker.scheduleãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚¿ã‚¹ã‚¯ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ã‚’ã—ã€Maybe.observeOnã§ã¯Scheduler.scheduleDirectãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒªãƒ³ã‚°ã™ã‚‹é•ã„ãŒã‚ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã—ãŸã€‚å¾Œã¯ã€ãã‚Œãã‚Œã®ãƒ‘ã‚¹ã§ã®async messageã®æŒ™å‹•ã®é•ã„ã‚’ç‰¹å®šã—ã€ä¿®æ­£ã™ã‚‹ã ã‘ã§ã™ã€‚
ãã®ä»–ãƒ»æ„Ÿæƒ³ Jakeã•ã‚“ã¨Zacã•ã‚“ã«ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ã—ã¦ã‚‚ã‚‰ã£ãŸ äºŒäººã®ã‚³ãƒ¼ãƒ‰ã¯è‰¯ãèª­ã‚“ã§ã„ã¦ã€å°Šæ•¬ã—ã¦ã„ã‚‹Androidã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãªã®ã§ã€ãã®2äººã«ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ã—ã¦ã‚‚ã‚‰ãˆãŸã®ã¯å¬‰ã—ã‹ã£ãŸã§ã™ğŸ˜ƒ</description>
    </item>
    
    <item>
      <title>Robolectric &#43; Jetpackã§Activityã®onActivityResultãƒ¡ã‚½ãƒƒãƒ‰ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹</title>
      <link>https://satoshun.github.io/2019/02/androidx-onactivityresult-testing/</link>
      <pubDate>Sat, 23 Feb 2019 02:47:59 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/02/androidx-onactivityresult-testing/</guid>
      <description>Robolectric4.xã‹ã‚‰ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆç’°å¢ƒã§ã€android testã¨ï¼ˆã»ã¼?ï¼‰åŒã˜ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’å‹•ã‹ã™ã“ã¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã—ãŸã€‚ ã¾ã ã€å®Œå…¨ã«äº’æ›æ€§ãŒã‚ã‚‹ã¨ã¯ã„ãˆã¾ã›ã‚“ãŒã€Espressoãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒå‹•ãã€AndroidJUnit4ãƒ©ãƒ³ãƒŠãƒ¼ãŒä½¿ãˆã‚‹ãªã©ã€ã‹ãªã‚Šã®éƒ¨åˆ†ãŒå…±é€šåŒ–å‡ºæ¥ã¾ã™ã€‚
ã“ã®è¨˜äº‹ã§ã¯ã€ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã§Activity.onActivityResultã®ãƒ†ã‚¹ãƒˆã‚’ã©ã“ã¾ã§android testã®ã‚ˆã†ã«æ›¸ã‘ã‚‹ã‹ã‚’æ¤œè¨¼ã—ã¾ã™ã€‚
ãƒ†ã‚¹ãƒˆå¯¾è±¡ã‚³ãƒ¼ãƒ‰ ã¾ãšæœ€åˆã«ã€ãƒ†ã‚¹ãƒˆå¯¾è±¡ã‚³ãƒ¼ãƒ‰ã¯æ¬¡ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚
class MainActivity : AppCompatActivity() { ... override fun onCreate(savedInstanceState: Bundle?) { ... button.setOnClickListener { startActivityForResult( Intent(this, Sub2Activity::class.java).apply { putExtra(&amp;quot;fuga&amp;quot;, &amp;quot;hoge&amp;quot;) }, 1 ) } } override fun onActivityResult( requestCode: Int, resultCode: Int, data: Intent? ) { super.onActivityResult(requestCode, resultCode, data) if (requestCode == 1) { if (resultCode == Activity.RESULT_OK) { val value = data!!.getIntExtra(&amp;quot;test&amp;quot;, -1) button.text = value.toString() } } } }  class Sub2Activity : AppCompatActivity() { override fun onCreate(savedInstanceState: Bundle?</description>
    </item>
    
    <item>
      <title>ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®é·ç§»ã«ã¤ã„ã¦è€ƒãˆã‚‹ Part2</title>
      <link>https://satoshun.github.io/2019/02/multi-module_transition_part2/</link>
      <pubDate>Fri, 15 Feb 2019 00:14:56 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/02/multi-module_transition_part2/</guid>
      <description>ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«é·ç§»æ–¹æ³•Part2ã§ã™ã€‚Part1ã¯ã“ã“ã«ãªã‚Šã¾ã™ğŸ˜Œ
Part2ã§ã¯ã€Navigation Componentã‚’ä½¿ã†ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è€ƒãˆã¦ã¿ã¾ã™ã€‚ä»Šå›ã¯Dynamic Feature(DFM)ã«ã¯è§¦ã‚Œã¾ã›ã‚“ã€‚ã„ã‚ã‚†ã‚‹ä¸€èˆ¬çš„ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã®é·ç§»ã«ãªã‚Šã¾ã™ã€‚
ã¾ãŸã€ä»Šå›ã®æ¤œè¨¼ã«ç”¨ã„ãŸã‚³ãƒ¼ãƒ‰ã¯satoshun/MultiModuleNavigationComponentExampleã«ã‚ã‚Šã¾ã™ã€‚
ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆã«ã¤ã„ã¦ ç´°ã‹ã„å®Ÿè£…ã«å…¥ã‚‹å‰ã«ã€å…¨ä½“çš„ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆã‚’èª¬æ˜ã—ã¾ã™ã€‚ä»Šå›ã¯appãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒãƒˆãƒƒãƒ—ã«ã‚ã‚Šã€2ã¤ã®featureãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒã‚ã‚‹ã¨ã—ã¾ã™ã€‚
å„featureãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã¯é·ç§»ç”¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æŒã£ã¦ãŠã‚Šã€ãã‚Œã‚’ç”¨ã„ã¦ä»–ã®featureç”»é¢ã¸é·ç§»ã‚’ã—ã¾ã™ã€‚é·ç§»ç”¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å®Ÿè£…ã¯appå†…ã®routerãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§è¡Œã„ã¾ã™ã€‚
ã“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆã®ãƒã‚¤ãƒ³ãƒˆã¯ã€å„featureãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å†…ã§è‡ªèº«ãŒä½¿ã†é·ç§»ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®šç¾©ã—ã€appãŒãã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å®Ÿè£…ã‚’è¡Œã†ç‚¹ã§ã™ã€‚ã“ã®ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã§ã€featureé–“ã§ç›´æ¥ã®ä¾å­˜ã‚’æŒã¤ã“ã¨ã‚’é˜²ãã“ã¨ãŒã§ãã¾ã™ã€‚ã“ã‚Œã¯å¾ªç’°ä¾å­˜ã‚’é¿ã‘ã‚‹ãŸã‚ã§ã™ã€‚
ã§ã¯ã€å®Ÿè£…ã«å…¥ã£ã¦ã„ãã¾ã™ã€‚ä»Šå›ã¯Dagger2ã‚’ä½¿ã£ã¦å®Ÿè£…ã‚’ã—ã¾ã™ã€‚
featureãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å´ã®é·ç§»ç”¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å®šç¾© å‰è¿°ã®å›³ã®é€šã‚Šã€å„featureãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å†…ã§é·ç§»ç”¨ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®šç¾©ã—ã¾ã™ã€‚ã“ã“ã§ã¯ã€featureãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å†…ã§ä½¿ç”¨ã™ã‚‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®šç¾©ã—ã¾ã™ã€‚
mainç”»é¢ã‹ã‚‰sub1ç”»é¢ã«ç§»å‹•ã—ãŸã„ã¨ã—ã¾ã™ã€‚æ¬¡ã®ã‚ˆã†ãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®šç¾©ã«ãªã‚Šã¾ã™ã€‚
interface MainModuleRouter { // sub1ç”»é¢ã¸ç§»å‹•ã™ã‚‹ fun routeToSub1() }  Mainãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ç”¨ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãªã®ã§ã€MainModuleRouterã¨ã„ã†åå‰ã«ã—ã€sub1ç”»é¢ã¸é·ç§»ã™ã‚‹ãŸã‚ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚
ãã—ã¦ã“ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’ã€MainFragmentã§ä½¿ã„ã¾ã™ã€‚
class MainFragment : Fragment() { @Inject lateinit var moduleRouter: MainModuleRouter ... override fun onViewCreated(view: View, savedInstanceState: Bundle?) { super.onViewCreated(view, savedInstanceState) view.findViewById&amp;lt;View&amp;gt;(R.id.route).setOnClickListener { moduleRouter.routeToSub1() } } }  ã“ã‚Œã§featureãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã®é·ç§»ç”¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å®šç¾©ã¯å®Œäº†ã§ã™ã€‚
æ¬¡ã«ã“ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å®Ÿè£…ã‚’ã—ã¾ã™ã€‚
routerãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å´ã®é·ç§»ç”¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å®Ÿè£… ä»Šå›ã¯ã€é·ç§»ç”¨ã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹ã®å®Ÿè£…ã‚’routerãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§è¡Œã„ã¾ã™ã€‚ã¾ãšã¯ã€Navigation Componentã‚’ç”¨ã„ã¦ã€Graphã‚’ä½œã‚Šã¾ã™ã€‚
&amp;lt;navigation xmlns:android=&amp;quot;http://schemas.android.com/apk/res/android&amp;quot; xmlns:app=&amp;quot;http://schemas.android.com/apk/res-auto&amp;quot; android:id=&amp;quot;@+id/nav_graph&amp;quot; app:startDestination=&amp;quot;@id/nav_main_frag&amp;quot;&amp;gt; &amp;lt;fragment android:id=&amp;quot;@+id/nav_main_frag&amp;quot; android:name=&amp;quot;com.github.satoshun.example.feature.main.MainFragment&amp;quot;&amp;gt; &amp;lt;action android:id=&amp;quot;@+id/main_to_sub1&amp;quot; app:destination=&amp;quot;@id/nav_sub1_frag&amp;quot; /&amp;gt; &amp;lt;/fragment&amp;gt; .</description>
    </item>
    
    <item>
      <title>ã§ã‹ã„appãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒã‚ã‚‹ã¨ãã«ã€ä¸­é–“ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å…¥ã‚Œã‚‹ã“ã¨ã§å·®åˆ†ãƒ“ãƒ«ãƒ‰ã‚’ä¸Šæ‰‹ãåŠ¹ã‹ã›ã‚‹</title>
      <link>https://satoshun.github.io/2019/02/multi-module-speedup/</link>
      <pubDate>Mon, 11 Feb 2019 01:40:29 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/02/multi-module-speedup/</guid>
      <description>ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆã®ãƒ¡ãƒªãƒƒãƒˆã«å·®åˆ†ãƒ“ãƒ«ãƒ‰ã®åŠ¹ç‡åŒ–ã¨ã„ã†ã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚ã—ã‹ã—ã€ãƒ¢ãƒã‚·ãƒªãƒƒã‚¯ãªappãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‹ã‚‰ã€ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆã«å¤‰æ›´ã—ã¦ã„ãéç¨‹ã§ã¯appãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒã§ã‹ã„ã¾ã¾ãªã®ã§ã€å·®åˆ†ãƒ“ãƒ«ãƒ‰ã«ã‚ˆã‚‹æ©æµãŒå—ã‘ã«ãã„ã¨ã„ã†å•é¡ŒãŒã‚ã‚Šã¾ã™ã€‚ï¼ˆæœ€çµ‚æ®µéšã¾ã§é€²ã‚ã°appãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ååˆ†ã«å°ã•ããªã‚‹ã®ã§ã€å·®åˆ†ãƒ“ãƒ«ãƒ‰ã®æ©æµã‚’å—ã‘ã‚‰ã‚Œã¾ã™ï¼‰
ä¾‹ãˆã°ã€ä»¥ä¸‹ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆã‚’è€ƒãˆã¾ã™ã€‚
é ‘å¼µã£ã¦2ã¤ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’åˆ‡ã‚Šå‡ºã—ã¾ã—ãŸã€‚ãŸã ã—ã€ã“ã‚Œã§ã¯ã©ã“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å¤‰æ›´ã—ã¦ã‚‚ã‹ãªã‚Šã®ãƒ“ãƒ«ãƒ‰æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™ã€‚ãªãœãªã‚‰ã€Gradleã§ã¯ä¾å­˜é–¢ä¿‚ã«ã‚ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒå¤‰æ›´ã•ã‚ŒãŸã¨ãã«ã€è‡ªåˆ†è‡ªèº«ã‚‚ï¼ˆã‚ã‚‹ç¨‹åº¦?ï¼‰å†ãƒ“ãƒ«ãƒ‰ã•ã‚Œã‚‹ãŸã‚ã§ã™ã€‚ãªã®ã§ã€ä¸Šè¨˜ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆã ã¨ã€ã©ã“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä¿®æ­£ã—ã¦ã‚‚ã€å¸¸ã«å¤§ãã„appãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒå†ãƒ“ãƒ«ãƒ‰ã•ã‚Œã¦ã—ã¾ã†ãŸã‚ã€ãƒ“ãƒ«ãƒ‰æ™‚é–“ãŒã‹ã‹ã£ã¦ã—ã¾ã„ã¾ã™ã€‚
ãã“ã§ã€é–“ã«ä¸­é–“ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’æŒŸã‚€ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚ã“ã®ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’ä½¿ã†ã¨ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
é€”ä¸­ã«é©å½“ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’æŒŸã‚€ã“ã¨ã§ã€ã‚µãƒ–1ã€ã‚µãƒ–2ãŒå¤‰æ›´ã•ã‚ŒãŸã¨ãã«appãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®å†ãƒ“ãƒ«ãƒ‰ã‚’é˜²ãã“ã¨ãŒã§ãã¾ã™ã€‚
ãŸã ã—ã€ã„ãã¤ã‹æ¡ä»¶ãŒã‚ã‚Šã¾ã™ã€‚
1. ä¸­é–“ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§å…¬é–‹å¯èƒ½ãªã‚‚ã®ã«é™ã‚‹ ä¾‹ãˆã°ã‚µãƒ–1ã§SubActivityã‚’å…¬é–‹ã—ã¦ã„ã¦ã€ã“ã‚Œã‚’ç›´æ¥appã‹ã‚‰å‚ç…§ã—ã¦ã„ã‚‹å ´åˆã¯é§„ç›®ã§ã™ã€‚ ã“ã‚Œã‚’SubActivityã¨ã—ã¦ã§ã¯ãªãã€Activityã¨ã—ã¦å‚ç…§ã§ãã‚‹ãªã‚‰å¤§ä¸ˆå¤«ã§ã™ã€‚ã‚µãƒ–1ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‚¯ãƒ©ã‚¹ãŒappãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‹ã‚‰è¦‹ã‚Œãªã„ãŸã‚ã®åˆ¶ç´„ã§ã™ã€‚
ä¸­é–“ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚³ãƒ¼ãƒ‰ã‚¤ãƒ¡ãƒ¼ã‚¸ã¨ã—ã¦ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
fun createUserFragment(userName: String, age: Int): Fragment { return UserFragment.createFragment(userName, age) } fun createUserIntent(context: Context): Intent { return Intent(context, UserActivity::class.java) }  UserActivityã€UserFragmentãŒå…¬é–‹ã•ã‚Œã¦ã„ãªã„ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚Androidã®ã„ã‚ã‚†ã‚‹featureãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã¯ã€Activityã€Fragmentã‚’å…¬é–‹ã™ã‚‹å ´åˆãŒå¤šã„ã¨æ€ã†ã®ã§ã€ãã®å ´åˆã«ã¯æœ‰åŠ¹ã«ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ã€‚
2. implementationã§ä¾å­˜ã‚’å®šç¾©ã™ã‚‹ apiã‚’ä½¿ã†ã¨ã€ä¾å­˜ãŒæ¨ç§»ã™ã‚‹ãŸã‚å†ãƒ“ãƒ«ãƒ‰ãŒè¡Œã‚ã‚Œã¦ã—ã¾ã†ãŸã‚ã§ã™ã€‚implementationã§ä¾å­˜ã‚’è¨˜è¿°ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
3. Dagger2ä½¿ã£ã¦ã‚‹ã¨å¤šåˆ†ç„¡ç† Dagger2ã§ã¯ã€è§£æ±ºã™ã‚‹ä¾å­˜ã‚’AppComponentã§çŸ¥ã£ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ä¸Šè¨˜ã®æ§‹æˆã ã¨ã€appã§AppComponentã‚’æŒã¤ã“ã¨ã«ãªã‚‹ã®ã§ã€appã‹ã‚‰sub1ã€sub2ãŒè¦‹ãˆã¦ã„ãªã„ã¨æœ€çµ‚çš„ã«Dagger2ã§è§£æ±ºã§ãã¾ã›ã‚“ã€‚ãªã®ã§ã€ä¸­é–“ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã€appã‹ã‚‰subã®ä¾å­˜ãŒè¦‹ãˆãªããªã‚‹ã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ä½¿ãˆã¾ã›ã‚“ã€‚
è©³ã—ãã¯Dagger/#970ã«ã‚ã‚Šã¾ã™ã€‚
ã¾ã¨ã‚  ã‚„ã‚Šã™ãæ„Ÿã¯ã‚ã‚‹  ãŸã ã§ã•ãˆè¤‡é›‘ãªã€ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆãŒã•ã‚‰ã«ç…©é›‘ã«ãªã‚Šãã†ã€‚ãŸã ã—ã€æœ€çµ‚çš„ã«ã¯æ¶ˆãˆã‚‹ã®ã§ã€å·®åˆ†ãƒ“ãƒ«ãƒ‰ã®æ©æµã‚’å—ã‘ã‚‹ãŸã‚ã®ã‚¹ãƒ†ãƒƒãƒ—ã ã¨ã™ã‚Œã°è¨±ã›ã‚‹ã‹ã‚‚? Dagger2ã‚’ä½¿ã£ã¦ã„ã‚‹ã¨æ¨ç§»çš„ä¾å­˜ãŒå¿…è¦ã«ãªã‚Šã€ä½¿ãˆãªã„ã€ã‚‚ã—ãã¯å·¥å¤«ãŒå¿…è¦ã«ãªã‚‹  ã‚µãƒ³ãƒ—ãƒ«ã¯satoshun/ApplicationModulesSpeedUpExampleã«ã‚ã‚Šã¾ã™  ã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å¤‰æ›´ã—ãŸã¨ãã®ãƒ“ãƒ«ãƒ‰ã¯çˆ†é€Ÿã§ã—ãŸğŸ˜Š   Daggerã®éƒ¨åˆ†ã®ã„ã„è§£æ±ºæ–¹æ³•ã‚’çŸ¥ã£ã¦ã„ã‚‹äººãŒã„ãŸã‚‰ã€æ•™ãˆã¦é ‚ã‘ã‚‹ã¨å¹¸ã„ã§ã™ğŸ˜ŠğŸ˜ŠğŸ˜Š</description>
    </item>
    
    <item>
      <title>DroidKaigi2019ã§ã€ŒR8/ProGuard å¾¹åº•æ¯”è¼ƒã€ã¨ã„ã†ãƒ†ãƒ¼ãƒã§ç™ºè¡¨ã—ã¾ã—ãŸ</title>
      <link>https://satoshun.github.io/2019/02/droidkaigi-2019/</link>
      <pubDate>Thu, 07 Feb 2019 13:19:13 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/02/droidkaigi-2019/</guid>
      <description>DroidKaigi2019ã§ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒæ¡æŠã•ã‚ŒãŸã®ã§ç™ºè¡¨ã—ã¾ã—ãŸã€‚
 https://speakerdeck.com/satoshun/proguard-che-di-bi-jiao
æœ€åˆã«ç™ºè¡¨ã®åçœç‚¹ã§ã™ã€‚
 å¤šãè©°ã‚è¾¼ã¿ã™ãã¦ã€1ã¤1ã¤ã®æ˜ã‚Šä¸‹ã’ãŒç–ã‹ã«ãªã£ãŸ  çµæœçš„ã«åºƒãæµ…ã„ç™ºè¡¨ã«ãªã£ã¦ã—ã¾ã£ãŸãŸã‚ã€1ã¤ã®1ã¤ãŒã‚ã¾ã‚Šä¸å¯§ã«èª¬æ˜ã§ãã¦ã„ãªã‹ã£ãŸã‚ˆã†ã«æ„Ÿã˜ã¦ã„ã¾ã™ã€‚é‡è¦ãªéƒ¨åˆ†ã¯ã‚‚ã†å°‘ã—ä¸å¯§ã«ç™ºè¡¨ã™ã¹ãã§ã—ãŸã€‚  æ—©å£ã™ãã€ä¿ºã¯ç”Ÿãæ€¥ã„ã§ã‚‹ã®ã‹ï¼Ÿ  æœ¬å½“ã«ç”³ã—è¨³ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚å‰æ—¥ã«æœ€çµ‚ç¢ºèªã—ãŸã¨ã“ã‚20åˆ†è¿‘ãã‚ªãƒ¼ãƒãƒ¼ã—ã¦ã—ã¾ã„ã€ãã“ã‹ã‚‰ã‚ã‚‹ç¨‹åº¦ã¯é–“å¼•ã„ãŸã‚“ã§ã™ãŒã€æ—©å£ã§ã„ãã¨ã„ã†æˆ¦ç•¥ã‚’å–ã£ã¦ã—ã¾ã„ã¾ã—ãŸğŸ˜‚ ä»–ã®æ–¹ã®ç™ºè¡¨ã®ã‚ˆã†ã«èãã‚„ã™ã„ç™ºè¡¨ã‚’ä»Šå¾Œã¯æ„è­˜ã—ã¦ã„ãã¾ã™ï¼   æ¬¡ã«è‰¯ã‹ã£ãŸç‚¹ã§ã™ã€‚
 ç™ºè¡¨å‰ã®ä¼‘æ†©æ™‚é–“ã«ã€å¸ä¼šã®@neonankitiã•ã‚“ã®åŠ©ã‘ã§ã€ã‚¢ã‚¤ã‚¹ãƒ–ãƒ¬ã‚¤ã‚¯?ã®ã‚ˆã†ãªã“ã¨ãŒã§ããŸ  @neonankitiã•ã‚“ã¨ã¯åˆå¯¾é¢ã ã£ãŸã‚“ã§ã™ãŒã€è¬ã®æ›ã‘åˆã„ãŒã§ãã€ä¼šå ´ã®é›°å›²æ°—ã‚‚è‰¯ããªã£ãŸã‚ˆã†ã«æ€ã„ã¾ã™ğŸ˜Š  ãªã‚“ã ã‹ã‚“ã ã¨R8ã®ã‚³ãƒ¼ãƒ‰ã‚’è§¦ã‚ŒãŸã®ã¯è‰¯ã‹ã£ãŸ  R8ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã®ã‚³ãƒ¼ãƒ‰ã«è§¦ã‚Œã‚‹ã‹ã©ã†ã‹æ‚©ã‚“ã ã®ã§ã™ãŒã€printãƒ‡ãƒãƒƒã‚°ãªã©ã‚’é§†ä½¿ã—ã¦ã€ç†è§£ãŒé–“é•ã£ã¦ã„ãªã„ã“ã¨ãŒç¢ºèªã§ããŸã®ã§ã€è¼‰ã›ã¦ã¿ã¾ã—ãŸã€‚æ¦‚è¦ã ã‘ã§ã™ãŒã€å€‹äººçš„ã«ã¯è‰¯ã‹ã£ãŸã¨æ€ã£ã¦ã„ã¾ã™ã€‚  æœ€å¾Œã«è©±ã—ãŸå®Ÿè·µç·¨ã®ã‚¦ã‚±ãŒè‰¯ãã¦ã‚ˆã‹ã£ãŸ  R8ã®å‡„ã•ãŒåˆ†ã‹ã‚Šã‚„ã™ãä¼ãˆã‚‰ã‚ŒãŸã®ã‹ãªã¨æ€ã„ã¾ã™ğŸ˜Š   æœ€å¾Œã«ã€åƒ•ã®ç™ºè¡¨ã‚’èãã«æ¥ã¦ãã‚ŒãŸäººã€é‹å–¶ã®ã¿ãªã•ã‚“ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸğŸ˜Š
ã¾ãŸæ¥å¹´ã‚‚ã‚ã‚Œã°ç™»å£‡ã§ãã‚‹ã‚ˆã†ã«é ‘å¼µã‚Šã¾ã™ğŸ’ª</description>
    </item>
    
    <item>
      <title>R8/Proguard: Jarãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ProGuardè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚“ã§ãã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸ</title>
      <link>https://satoshun.github.io/2019/01/r8-proguard-metainf/</link>
      <pubDate>Mon, 28 Jan 2019 00:08:35 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/01/r8-proguard-metainf/</guid>
      <description>AGP3.3.0ProGuardã¯AGP3.3.0ã€R8ã¯å°å…¥ã•ã‚ŒãŸAGP3.2.0ã‹ã‚‰ã€Jarãƒ•ã‚¡ã‚¤ãƒ«ã®ProGuardè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’çµ„ã¿è¾¼ã‚ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ãã®æ©Ÿèƒ½ç´¹ä»‹ã§ã™ã€‚ ä»Šã¾ã§ã€aarã§ã¯consumerProguardFilesã§ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ProGuardè¨­å®šã‚’æŒ‡å®šã§ãã¾ã—ãŸã€‚ãã‚Œã®Jarã€Javaãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¨ãªã‚Šã¾ã™ã€‚
ãƒ©ã‚¤ãƒ–ãƒ©ãƒªé–‹ç™ºè€…å´ã®è¨­å®š Retrofitãªã©ã®Squareç¤¾ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã¯ã€æ—©ãã‚‚ã“ã®æ©Ÿèƒ½ã«å¯¾å¿œã—ã¦ã„ã‚‹ã®ã§ã€ãã‚Œã‚’ä¾‹ã«ã—ã¦èª¬æ˜ã—ã¾ã™ã€‚
ã¾ãšã€resources/META-INF/prougardãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ä¸­ã«ProGuardã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½®ãã¾ã™ã€‚
square/retrofit
ãƒ©ã‚¤ãƒ–ãƒ©ãƒªå´ã®è¨­å®šã¯ã“ã‚Œã§å®Œäº†ã§ã™ã€‚
ä½¿ã†å´ã®è¨­å®š AGP3.3.0ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã™ã‚‹ã ã‘ã§ä½¿ãˆã¾ã™ã€‚META-INF/ProGuardã¯Retrofitã®2.5.0ã‹ã‚‰å…¥ã£ã¦ã„ã‚‹ã®ã§ã€ã¾ãšã¯META-INFãŒå…¥ã£ã¦ã„ãªã„ã€2.4.0ã§ãƒ“ãƒ«ãƒ‰ã‚’ã—ã¦ã¿ã¾ã™ã€‚
implementation &amp;quot;com.squareup.retrofit2:retrofit:2.4.0&amp;quot; &amp;gt; ./gradlew installRelease ... Warning: there were 267 unresolved references to classes or interfaces. You may need to add missing library jars or update their versions. If your code works fine without the missing classes, you can suppress the warnings with &#39;-dontwarn&#39; options. (http://proguard.sourceforge.net/manual/troubleshooting.html#unresolvedclass) Warning: Exception while processing task java.io.IOException: Please correct the above warnings first. Thread(Tasks limiter_2): destruction  å¤±æ•—ã—ã¾ã—ãŸğŸ˜‚</description>
    </item>
    
    <item>
      <title>Fluxã®Dispatcherã‚’Roomã®in memoryã§å®Ÿè£…ã™ã‚‹ã®ã¯ã€å†—é•·ãªã‚³ãƒ¼ãƒ‰ãŒå¤šããªã‚‹ã®ã§è‰¯ããªã„</title>
      <link>https://satoshun.github.io/2019/01/room-with-flux/</link>
      <pubDate>Thu, 24 Jan 2019 00:43:33 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/01/room-with-flux/</guid>
      <description>Fluxã®Dispatcherã‚’Room in memoryã§å®Ÿè£…ã™ã‚Œã°æœ€é«˜ãªã®ã§ã¯?ã¨æ€ã„ã€ã¡ã‚‡ã£ã¨è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚
çµè«–ã‹ã‚‰ç”³ã—ã¾ã™ã¨å†—é•·ãªã‚³ãƒ¼ãƒ‰ãŒå¤šãã€è‰¯ããªã„ã¨æ„Ÿã˜ã¾ã—ãŸã€‚EventBusã‚„ã€ä»–ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã£ã¦å®Ÿè£…ã—ãŸã»ã†ãŒè‰¯ã„ã¨æ€ã„ã¾ã™ğŸ˜‚
ã¾ãŸã€ã‚ªãƒªã‚¸ãƒŠãƒ«Fluxã¯ã€ŒDispatcherãŒã‚¢ãƒ—ãƒªå†…ã§1ã¤ã ã‘å­˜åœ¨ã™ã‚‹ã€ã¨ã„ã†åŸå‰‡ãŒã‚ã£ãŸã¨æ€ã„ã¾ã™ãŒã€ãã‚Œã‚’ç ´ã£ã¦ã„ã¾ã™ã€‚Fluxã§ã™ã‚‰ãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
Room in memory? Roomã§ã¯in memoryã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’ä½œã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚æ­£ç¢ºã«è¨€ãˆã°ã€SQLiteã®æ©Ÿèƒ½ã‚’Roomã®APIã¨ã—ã¦é–‹æ”¾ã—ã¦ã„ã¾ã™ã€‚
ä½¿ã„æ–¹ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
Room .inMemoryDatabaseBuilder(context, MyDatabase::class.java) .build()  in memoryã‚’ä½¿ã†ç†ç”±ã¨ã—ã¦ã¯ã€
 ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒã™ã‚‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ°¸ç¶šåŒ–ã™ã‚‹å¿…è¦ã¯ãªã„ã ã‚ã† ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒå¿…è¦ãªã„  ã«ãªã‚Šã¾ã™ã€‚
å®Ÿè£…ã«å…¥ã£ã¦ã„ã ã§ã¯ã€å®Ÿè£…ã®èª¬æ˜ã‚’ã—ã¦ã„ãã¾ã™ã€‚
ã¾ãšã¯Actionã‚’Roomã®Entityã¨ã—ã¦å®šç¾©ã—ã¾ã™ã€‚
sealed class AuthorAction @Entity(tableName = &amp;quot;author1&amp;quot;) data class Author1( @PrimaryKey val _id: Long = 0, // always 0 val name: String, val age: Int ) : AuthorAction() @Entity(tableName = &amp;quot;author2&amp;quot;) data class Author2( @PrimaryKey val _id: Long = 0, // always 0 val name: String, val age: Int ) : AuthorAction()  Primary keyã¯å¸¸ã«ä¸€å®šã«ã—ã¦ã€ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¯0 or 1ã¤ã—ã‹å­˜åœ¨ã—ãªã„ã‚ˆã†ã«ã—ã¦ãŠãã¾ã™ã€‚ä»®ã«ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®å±¥æ­´ãŒæ¬²ã—ã„ãªã‚‰ã€@PrimaryKey(autoGenerate = true)ã‚’ä½¿ã£ã¦ã‚‚è‰¯ã„ã¨æ€ã„ã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>R8/Proguard: Daggerã®ç”Ÿæˆã‚³ãƒ¼ãƒ‰ãŒR8ã§ã©ã®ã‚ˆã†ã«å¤‰ã‚ã‚‹ã‹ã‚’è¦‹ã‚‹</title>
      <link>https://satoshun.github.io/2019/01/r8-dagger-optimize/</link>
      <pubDate>Sun, 20 Jan 2019 13:55:46 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/01/r8-dagger-optimize/</guid>
      <description>ã‚³ãƒ¼ãƒ‰ã®æœ€é©åŒ–ã®è©±ã§ã™ã€‚ã“ã®è¨˜äº‹ã§ã¯å®Ÿè·µã«å¯„ã›ã¦ã€Daggerã®ç”Ÿæˆã‚³ãƒ¼ãƒ‰ãŒR8ã«ã‚ˆã£ã¦ã©ã®ã‚ˆã†ã«å¤‰åŒ–ã™ã‚‹ã‹ã‚’è¦‹ã¾ã™ã€‚
ã¾ãšã¯ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã§ã™ã€‚
@Component( modules = [ AppModule1::class, AppModule2::class ] ) interface AppComponent { @Component.Builder interface Builder { fun build(): AppComponent } fun inject(activity: MainActivity) } @Module class AppModule1 { @Provides fun provideService(): AppService { val retrofit = Retrofit.Builder() ... return retrofit.create() } } @Module object AppModule2 { @JvmStatic @Provides fun provideService2(): AppService2 { val retrofit = Retrofit.Builder() ... return retrofit.create() } } --- class MainActivity : AppCompatActivity() { @Inject lateinit var appService: AppService @Inject lateinit var appService2: AppService2 override fun onCreate(savedInstanceState: Bundle?</description>
    </item>
    
    <item>
      <title>R8/Proguard: Kotlinã®lambdaæœ€é©åŒ–ã«ã¤ã„ã¦</title>
      <link>https://satoshun.github.io/2019/01/r8-kotlin-lambda/</link>
      <pubDate>Sun, 20 Jan 2019 06:56:16 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/01/r8-kotlin-lambda/</guid>
      <description>ã‚³ãƒ¼ãƒ‰ã®æœ€é©åŒ–ã®è©±ã§ã™ã€‚ã“ã®è¨˜äº‹ã§ã¯Kotlinã®lambdaå¼ã®æœ€é©åŒ–ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚
Kotlin lambda Kotlinã§ã¯é–¢æ•°å‹ãŒãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã§ã™ã€‚ã¨ã¦ã‚‚ä¾¿åˆ©ãªã®ã§ã™ãŒã€ãƒ©ãƒ ãƒ€ã‚’ä½¿ã†ãŸã³ã«å†…éƒ¨çš„ã«ã¯ã‚¯ãƒ©ã‚¹ã‚’1ã¤å®šç¾©ã™ã‚‹ãŸã‚ã€ã‚¯ãƒ©ã‚¹æ•°ã€ãƒ¡ã‚½ãƒƒãƒ‰æ•°ãŒã©ã‚“ã©ã‚“å¢—ãˆã¦ã„ãã¾ã™ã€‚
ä¾‹ãˆã°ã€æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã‚’æœ€é©åŒ–ãªã—ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦ã¿ã¾ã™ã€‚
fun main() { lambdaTest1 { println(&amp;quot;Kotlin lambda1&amp;quot;) } lambdaTest1 { println(&amp;quot;Kotlin lambda2&amp;quot;) } lambdaTest1 { println(&amp;quot;Kotlin lambda3&amp;quot;) } ... } private fun lambdaTest1(body: () -&amp;gt; Unit) { ... body() ... }  // ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«å¾Œ public static final void main() { LambdaTestKt.lambdaTest1((Function0) LambdaTestKt$main$1.INSTANCE); LambdaTestKt.lambdaTest1((Function0) LambdaTestKt$main$2.INSTANCE); LambdaTestKt.lambdaTest1((Function0) LambdaTestKt$main$3.INSTANCE); ... } final class LambdaTestKt$main$1 extends Lambda implements Function0&amp;lt;Unit&amp;gt; { public static final LambdaTestKt$main$1 INSTANCE = new LambdaTestKt$main$1(); LambdaTestKt$main$1() { super(0); } public final void invoke() { System.</description>
    </item>
    
    <item>
      <title>R8/Proguard: Kotlinã®Companion objectã¨objectã«ã¤ã„ã¦</title>
      <link>https://satoshun.github.io/2019/01/r8-companion-object/</link>
      <pubDate>Sun, 20 Jan 2019 04:23:43 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/01/r8-companion-object/</guid>
      <description>ã‚³ãƒ¼ãƒ‰ã®æœ€é©åŒ–ã®è©±ã§ã™ã€‚ã“ã®è¨˜äº‹ã§ã¯Kotlinã®Companion objectã¨objectã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚
ã“ã®è¨˜äº‹ã¯ã€R8 Optimization: Staticizationã«ã¨ã¦ã‚‚å½±éŸ¿ã‚’å—ã‘ã¦ã„ã¾ã™ã€‚
Companion object ä¾‹ãˆã°ã€æ¬¡ã®ã‚³ãƒ¼ãƒ‰ãŒã‚ã‚‹ã¨ã—ã¾ã™ã€‚
class CompanionTest { companion object { fun show(i: Int) { ... } } }  ã“ã‚Œã‚’æœ€é©åŒ–ãªã—ã§å¤‰æ›ã™ã‚‹ã¨æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
public final class CompanionTest { public static final Companion Companion = new Companion(); public static final class Companion { private Companion() { } public final void show(int i) { ... } } }  Companionã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒç”Ÿæˆã•ã‚Œã¦ã„ã‚‹ã®ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚ãŸã ã€ã“ã®Companion objectã¯ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã›ã‚“ã€‚ãªãœãªã‚‰ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å®Ÿè£…ãªã©ã‚’ã—ã¦ã„ãªã„ã‹ã‚‰ã§ã™ã€‚
ãã“ã§R8ã«ã‚ˆã‚‹æœ€é©åŒ–ã‚’è¡Œã†ã¨æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
public abstract class CompanionTest { public static final void show(int i) { .</description>
    </item>
    
    <item>
      <title>R8/Proguard: Class Mergingã«ã¤ã„ã¦</title>
      <link>https://satoshun.github.io/2019/01/r8-merge-method/</link>
      <pubDate>Sun, 20 Jan 2019 02:16:43 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/01/r8-merge-method/</guid>
      <description>ã‚³ãƒ¼ãƒ‰ã®æœ€é©åŒ–ã®è©±ã§ã™ã€‚ã“ã®è¨˜äº‹ã§ã¯Class Mergingã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚
Class Merging? ãã®åã®é€šã‚Šã€Classã‚’ãƒãƒ¼ã‚¸ã™ã‚‹æœ€é©åŒ–ã§ã™ã€‚æœ€çµ‚çš„ãªã‚¯ãƒ©ã‚¹æ•°æ¸›ã‚‰ã™ã“ã¨ãŒæœŸå¾…å‡ºæ¥ã¾ã™ã€‚ Class Mergingã«ã¯ç¸¦æ–¹å‘ï¼ˆVerticalï¼‰ã¨ã€æ¨ªæ–¹å‘ï¼ˆHorizontalï¼‰ãŒã‚ã‚Šã¾ã™ã€‚
ã¾ãšã¯ç¸¦æ–¹å‘ã®Class Mergingã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚
ç¸¦æ–¹å‘? ç¸¦æ–¹å‘ã¨ã¯ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¿ã‚¤ãƒ—ã®å®Ÿè£…ãŒ1ã¤ã ã£ãŸã¨ãã«ã€ãã®ã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¿ã‚¤ãƒ—ã¨å®Ÿè£…ã§ã‚ã‚‹ã‚µãƒ–ã‚¿ã‚¤ãƒ—ã‚’1ã¤ã«ã¾ã¨ã‚ã‚‹æœ€é©åŒ–ã§ã™ã€‚
ä¾‹ãˆã°ã€æ¬¡ã®å®Ÿè£…ã¯æœ€é©åŒ–ã«ã‚ˆã£ã¦1ã¤ã«ã¾ã¨ã‚ã‚‰ã‚Œã¾ã™ã€‚
interface IVertical { fun show(i: Int) } class Vertical( private val a: Int ) : IVertical { override fun show(i: Int) { println(&amp;quot;start called $i $a&amp;quot;) } }  &amp;ndash;&amp;gt; Proguard/R8ã«ã‚ˆã‚‹æœ€é©åŒ–å¾Œ &amp;ndash;&amp;gt;
public final class Vertical { ... public final void show(int i) { ... } }  IVerticalã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãŒè¦‹äº‹ã«æ¶ˆã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚
ã¾ãŸã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§ã¯ãªãabstractã‚¯ãƒ©ã‚¹ã®å ´åˆã¯R8ã®å ´åˆã®ã¿ä¸Šæ‰‹ããƒãƒ¼ã‚¸ã•ã‚Œã¾ã—ãŸã€‚
 R8: Vertical Merger Proguard: Vertical Merger  æ¬¡ã«æ¨ªæ–¹å‘ã®ãƒãƒ¼ã‚¸ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>Dynamic Feature Moduleã§Dagger Androidã‚’ä½¿ã†</title>
      <link>https://satoshun.github.io/2019/01/dynamic-feature-and-dagger-android/</link>
      <pubDate>Wed, 16 Jan 2019 12:10:36 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/01/dynamic-feature-and-dagger-android/</guid>
      <description>Dependency injection in a multi module projectã‚’è¦‹ã¦ã€Dynamic Featureã‚’Dagger Androidã§å®Ÿç¾ã™ã‚‹ã«ã¯ã©ã†ã™ã‚‹ã‹ã‚’è€ƒãˆã¦ã¿ã¾ã—ãŸã€‚
çµè«–ã‹ã‚‰ã„ã†ã¨ã€ã„ãã¤ã‹ã®baseã‚¯ãƒ©ã‚¹ã‚’å®šç¾©ã™ã‚‹ã“ã¨ã§å¯¾å¿œã§ããã†ã§ã™ã€‚
ã¾ãŸã€ã“ã®è¨˜äº‹ã§ã¯Dynamic Feature Moduleã€Dagger Androidã‚’ã‚ã‚‹ç¨‹åº¦çŸ¥ã£ã¦ã„ã‚‹å‰æã§é€²ã‚ã¦ã„ãã¾ã™ã€‚
æ¤œè¨¼ã«ç”¨ã„ãŸã‚³ãƒ¼ãƒ‰ã¯satoshun-android-example/DynamicFeatureDaggerExampleã«ã‚ã‚Šã¾ã™ğŸ˜Š
å‰æçŸ¥è­˜ é€šå¸¸ã®Dagger Androidã¯Applicationã‚¯ãƒ©ã‚¹ã§Componentã‚’ä¿æŒã—ã¦ã€ãã“ã‹ã‚‰Subcomponentã‚’æ´¾ç”Ÿã•ã›ã‚‹å½¢ã«ãªã‚Šã¾ã™ã€‚ ã“ã“ã§ã®ãƒã‚¤ãƒ³ãƒˆã¯ã€Applficationã§ãƒˆãƒƒãƒ—ã«ä½ç½®ã™ã‚‹Componentã‚’ä¿æŒ/ä½œæˆã™ã‚‹ã¨ã„ã†ç‚¹ã§ã™ã€‚ã“ã‚Œã¯appãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒå…¨ã¦ã®Featureãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’çŸ¥ã£ã¦ã„ã‚‹ã“ã¨ã‚’æ„å‘³ã—ã¾ã™ã€‚
ã“ã®å‰æã‚’ã‚‚ã¨ã«ã€Dynamic Featureã‚’è€ƒãˆã¾ã™ã€‚Dynamic Featureã§ã¯Applicationã§ãƒˆãƒƒãƒ—ã«ä½ç½®ã™ã‚‹Componentã‚’ä¿æŒ/ä½œæˆã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã›ã‚“ã€‚ãªãœãªã‚‰ã€appãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯å„Featureãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã“ã¨ã‚’çŸ¥ã‚Œãªã„ãŸã‚ã§ã™ã€‚Dynamic Moduleã§ã¯é€šå¸¸ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆã¨é•ã„ã€appã¨Feature Moduleé–“ã®ä¾å­˜é–¢ä¿‚ãŒé€†è»¢ã—ã¾ã™ã€‚çµæœã€Applicationã§ãƒˆãƒƒãƒ—ã«ä½ç½®ã™ã‚‹Componentã‚’ä¿æŒ/ä½œæˆã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã›ã‚“ã€‚
ãã“ã§Dynamic Featureã§ã¯ã€appãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ãƒˆãƒƒãƒ—ã«ä½ç½®ã™ã‚‹Componentã‚’ä¿æŒã™ã‚‹ã®ã¯ã‚„ã‚ã¦ã€å„Feature Moduleå†…ã§ãã‚Œãã‚Œã®Componentã‚’ä¿æŒã™ã‚‹ã®ãŒè‰¯ã„ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚
ã“ã“ã¾ã§ãŒå‰æçŸ¥è­˜ã§ã€æ¬¡ã«Dynamic Feature + Dagger Androidã®å®Ÿè£…ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚
å®Ÿè£… Feature Subãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒã‚ã‚Šã€ã“ã®Subãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚¨ãƒ³ãƒˆãƒªãƒã‚¤ãƒ³ãƒˆï¼ˆãƒˆãƒƒãƒ—ã«ä½ç½®ã™ã‚‹ã‚¯ãƒ©ã‚¹ï¼‰ã¨ã—ã¦SubActivityãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹ã¨ã—ã¾ã™ã€‚ å®Ÿè£…ã®æ–¹é‡ã¨ã—ã¦ã¯ã€ã“ã®SubActivityã‚’DaggerApplicationã®ã‚ˆã†ã«æŒ¯ã‚‹èˆã‚ã•ã›ã‚‹ã“ã¨ã‚’ç›®æŒ‡ã—ã¾ã™ã€‚ãªãœãªã‚‰ã€ã“ã®Featureãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ãƒˆãƒƒãƒ—ã«ä½ç½®ã™ã‚‹ã‚¯ãƒ©ã‚¹ãŒSubActivityãªã®ã§ã€ã“ã‚Œã‚’DaggerApplicationã®ã‚ˆã†ã«æ‰±ã†ã“ã¨ãŒã§ãã‚Œã°ã€Dagger Androidã®ä¸–ç•Œã«ä¸Šæ‰‹ãè½ã¨ã—è¾¼ã‚€ã“ã¨ãŒå‡ºæ¥ã‚‹ã¨è€ƒãˆãŸã‹ã‚‰ã§ã™ã€‚
ã§ã¯ã€å®Ÿè£…ã‚’å§‹ã‚ã¾ã™ã€‚
æœ€åˆã«ã€SubActivityã‚’DaggerApplicationã®ã‚ˆã†ã«æŒ¯ã‚‹èˆã‚ã•ã›ã‚‹ãŸã‚ã«ModuleRootActivityã‚¯ãƒ©ã‚¹ã‚’å®šç¾©ã—ã¾ã™ã€‚ ãã‚Œã«åˆã‚ã›ã¦ã€ã„ãã¤ã‹ã®ä»˜éšã—ãŸã‚¯ãƒ©ã‚¹ã‚‚å®šç¾©ã—ã¦ãŠãã¾ã™ã€‚ã“ã‚ŒãŒbaseã‚¯ãƒ©ã‚¹ç¾¤ã«ãªã‚Šã¾ã™ã€‚
abstract class ModuleRootActivity : AppCompatActivity(), HasModuleInjector { @Inject lateinit var fragmentInjector: DispatchingAndroidInjector&amp;lt;Fragment&amp;gt; private lateinit var injector: ModuleActivityInjector override fun onCreate(savedInstanceState: Bundle?) { injector = moduleComponent.moduleInjector injector.activity.inject(this) super.onCreate(savedInstanceState) } protected abstract val moduleComponent: ModuleActivityComponent override fun supportFragmentInjector(): AndroidInjector&amp;lt;Fragment&amp;gt; = fragmentInjector } class ModuleActivityInjector @Inject constructor( internal val activity: DispatchingAndroidInjector&amp;lt;Activity&amp;gt; ) interface ModuleActivityComponent { val moduleInjector: ModuleActivityInjector } interface HasModuleInjector : HasSupportFragmentInjector abstract class ModuleChildFragment : Fragment() { override fun onAttach(context: Context) { AndroidSupportInjection.</description>
    </item>
    
    <item>
      <title>dexdumpãƒ¡ãƒ¢</title>
      <link>https://satoshun.github.io/2019/01/reading_dexdump_result/</link>
      <pubDate>Sat, 05 Jan 2019 02:15:50 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2019/01/reading_dexdump_result/</guid>
      <description>Android build-toolsã«ã¯dexdumpã¨ã„ã†dexãƒ•ã‚¡ã‚¤ãƒ«ã‚’é€†ã‚¢ã‚»ãƒ³ãƒ–ãƒ«ã™ã‚‹ãƒ„ãƒ¼ãƒ«ãŒã‚ã‚Šã¾ã™ã€‚ é€†ã‚¢ã‚»ãƒ³ãƒ–ãƒ«ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿ãŸã‹ã£ãŸã®ã§ãã‚Œã®ãƒ¡ãƒ¢ã§ã™ã€‚
å†…å®¹ã¯ã¾ã¨ã¾ã£ã¦ã„ã¾ã›ã‚“ã€‚è‡ªåˆ†ç”¨ã®ãƒ¡ãƒ¢ãƒ¬ãƒ™ãƒ«ã®è¨˜äº‹ã«ãªã‚Šã¾ã™ã€‚
dexãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒãƒ³ãƒ‰ã‹ã‚‰ä½œã‚‹ã«ã¯javacã¨d8ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã„ã¾ã™ã€‚d8ã‚³ãƒãƒ³ãƒ‰ã¯ https://r8.googlesource.com/r8 ã®æ‰‹é †é€šã‚Šã«ãƒ“ãƒ«ãƒ‰ã—ã¾ã™ã€‚
javac *.java // or kotlinc *.kt java -jar $R8_HOME/build/libs/d8.jar --lib $ANDROID_HOME/platforms/android-28/android.jar --release *.class  d8ã‚³ãƒãƒ³ãƒ‰ã§å‡ºæ¥ãŸdexãƒ•ã‚¡ã‚¤ãƒ«ã‚’dexdumpã§é€†ã‚¢ã‚»ãƒ³ãƒ–ãƒ«ã—ã¾ã™ã€‚
$ANDROID_HOME/build-tools/28.0.3/dexdump -d classes.dex  ä¾‹ãˆã°æ¬¡ã®Javaã‚³ãƒ¼ãƒ‰ã‚’é€†ã‚¢ã‚»ãƒ³ãƒ–ãƒ«ã—ã¦ã¿ã¾ã™ã€‚
class Test { public void main() { show(1, 10.0); String[] array = {&amp;quot;&amp;quot;}; toggle(array); fade(); drag(); hide(); click(); hover(); } public String show(int a, double d) { System.out.println(a); return &amp;quot;showed&amp;quot;; } void toggle(String[] args) { System.out.println(&amp;quot;toggle&amp;quot;); } protected void fade() { System.out.println(&amp;quot;fade&amp;quot;); } final protected void drag() { System.</description>
    </item>
    
    <item>
      <title>ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®é·ç§»ã«ã¤ã„ã¦è€ƒãˆã‚‹ Part1</title>
      <link>https://satoshun.github.io/2018/12/multi-module_transition_part1/</link>
      <pubDate>Mon, 31 Dec 2018 06:19:39 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/12/multi-module_transition_part1/</guid>
      <description>Androidã®ãƒˆãƒ¬ãƒ³ãƒ‰ã®1ã¤ã«ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆãŒã‚ã‚Šã¾ã™ã€‚ ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ã‚ˆã‚‹ãƒ¡ãƒªãƒƒãƒˆã¨ã—ã¦ã€
 ãƒ“ãƒ«ãƒ‰æ™‚é–“ã®çŸ­ç¸® ä¾å­˜é–¢ä¿‚ã‚’å„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«é–‰ã˜è¾¼ã‚ã‚‹ã“ã¨ã§ã‚³ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒ¼ãƒ³ã«ä¿ã¤ã“ã¨ãŒæœŸå¾…ã§ãã‚‹  ãªã©ãŒã‚ã‚Šã¾ã™ã€‚å¤§è¦æ¨¡ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ä¸Šè¨˜ã®ãƒ¡ãƒªãƒƒãƒˆã¯å¤§ãã„ãŸã‚ã€ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ç§»è¡Œã—ã¦ã„ãã“ã¨ã«ãªã‚‹ã¨æ€ã„ã¾ã™ã€‚
ã“ã®è¨˜äº‹ã¯ã€ãƒãƒ«ãƒãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ã—ãŸéš›ã®Activityé–“ã®é·ç§»ã«ã¤ã„ã¦è€ƒãˆãŸã„ã¨æ€ã„ã¾ã™ã€‚ç›®æŒ‡ã™ã‚´ãƒ¼ãƒ«ã¨ã—ã¦ã¯ã€
 å‹å®‰å…¨ã«ã—ãŸã„ã€ã‚‚ã—ãã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ãƒã‚§ãƒƒã‚¯ã™ã‚‹æ©Ÿæ§‹ãŒæ¬²ã—ã„ ã‚³ãƒ¼ãƒ‰é‡ã‚’æ¸›ã‚‰ã—ãŸã„  Part1ã§ã¯ã€é·ç§»å°‚ç”¨ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½œã‚‹æ–¹æ³•ã‚’è€ƒãˆã¦ã¿ã¾ã™ã€‚
ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰: satoshun-android-example/MultiActivityRouterExample
é·ç§»å°‚ç”¨ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½œã‚‹ ã¾ãšä¾å­˜é–¢ä¿‚ã®æ§‹ç¯‰ã®åŸå‰‡ã«ã€Circular Dependencyã€å¾ªç’°ä¾å­˜ã‚’ä½œã‚Šå‡ºã—ã¦ã¯ã„ã‘ãªã„ã¨ã„ã†ã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚
ä¾‹ãˆã°ã€ãƒ¡ã‚¤ãƒ³ç”»é¢ã¨ã‚µãƒ–ç”»é¢ã®2ç”»é¢ãŒã‚ã‚Šã€ãã‚Œã‚‰ã®ç”»é¢ã¯ç›¸äº’ã«è¡Œãæ¥ã™ã‚‹ã¨ã—ã¾ã™ã€‚ãã‚Œã‚‰ã‚’ãƒ¡ã‚¤ãƒ³ç”»é¢ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã€ã‚µãƒ–ç”»é¢ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã—ã¦åˆ‡ã‚Šå‡ºã™ã¨æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
 ãƒ¡ã‚¤ãƒ³ã§ã¯ã‚µãƒ–ç”»é¢ãŒå¿…è¦ãªã®ã§ã‚µãƒ–ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ä¾å­˜ã™ã‚‹ ã‚µãƒ–ã§ã¯ãƒ¡ã‚¤ãƒ³ç”»é¢ãŒå¿…è¦ãªã®ã§ãƒ¡ã‚¤ãƒ³ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ä¾å­˜ã™ã‚‹  ã“ã‚Œã§ã¯å¾ªç’°å‚ç…§ã«ãªã‚Šã€ä¾å­˜é–¢ä¿‚ãŒå£Šã‚Œã¦ã—ã¾ã†ã®ã§é§„ç›®ã§ã™ã€‚ãã“ã§DIPã€ä¾å­˜é–¢ä¿‚é€†è»¢ã®åŸå‰‡ã‚’ç”¨ã„ã¾ã™ã€‚ ç›´æ¥Activityã‚’å‚ç…§ã—ã¦ã„ã‚‹ã®ãŒå•é¡Œãªã®ã§ã€å„ç”»é¢ã«é·ç§»ã§ãã‚‹é·ç§»ç”¨ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®šç¾©ã™ã‚‹ã“ã¨ã§è§£æ±ºã‚’ç›®æŒ‡ã—ã¾ã™ã€‚
ãã“ã§ã€
 ãƒ¡ã‚¤ãƒ³ç”»é¢ã«é·ç§»ã™ã‚‹ãƒ¡ã‚¤ãƒ³ãƒ«ãƒ¼ã‚¿ãƒ¼ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« ã‚µãƒ–ç”»é¢ã«é·ç§»ã™ã‚‹ã‚µãƒ–ãƒ«ãƒ¼ã‚¿ãƒ¼ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«  ã®2ã¤ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½œã‚Šã¾ã™ã€‚
ãƒ¡ã‚¤ãƒ³ãƒ«ãƒ¼ã‚¿ãƒ¼ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ã¯æ¬¡ã®é·ç§»å°‚ç”¨ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®šç¾©ã—ã¾ã™ã€‚
interface MainRouter { fun routeToMain(context: Context): Intent }  ãã—ã¦ã€ãƒ¡ã‚¤ãƒ³ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§å®Ÿè£…ã—ã¾ã™ã€‚ã¾ãŸã€ä»Šå›ã¯Daggerã‚’ä½¿ã£ã¦ä¾å­˜ã‚’è§£æ±ºã—ã¾ã™ã€‚
internal class MainRouterImpl @Inject constructor() : MainRouter { override fun routeToMain(context: Context): Intent { return Intent(context, MainActivity::class.java) } } --- @Module internal interface MainActivityModule { @Binds fun bindMainRouter(impl: MainRouterImpl): MainRouter }  ã“ã‚Œã§ã€ä½¿ã†å´ã§ã‚ã‚‹ã‚µãƒ–ç”»é¢ã¯ã€ãƒ¡ã‚¤ãƒ³ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ä¾å­˜ã™ã‚‹ã®ã§ã¯ãªãã€ãƒ¡ã‚¤ãƒ³ãƒ«ãƒ¼ã‚¿ãƒ¼ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ä¾å­˜ã—é·ç§»ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>Coroutine &#43; AutoDisposeã‚’ä½œã£ã¦ã¿ãŸ</title>
      <link>https://satoshun.github.io/2018/12/coroutine_autodispose/</link>
      <pubDate>Sun, 23 Dec 2018 09:14:43 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/12/coroutine_autodispose/</guid>
      <description>Coroutine + AutoDisposeã®å®Ÿè£…ã«ã¤ã„ã¦è€ƒãˆã¦ã¿ã¾ã—ãŸã€‚çµè«–ã‹ã‚‰è¨€ã†ã¨ã€ContinuationInterceptorã‚’ä½¿ãˆã°ä¸Šæ‰‹ãã„ããã†ã§ã™ã€‚
ContinuationInterceptorã¨ã¯? ContinuationInterceptorã¯æ¬¡ã®ã‚ˆã†ãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§ã™ã€‚
/** * Marks coroutine context element that intercepts coroutine continuations. * The coroutines framework uses [ContinuationInterceptor.Key] to retrieve the interceptor and * intercepts all coroutine continuations with [interceptContinuation] invocations. */ @SinceKotlin(&amp;quot;1.3&amp;quot;) public interface ContinuationInterceptor : CoroutineContext.Element { public fun &amp;lt;T&amp;gt; interceptContinuation(continuation: Continuation&amp;lt;T&amp;gt;): Continuation&amp;lt;T&amp;gt; public fun releaseInterceptedContinuation(continuation: Continuation&amp;lt;*&amp;gt;) ... }  interceptContinuationã‹ã‚‰Continuationã‚’å—ã‘å–ã‚‹ã“ã¨ãŒã§ãã€Continuationã¯è‡ªèº«ã®CoroutineContextã‚’æŒã£ã¦ã„ã‚‹ã®ã§ã€ãã“ã‹ã‚‰Jobã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚ãã‚Œã‚’åˆ©ç”¨ã™ã‚‹ã“ã¨ã§Android Lifecycleã¨å”èª¿ã—ã¦å‹•ãContinuationInterceptorã‚’å®Ÿè£…ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
class LifecycleContinuationInterceptor( private val lifecycle: Lifecycle ) : ContinuationInterceptor { override val key: CoroutineContext.</description>
    </item>
    
    <item>
      <title>Fragmentã¨getViewLifecycleã®è©±</title>
      <link>https://satoshun.github.io/2018/12/view_lifecycle/</link>
      <pubDate>Fri, 21 Dec 2018 07:08:34 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/12/view_lifecycle/</guid>
      <description>ã“ã®è¨˜äº‹ã§ã¯Fragmentã§LiveDataã«Observerã‚’ç™»éŒ²ã™ã‚‹ã¨ãã¯Fragment#getViewLifecycleã‚’ä½¿ã†ã¨è‰¯ã„ã¨ã„ã†è©±ã‚’ã—ã¾ã™ã€‚
ã¾ãšã€Fragmentã®ãŠãŠã¾ã‹ãªãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã¯æ¬¡ã®ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚
 onAttach onCreate  onCreateView onViewCreated  &amp;hellip;  onDestoryView  onDestroy onDetach  ã“ã“ã§é‡è¦ãªã®ã¯ã€onDestroyãŒå‘¼ã°ã‚Œã‚‹ã“ã¨ãªãã€è¤‡æ•°å›onCreateViewãŒå‘¼ã°ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ç‚¹ã§ã™ã€‚
ä¾‹ãˆã°ã€æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã¯é–“é•ã£ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
class MainFragment: Fragment() { ... override fun onViewCreated(view: View, savedInstanceState: Bundle?) { super.onViewCreated(view, savedInstanceState) viewModel.data.observe(this, Observer { ... }) } }  ãªãœãªã‚‰ã€LiveDataã«æ¸¡ã—ãŸthisï¼ˆLifecycleOwnerï¼‰ã¯ã€è‡ªèº«ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã«é§†å‹•ã™ã‚‹ãŸã‚ã§ã™ã€‚ ã“ã®ObserverãŒé–‹æ”¾ã•ã‚Œã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã¯ã€Fragment#onDestroyãŒã‚³ãƒ¼ãƒ«ã•ã‚ŒãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã«ãªã‚Šã¾ã™ã€‚ ã—ã‹ã—å‰è¿°ã—ãŸã¨ãŠã‚Šã€Fragment#onDestroyãŒã‚³ãƒ¼ãƒ«ã•ã‚Œãšã«ã€è¤‡æ•°å›onCreateViewãŒã‚³ãƒ¼ãƒ«ã•ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚ã€å‰ã®ObserverãŒé–‹æ”¾ã•ã‚Œãšã«æ®‹ã£ã¦ã—ã¾ã„ã¾ã™ã€‚
å‰è¿°ã®ã‚³ãƒ¼ãƒ‰ã®Observerã¯Fragmentæœ¬ä½“ã®Lifecycleã«é§†å‹•ã•ã‚Œã‚‹ã®ã§ã¯ãªãã€Fragmentã®Viewã«é§†å‹•ã™ã‚‹ãŸã‚ã€ã“ã®å•é¡ŒãŒèµ·ã“ã‚Šã¾ã™ã€‚ ã‚ˆã£ã¦ã€Fragmentã«ã¯Viewç”¨ã®LifecycleãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚ãã‚ŒãŒã€Fragment#getViewLifecycleã§ã™ã€‚
å‰è¿°ã®ã‚³ãƒ¼ãƒ‰ã¯æ¬¡ã®ã‚ˆã†ã«æ›¸ãã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
class MainFragment: Fragment() { ... override fun onViewCreated(view: View, savedInstanceState: Bundle?) { super.onViewCreated(view, savedInstanceState) // Viewã®LifecycleOwnerã‚’æ¸¡ã™ viewModel.data.observe(viewLifecycleOwner, Observer { ... }) } }  ã“ã®ã‚ˆã†ã«æ›¸ãã“ã¨ã§ã€ObserverãŒViewã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã«é§†å‹•ã™ã‚‹ãŸã‚ã€è¤‡æ•°ã®ObserverãŒç™»éŒ²ã•ã‚Œã‚‹å•é¡Œã‚’å›é¿ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ï¼ï¼</description>
    </item>
    
    <item>
      <title>Dagger &#43; ViewModelã®åŸºæœ¬ç·¨ &#43; å®Ÿä¾‹ç·¨</title>
      <link>https://satoshun.github.io/2018/12/dagger_with_viewmodel/</link>
      <pubDate>Wed, 19 Dec 2018 09:59:20 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/12/dagger_with_viewmodel/</guid>
      <description>ã“ã®è¨˜äº‹ã¯Daggerã¨Jetpackã®ViewModelã‚’ã‚ã‚‹ç¨‹åº¦çŸ¥ã£ã¦ã„ã‚‹å‰æã§é€²ã‚“ã§ã„ãã¾ã™ğŸ˜ƒ
åŸºæœ¬ç·¨ ä¸€ç·’ã«Dagger + ViewModelã‚’ä½¿ã†ã®ã¯ãƒ„ãƒ©ãƒŸãŒã‚ã‚Šã¾ã™ã€‚ãã‚Œã¯ã€ViewModelã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã¯ViewModelProviderã‚’ä»‹ã—ã¦è¡Œã†å¿…è¦ãŒã‚ã‚‹ãŸã‚ã§ã™ã€‚
ä¾‹ãˆã°ã€æ¬¡ã®ã‚³ãƒ¼ãƒ‰ã¯é–“é•ã£ã¦ã„ã¾ã™ã€‚
class MainViewModel @Inject constructor(...): ViewModel() class MainActivity { @Inject lateinit var viewModel: MainViewModel ... }  ã“ã®æ›¸ãæ–¹ã ã¨MainViewModelã¯Daggerå†…ã§è‡ªå‹•çš„ã«ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã•ã‚Œã¦ã—ã¾ã†ã®ã§ã€ViewModelProviderã‚’ä»‹ã—ã¦ãã‚Œã¾ã›ã‚“ã€‚ã‚ˆã£ã¦æ¬¡ã®ã‚ˆã†ã«æ›¸ãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
class MainViewModel(...): ViewModel() @Module class MainActivityModule { @Provides fun provideMainViewModel(...) : MainViewModel { // ViewModelProviderã‚’ä½¿ã£ã¦ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã™ã‚‹ return ViewModelProviders.of(...).get(MainViewModel::class.java) } } class MainActivity { @Inject lateinit var viewModel: MainViewModel ... }  @Providesã‚’ä½¿ã„ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã®æ–¹æ³•ã‚’æ˜ç¤ºçš„ã«è¨˜è¿°ã—ã¾ã™ã€‚ã“ã‚Œã§ã€ViewModelProviderã‚’ä»‹ã—ã¦MainViewModelã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã‚’ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
ã¾ãŸã€ViewModelã‚’ç›´æ¥æ³¨å…¥ã›ãšã«ã€ViewModelProvider.Factoryã‚’æ³¨å…¥ã—ã€ViewModelã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã¯Activityï¼ˆor Fragmentï¼‰ã«ä»»ã›ã‚‹æ–¹æ³•ãŒã‚ã‚Šã¾ã™ã€‚ ã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ã¨ãã¯ã€activity-ktxï¼ˆor fragment-ktxï¼‰ã«è¿½åŠ ã•ã‚ŒãŸæ‹¡å¼µé–¢æ•°ã¨çµ„ã¿åˆã‚ã›ã‚‹ã¨ã„ã„æ„Ÿã˜ã«æ›¸ã‘ã¾ã™ã€‚
class MainViewModel(...): ViewModel() or class MainViewModel @Inject constructor(...): ViewModel() @Module class MainActivityModule { @Provides fun provideViewModelFactory(.</description>
    </item>
    
    <item>
      <title>Gradleã®Matching repositories to dependenciesã‚’ä½¿ã£ã¦ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å…ˆã‚’æŒ‡å®šã™ã‚‹</title>
      <link>https://satoshun.github.io/2018/12/gradle_deps_match/</link>
      <pubDate>Thu, 13 Dec 2018 11:16:06 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/12/gradle_deps_match/</guid>
      <description>JitPackã‹ã‚‰ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã‹ã£ãŸã¨ã“ã‚ã€JCenterã‹ã‚‰ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã—ã¾ã†äº‹ä»¶ãŒã‚ã‚Šã¾ã—ãŸã€‚ è©³ã—ãã¯æ¬¡ã®ãƒªãƒ³ã‚¯ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚A Confusing Dependency
å¾“æ¥ã®Gradle4ç³»ã§ã¯ãŠãã‚‰ãã€ä¸Šè¨˜ã®å•é¡Œã‚’è§£æ±ºã™ã‚‹ã“ã¨ã¯å‡ºæ¥ãªã„ã€ã‚‚ã—ãã¯éå¸¸ã«å›°é›£ã§ã—ãŸã€‚ã—ã‹ã—æ–°ã—ãGradle5.1ã« Matching repositories to dependencies ãŒå°å…¥ã•ã‚Œã€ä¸Šè¨˜ã®å•é¡Œã‚’è§£æ±ºã§ãã¾ã™ã€‚ï¼ˆGradle5.1ã¯ã¾ã rcã§ã™ï¼‰
ã¾ãšæœ€åˆã«å¾“æ¥ã®æ›¸ãæ–¹ã‚’èª¬æ˜ã—ã¦ã€æ¬¡ã«æ–°æ©Ÿèƒ½ã‚’ä½¿ã£ãŸæ›¸ãæ–¹ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚ä»Šå›ã¯ä¾‹ã¨ã—ã¦ã€cloudflareã®SDKã‚’ä¾å­˜é–¢ä¿‚ã«å…¥ã‚Œã‚‹ã“ã¨ã‚’ç›®æŒ‡ã—ã¾ã™ã€‚ ã¾ãŸã€ä»Šå›ã®æ¤œè¨¼ã«ã¯Gradle 5.1-rc-1ã‚’ä½¿ã„ã¾ã—ãŸã€‚ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ã“ã“ã«ã‚ã‚Šã¾ã™
ã¾ãšã¯å¾“æ¥ã®æ›¸ãæ–¹ã§ã™ã€‚
// topã®build.gradle allprojects { repositories { ... maven { url &amp;quot;https://storage.googleapis.com/cloudflare-maven/public/&amp;quot; } } } --- // projectã®build.gradle dependencies { ... implementation &amp;quot;com.cloudflare:cloudflare-mobile-sdk:2.1.0@aar&amp;quot; }  ã“ã‚Œã ã¨å…¨ã¦ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«å¯¾ã—ã¦ã€repositoriesã§æŒ‡å®šã—ãŸhttps://storage.googleapis.com/cloudflare-maven/public/ã¸ãƒã‚§ãƒƒã‚¯ã‚’ã—ã«ã„ãã¾ã™ã€‚ã“ã®Urlã¯cloudflareã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã—ã‹ä½¿ã‚ã‚Œãªã„ã“ã¨ãŒæƒ³å®šã•ã‚Œã‚‹ã®ã§ã€ä»–ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«å¯¾ã—ã¦ã¯ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰åˆ¶é™ã‚’ã‹ã‘ãŸã„ã¨ã“ã‚ã§ã™ã€‚
æ¬¡ã«æ–°æ©Ÿèƒ½ã‚’ä½¿ã£ãŸæ›¸ãæ–¹ã§ã™ã€‚
// topã®build.gradle allprojects { repositories { ... maven { url &amp;quot;https://storage.googleapis.com/cloudflare-maven/public/&amp;quot; content { // group idãŒcom.cloudflareã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã ã‘ã“ã®URLãŒæœ‰åŠ¹ã«ãªã‚‹ includeGroup &amp;quot;com.cloudflare&amp;quot; } } } } --- // projectã®build.gradleã¯ä¸€ç·’ dependencies { ... implementation &amp;quot;com.</description>
    </item>
    
    <item>
      <title>Truthã®ãƒ¡ãƒªãƒƒãƒˆã€ç‰¹å¾´ã«ã¤ã„ã¦</title>
      <link>https://satoshun.github.io/2018/12/truth_getting_started/</link>
      <pubDate>Wed, 12 Dec 2018 00:21:12 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/12/truth_getting_started/</guid>
      <description>Truthã¯GoogleãŒé–‹ç™ºã‚’ã—ã¦ã„ã‚‹ãƒ†ã‚¹ãƒˆã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚
å¾“æ¥ã®JUnitã‚¹ã‚¿ã‚¤ãƒ«ã®ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ã«æ¯”ã¹ã€å¤§ãã2ã¤ã®åˆ©ç‚¹ãŒã‚ã‚Šã¾ã™ã€‚
 readableã«ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãŒæ›¸ã‘ã‚‹ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®å¤±æ•—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒã‚ã‹ã‚Šã‚„ã™ã„  ãã‚Œãã‚Œã«ã¤ã„ã¦èª¬æ˜ã—ã¦ã„ãã¾ã™ã€‚
readableã«ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãŒæ›¸ã‘ã‚‹ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®benefitã«ã‚ã‚‹ã‚µãƒ³ãƒ—ãƒ«ã‚’å–ã‚Šä¸Šã’èª¬æ˜ã—ã¾ã™ã€‚ http://google.github.io/truth/benefits
ã¾ãšå¾“æ¥ã®JUnitã‚¹ã‚¿ã‚¤ãƒ«ã‚’ä½¿ã£ã¦æ›¸ãã¾ã™ã€‚
Optional&amp;lt;String&amp;gt; middleName = user.getMiddleName(); assertFalse(middleName.isPresent());  assertFalseã€isPresentã‚’ä½¿ã£ã¦ãŠã‚Šã€å¦å®šã®ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãªã®ã§ç›´æ„Ÿçš„ã§ãªãç†è§£ã™ã‚‹ã®ã«å°‘ã—æ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™ã€‚ï¼ˆå€‹äººå·®ã¯ã‚ã‚Šã¾ã™ï¼‰
ã“ã‚ŒãŒTruthã‚’ä½¿ã†ã¨æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
Optional&amp;lt;String&amp;gt; middleName = user.getMiddleName(); assertThat(middleName).isAbsent();  assertThatã¯Truthã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹ãƒ¡ã‚½ãƒƒãƒ‰ã§ã™ã€‚middleNameãŒabsentã€å€¤ãŒå­˜åœ¨ã—ãªã„ã“ã¨ã‚’ãƒ†ã‚¹ãƒˆã—ã¦ã„ã‚‹ã“ã¨ãŒã€JUnitã‚¹ã‚¿ã‚¤ãƒ«ã‚ˆã‚Šå¼·ãä¼ã‚ã‚Šã¾ã™ã€‚
ä¸Šè¨˜ã®isAbsentã¯Optionalã®ãŸã‚ã«ç”¨æ„ã•ã‚ŒãŸã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ã‚½ãƒƒãƒ‰ã§ã™ã€‚assertThatã«æ¸¡ã—ãŸå¼•æ•°ã«é©ã—ãŸã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ã†ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚ ä¾‹ãˆã°Iterableã«ã¯ã€containsAnyInã‚„isEmptyãªã©ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚å‹ã”ã¨ã«ä¸€èˆ¬çš„ãªãƒ†ã‚¹ãƒˆã§è¡Œã†ã§ã‚ã‚ã†ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãŒç”¨æ„ã•ã‚Œã¦ãŠã‚Šã€readableã«conciseã«æ›¸ãã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
å¤±æ•—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒã‚ã‹ã‚Šã‚„ã™ã„ ã“ã¡ã‚‰ã‚‚benefitã«ã‚ã‚‹ã‚µãƒ³ãƒ—ãƒ«ã‚’å–ã‚Šä¸Šã’ã¾ã™ã€‚
ã¾ãšã¯å¾“æ¥ã«JUnitã‚¹ã‚¿ã‚¤ãƒ«ã‹ã‚‰ã€‚
assertTrue(googleColors.contains(PINK));  ã“ã®å ´åˆã€å¤±æ•—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯ç‰¹ã«ã‚ã‚Šã¾ã›ã‚“ã€‚ã€Œtrueã‚’è¡¨æ˜ã—ã¦ã‚‹éƒ¨åˆ†ã«falseãŒæ¥ãŸã€ç¨‹åº¦ã®ã‚‚ã®ã—ã‹ãªãã€åŸå› ç‰¹å®šã™ã‚‹ã®ãŒå¤§å¤‰ã§ã™ã€‚ å¤±æ•—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚«ã‚¹ã‚¿ãƒ ã™ã‚‹ã“ã¨ã¯å‡ºæ¥ã¾ã™ãŒã€ã™ã¹ã¦ã®ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ã«å¯¾ã—ã¦å®šç¾©ã™ã‚‹ã®ã¯éª¨ãŒæŠ˜ã‚Œã¾ã™ã€‚
æ¬¡ã«Truthã‚¹ã‚¿ã‚¤ãƒ«ã§ã™ã€‚
assertThat(googleColors).contains(PINK);  &amp;lt;[BLUE, RED, YELLOW, BLUE, GREEN, RED]&amp;gt; should have contained &amp;lt;PINK&amp;gt; ã®ã‚ˆã†ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå‡ºã¾ã™ã€‚ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹æƒ…å ±ã‚„ã€ã“ã†ãªã‚‹ã¹ãã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå«ã¾ã‚Œã¦ãŠã‚ŠåŸå› ç‰¹å®šãŒã—ã‚„ã™ããªã£ã¦ã„ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®æ®µéšã§ã‹ãªã‚Šè¦‹ã‚„ã™ã„ã€ã‚ã‹ã‚Šã‚„ã™ã„å¤±æ•—ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‡ºåŠ›ã—ã¦ãã‚Œã¾ã™ã€‚
ä»¥ä¸ŠãŒTruthã®ãƒ¡ãƒªãƒƒãƒˆã«ãªã‚Šã¾ã™ã€‚
è£œè¶³ Truth-Androidãƒ©ã‚¤ãƒ–ãƒ©ãƒª JetPackã«Truth + Androidç”¨ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚ã“ã‚Œã‚’ä½¿ã†ã“ã¨ã§Bundleã€Intentãªã©ã®Androidå›ºæœ‰ã®ã‚¯ãƒ©ã‚¹ã®ãƒ†ã‚¹ãƒˆãŒæ›¸ãã‚„ã™ããªã‚Šã¾ã™ã€‚ ä¾‹ãˆã°ã€Intentã«ã¯ä»¥ä¸‹ã®ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
hasComponent hasComponentClass hasComponentPackage hasPackage hasAction hasNoAction hasData hasType extras categories hasFlags  Intentã®ä¸­èº«ã‚’ç¢ºèªã™ã‚‹ä¾¿åˆ©ãƒ¡ã‚½ãƒƒãƒ‰ãŒå®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚Truth-Androidã‚’ä½¿ã†ã“ã¨ã§ã€ã‚ˆã‚ŠAndroidç’°å¢ƒã§ãƒ†ã‚¹ãƒˆãŒæ›¸ãã‚„ã™ããªã‚‹ã“ã¨ãŒæœŸå¾…å‡ºæ¥ã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>Android: namespacedRClassãƒ•ãƒ©ã‚°ã§Rã‚¯ãƒ©ã‚¹ã‚’å°ã•ãä¿ã¤</title>
      <link>https://satoshun.github.io/2018/12/namespacedrclass/</link>
      <pubDate>Sun, 09 Dec 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/12/namespacedrclass/</guid>
      <description>Android Gradle Pluginï¼ˆä»¥ä¸‹AGPï¼‰3.3ã®alphaã®ã©ã“ã‹ã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§namespacedRClassãƒ•ãƒ©ã‚°ãŒæ–°ã—ãè¿½åŠ ã•ã‚ŒãŸã®ã§ç´¹ä»‹ã—ã¾ã™ã€‚ æœ¬è¨˜äº‹ã§ã¯3.4.0-alpha07ã§è©¦ã—ã¾ã—ãŸã€‚
ã¾ãšç¾çŠ¶ã®å•é¡Œç‚¹ã¨ã—ã¦ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®Rã‚¯ãƒ©ã‚¹ã®ã‚µã‚¤ã‚ºãŒå¤§ãããªã‚‹èª²é¡ŒãŒã‚ã‚Šã¾ã™ã€‚ãã‚Œã¯ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®Rã‚¯ãƒ©ã‚¹ã¯ä¾å­˜é–¢ä¿‚ã«ã‚ã‚‹Rã‚¯ãƒ©ã‚¹ãŒã©ã‚“ã©ã‚“ãƒãƒ¼ã‚¸ã•ã‚Œã¦ã„ããŸã‚ã§ã™ã€‚ ãã‚Œã‚’è§£æ±ºã™ã‚‹ãŸã‚ã«namespacedRClassãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚ä½¿ã„æ–¹ã¯ç°¡å˜ã§ã€æ¬¡ã®è¨˜è¿°ã‚’gradle.propertiesã«è¿½åŠ ã™ã‚‹ã ã‘ã§ã™ã€‚
android.namespacedRClass=true  ã§ã¯ã€ã“ã‚Œã‹ã‚‰ã“ã®ãƒ•ãƒ©ã‚°ãŒtrueã¨falseã§ã©ã®ã‚ˆã†ã«Rã‚¯ãƒ©ã‚¹ã®å†…å®¹ãŒå¤‰ã‚ã‚‹ã‹è¦‹ã¦ã„ãã¾ã™ã€‚ ä¾‹ã¨ã—ã¦ã€appcompatã«ä¾å­˜ã—ã¦ã„ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ç”¨æ„ã—ã¾ã™ã€‚
ã¾ãšã¯ã€namespacedRClass=falseã®æ™‚ã®Rã‚¯ãƒ©ã‚¹ã§ã™ã€‚
public final class R { private R() {} public static final class anim { private anim() {} public static final int abc_fade_in = 0x7f010000; public static final int abc_fade_out = 0x7f010001; public static final int abc_grow_fade_in_from_bottom = 0x7f010002; public static final int abc_popup_enter = 0x7f010003; ... ...  ä¾å­˜é–¢ä¿‚ã«ã‚ã‚‹appcompatã®Rã‚¯ãƒ©ã‚¹ã®å†…å®¹ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚
ã§ã¯æ¬¡ã«ã€namespacedRClass=trueã®æ™‚ã§ã™ã€‚
public final class R { private R() {} public static final class color { private color() {} public static final int red3 = 0x7f04004b; } public static final class id { private id() {} public static final int title = 0x7f0700b1; } public static final class layout { private layout() {} public static final int base3 = 0x7f09001d; } public static final class string { private string() {} public static final int base_string3 = 0x7f0b002a; } }  ã“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§å®šç¾©ã—ãŸãƒªã‚½ãƒ¼ã‚¹ã®å†…å®¹ã—ã‹å«ã¾ã‚Œã¦ã„ãªã„ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚appcompatã®Rã‚¯ãƒ©ã‚¹ã¯å«ã¾ã‚Œã¦ã„ã¾ã›ã‚“ã€‚ ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®Rã‚¯ãƒ©ã‚¹ã®ã‚µã‚¤ã‚ºãŒã‹ãªã‚Šå°ã•ãã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã—ãŸ!</description>
    </item>
    
    <item>
      <title>Gradle: Dagger2ã§apiã¨implementationã©ã¡ã‚‰ã‚’ä½¿ã†ã‹è­°è«–ã•ã‚Œã¦ã„ã‚‹</title>
      <link>https://satoshun.github.io/2018/12/gradle-api_vs_implementation/</link>
      <pubDate>Sat, 08 Dec 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/12/gradle-api_vs_implementation/</guid>
      <description>æ³¨æ„ ã“ã®è¨˜äº‹ã¯apiã¨implementationã®èª¬æ˜ã‚’ã™ã‚‹é¡ã®è¨˜äº‹ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
Gradleã§compileãŒDeprecatedã«ãªã‚Šã€implementationã¾ãŸã¯apiã‚’ä½¿ã†ã“ã¨ãŒæ¨å¥¨ã•ã‚Œã¦ã„ã¾ã™ã€‚ ãã‚Œã«åˆã‚ã›ã¦å¤šãã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®READMEã®compileãŒimplementationã¾ãŸã¯apiã«ç½®ãæ›ã‚ã‚Šã¾ã—ãŸã€‚
Dagger2ã§ã‚‚compileã‚’implementationã«ç½®ãæ›ãˆã‚‹PRãŒå‡ºã•ã‚Œã¾ã—ãŸã€‚https://github.com/google/dagger/pull/1130
å†…å®¹ãŒèˆˆå‘³æ·±ã‹ã£ãŸã®ã§ã¾ã¨ã‚ã¦ã¿ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚
ã¾ãšæœ€åˆã®PRã¯æ¬¡ã®å·®åˆ†ã«ãªã£ã¦ã„ã¾ã—ãŸã€‚compileã‚’implementationã«ç½®ãæ›ãˆã¦ã„ã¾ã™ã€‚
// Add Dagger dependencies dependencies { - compile &#39;com.google.dagger:dagger:2.x&#39; + implementation &#39;com.google.dagger:dagger:2.x&#39; annotationProcessor &#39;com.google.dagger:dagger-compiler:2.x&#39; } - compile &#39;com.google.dagger:dagger-android:2.x&#39; - compile &#39;com.google.dagger:dagger-android-support:2.x&#39; // if you use the support libraries + implementation &#39;com.google.dagger:dagger-android:2.x&#39; + implementation &#39;com.google.dagger:dagger-android-support:2.x&#39; // if you use the support libraries  ã“ã“ã§jakeã•ã‚“ãŒ
 I think this one is somewhat debatable, but you&amp;rsquo;re likely to mark it as implementation in every module that contains the compiler so it&amp;rsquo;s probably a non-problem.</description>
    </item>
    
    <item>
      <title>Data Bindingã®ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ãŒ3.4.0-alpha07ã‹ã‚‰è¦‹ã‚„ã™ããªã‚‹</title>
      <link>https://satoshun.github.io/2018/12/databinding_decrease_error_log/</link>
      <pubDate>Fri, 07 Dec 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/12/databinding_decrease_error_log/</guid>
      <description>Data Bindingã¨Dagger2ãªã©ã®ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ç³»ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’çµ„ã‚ã›ã¦ä½¿ã†ã¨ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ãŒè†¨å¤§ã«ãªã‚‹å•é¡ŒãŒã‚ã‚Šã¾ã™ã€‚
ãã‚ŒãŒ3.4.0-alpha07ä»¥é™ã§æ”¹å–„ã•ã‚Œã‚‹è¦‹è¾¼ã¿ã§ã™ğŸ‰
è©³ç´°ã¯ã“ã“ã«ã‚ã‚Šã¾ã™ã€‚https://issuetracker.google.com/issues/116541301
ã“ã®è¨˜äº‹ã§ã¯ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’ãƒ™ãƒ¼ã‚¹ã«ã€ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã®å¤‰åŒ–ãŒã©ã®ã‚ˆã†ã«å¤‰ã‚ã£ãŸã‹ã‚’ç´¹ä»‹ã—ã€å®Ÿéš›ã«ã‚¢ãƒ—ãƒªå´ã®ã‚³ãƒ¼ãƒ‰ã‚’ã©ã®ã‚ˆã†ã«å¤‰æ›´ã™ã‚‹ã‹ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚
ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ã“ã“ã«ã‚ã‚Šã¾ã™ğŸ˜ƒ
ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã®å¤‰åŒ– ã¾ãšã©ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã‚‹ã‹ã‚’è¦‹ã¦ã„ãã¾ã™ã€‚ é©å½“ã«ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã—ã€Daggerå‘¨ã‚Šã®ã‚³ãƒ¼ãƒ‰ã§ã‚¨ãƒ©ãƒ¼ã‚’å‡ºã—ã¦ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚
ã¾ãšã¯Data Binding 3.2.1ã‹ã‚‰ã€‚
&amp;gt; Task :app:kaptGenerateStubsDebugKotlin e: /Users/stsn/git/github.com/satoshun-android-example/DataBindingApiDeprecateExample/app/build/generated/data_binding_base_class_source_out/debug/dataBindingGenBaseClassesDebug/out/com/github/satoshun/example/sample/databinding/MainAct79Binding.java:17: error: cannot find symbol protected MainAct79Binding(DataBindingComponent _bindingComponent, View _root, ^ symbol: class DataBindingComponent location: class MainAct79Binding e: /Users/stsn/git/github.com/satoshun-android-example/DataBindingApiDeprecateExample/app/build/generated/data_binding_base_class_source_out/debug/dataBindingGenBaseClassesDebug/out/com/github/satoshun/example/sample/databinding/MainAct79Binding.java:31: error: cannot find symbol boolean attachToRoot, @Nullable DataBindingComponent component) { ^ ... ... ...  Data Bindingå‘¨ã‚Šã®ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ãŒç„¡é™ã«å‡ºã¾ã™ã€‚æ‚²ã—ã„ğŸ˜‚
æ¬¡ã«3.4.0-alpha07ã§ã™ã€‚
&amp;gt; Task :app:kaptGenerateStubsDebugKotlin e: /Users/stsn/git/github.com/satoshun-android-example/DataBindingApiDeprecateExample/app/build/tmp/kapt3/stubs/debug/com/github/satoshun/example/sample/MainActivityBuilder.java:6: error: incompatible types: NonExistentClass cannot be converted to Annotation @error.NonExistentClass()  ã¡ã‚ƒã‚“ã¨å•é¡ŒãŒã‚ã‚‹ã‚³ãƒ¼ãƒ‰ç®‡æ‰€ã®ã¿ã§ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ãŒå‡ºã¾ã—ãŸï¼ï¼Data Bindingå‘¨ã‚Šã®ã‚¨ãƒ©ãƒ¼ã¯å‡ºã¦ã„ã¾ã›ã‚“ï¼ï¼å¬‰ã—ã„ğŸ˜ƒ</description>
    </item>
    
    <item>
      <title>Kotlin Coroutineã‚’å°å…¥ã—ãŸã‚‰ã©ã‚Œã ã‘ãƒ“ãƒ«ãƒ‰ã‚¿ã‚¤ãƒ ãŒå¢—ãˆãã†ã‹æ¤œè¨¼ã—ãŸ</title>
      <link>https://satoshun.github.io/2018/12/coroutine_build_perf/</link>
      <pubDate>Wed, 05 Dec 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/12/coroutine_build_perf/</guid>
      <description>æ³¨æ„: è¨ˆæ¸¬æ–¹æ³•ã¯å®Ÿç’°å¢ƒã«å…¨ãå³ã—ã¦ã„ãªã„ã®ã§æ„å‘³ãŒãªã„å¯èƒ½æ€§ãŒé«˜ã„ã§ã™ã€‚
ç’°å¢ƒ  AGP3.4.0-alpha06 Kotlin 1.3.10 Kotlinx.coroutine 1.0.1 Gradle 5.0  æ¯”è¼ƒå¯¾è±¡  kotlinx.coroutineã‚’ä½¿ã£ãŸã‚µãƒ³ãƒ—ãƒ«  ã‚¯ãƒ©ã‚¹æ•° 300 å„ã‚¯ãƒ©ã‚¹ã¯7ã¤ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒã¡ã€ãã®ä¸­ã§coroutine builderã‚„suspendé–¢æ•°ã‚’ã‚³ãƒ¼ãƒ«ã—ã¦ã„ã‚‹ 300 * 7ã®2100ç®‡æ‰€ãŒCoroutineé–¢é€£ã®ã‚³ãƒ¼ãƒ‰ã«ãªã‚Šã¾ã™  kotlinx.coroutineã‚’ä½¿ã‚ãªã„ã‚µãƒ³ãƒ—ãƒ«  ã‚¯ãƒ©ã‚¹æ•° 300 å„ã‚¯ãƒ©ã‚¹ã¯7ã¤ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒã¡ã€ãã®ä¸­ã§é©å½“ãªãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆHandler().post {}ï¼‰ã‚’ã‚³ãƒ¼ãƒ«ã—ã¦ã„ã‚‹  ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰  è¨ˆæ¸¬ã‚³ãƒãƒ³ãƒ‰ Build Scanã‚’ä½¿ã£ã¦è¨ˆæ¸¬ã—ã¾ã™ã€‚ãã®éš›ã€‚build-cacheã¯offã«ã—ã¾ã™ã€‚
./gradlew clean ./gradlew build --no-build-cache --scan  ä¸¡ã‚µãƒ³ãƒ—ãƒ«ã®ã‚¯ãƒ©ã‚¹æ•°ã€ãƒ¡ã‚½ãƒƒãƒ‰æ•°ã‚’åˆã‚ã›ãŸã ã‘ãªã®ã§ã€å…¨ãæ­£å½“ãªæ¯”è¼ƒã§ãªã„ã“ã¨ã‚’ç•™æ„ãã ã•ã„ã€‚ ã¾ãŸè©¦è¡Œå›æ•°ã¯10å›ç¨‹åº¦ã§ã€æœ€çµ‚çµæœã®ã¿ã‚’ä»¥ä¸‹ã«æ²è¼‰ã—ã¾ã™ã€‚
kotlinx.coroutineã‚’ä½¿ã† Time spent executing tasks 1m 16.034s All tasks	207	2m 42.833s Tasks avoided	12 (09.7%)	0.062s From cache	0 (00.0%)	0.000s Up-to-date	12 (09.</description>
    </item>
    
    <item>
      <title>MutableãªLiveDataã‚’ç‰¹å®šã®ã‚¯ãƒ©ã‚¹å¤–ã‹ã‚‰æ›´æ–°ã§ããªãã™ã‚‹</title>
      <link>https://satoshun.github.io/2018/12/livedata_helper/</link>
      <pubDate>Sat, 01 Dec 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/12/livedata_helper/</guid>
      <description>LiveDataã®å€¤ã‚’æ›´æ–°ã—ãŸã„æ™‚ã€MutableLiveDataã‚’ä½¿ã†ã®ãŒä¸€èˆ¬çš„ã ã¨æ€ã„ã¾ã™ã€‚
class MainViewModel { val hoge = MutableLiveData&amp;lt;Int&amp;gt;() }  ã“ã®æ›¸ãæ–¹ã ã¨ã€å¤–ã®ã‚¯ãƒ©ã‚¹ã‹ã‚‰å€¤ã‚’æ›´æ–°ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚
val viewModel = MainViewModel() // ok viewModel.hoge.postValue(10000)  å¤–ã®ã‚¯ãƒ©ã‚¹ã‹ã‚‰ã¯æ›´æ–°å‡ºæ¥ãªã„ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã«ã¯LiveDataã«å‹å¤‰æ›ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
ä¾‹ãˆã°æ¬¡ã®ã‚ˆã†ã«æ›¸ãã¾ã™ã€‚
class MainViewModel { private val _hoge = MutableLiveData&amp;lt;Int&amp;gt;() val hoge: LiveData&amp;lt;Int&amp;gt; = _hoge // ã“ã“ã§LiveDataã«å‹å¤‰æ› }  ã“ã†ã™ã‚‹ã“ã¨ã§ã€å¤–ã®ã‚¯ãƒ©ã‚¹ã‹ã‚‰ã¯MutableLiveDataãŒç›´æ¥è¦‹ãˆãªããªã‚Šã€æ˜ç¤ºçš„ã«å‹å¤‰æ›ã‚’ã—ãªã„é™ã‚ŠLiveDataã®å€¤ã‚’æ›´æ–°ã§ããªããªã‚Šã¾ã™ã€‚
ãŸã ã“ã®æ›¸ãæ–¹ã¯ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å®šç¾©ãŒå¢—ãˆã‚‹ã®ã§ã¨ã¦ã‚‚ã‚ã‚“ã©ãã•ã„ã§ã™ã€‚ ãªã®ã§ã€ãã‚Œã®è§£æ±ºç­–ã‚’ä»¥ä¸‹ã§ç´¹ä»‹ã—ã¾ã™ã€‚
ãã®1 ã¾ãšã‚³ãƒ¼ãƒ‰ã‚’ã®ã›ã¾ã™ã€‚
abstract class ViewModel2 { protected fun &amp;lt;T&amp;gt; ViewModelLiveData2&amp;lt;T&amp;gt;.postValue(value: T) { postValue(value) } protected fun &amp;lt;T&amp;gt; ViewModelLiveData2&amp;lt;T&amp;gt;.setValue(value: T) { setValue(value) } }  // ViewModel2ã¨åŒã˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«å®šç¾© public class ViewModelLiveData2&amp;lt;T&amp;gt; extends LiveData&amp;lt;T&amp;gt; { @Override protected void postValue(T value) { super.</description>
    </item>
    
    <item>
      <title>Retrofitã§ã‚«ã‚¹ã‚¿ãƒ ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ã†</title>
      <link>https://satoshun.github.io/2018/11/retrofit_custom_annotation/</link>
      <pubDate>Fri, 23 Nov 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/11/retrofit_custom_annotation/</guid>
      <description>Retrofit 2.5.0ã‹ã‚‰ã‚«ã‚¹ã‚¿ãƒ ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãŒä½¿ãˆã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€ãã‚Œã®ç´¹ä»‹ã§ã™ã€‚
ä¾‹ã‚’ã‚ã’ã¦èª¬æ˜ã—ã¾ã™ã€‚ç‰¹å®šã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ãƒ˜ãƒƒãƒ€ãƒ¼ã«èªè¨¼æƒ…å ±ã‚’ä»˜ä¸ã—ãŸã„ã¨ã—ã¾ã™ã€‚
ã¾ãšæœ€åˆã«ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®šç¾©ã—ã¾ã™ã€‚
annotation class RequireAuth  æ¬¡ã«ã€ä¸Šè¨˜ã§å®šç¾©ã—ãŸã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½¿ã„ã€Apiã‚’å®šç¾©ã—ã¾ã™ã€‚
interface ApiService { @RequireAuth @GET(&amp;quot;login&amp;quot;) fun login(: retrofit2.Call&amp;lt;Unit&amp;gt; }  æ¬¡ã«ã€RequireAuthã‚’å‡¦ç†ã™ã‚‹ãŸã‚ã®okhttp3.Interceptorã‚’å®šç¾©ã—ã¾ã™ã€‚
class AuthInterceptor : Interceptor { override fun intercept(chain: Interceptor.Chain): Response { var request = chain.request() val invocation = request.tag(Invocation::class.java) val authAnnotation = invocation?.method()?.getAnnotation(RequireAuth::class.java) if (authAnnotation != null) { request = request .newBuilder() .addHeader(&amp;quot;Authorization&amp;quot;, &amp;quot;Basic AAAAA&amp;quot;).build() } return chain.proceed(request) } }  ã“ã“ã§ã®ãƒã‚¤ãƒ³ãƒˆã¯ã€val invocation = request.tag(Invocation::class.java)ã§ã™ã€‚ Retrofit 2.5.0ã‹ã‚‰InvocationãŒè¿½åŠ ã•ã‚Œã€Requestã‹ã‚‰InvocationãŒå–å¾—ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚ Invocationã«ã¯ã€å‡¦ç†ã—ã¦ã„ã‚‹Requestã®java.lang.reflect.MethodãŒæ ¼ç´ã•ã‚Œã¦ãŠã‚Šã€ ãã“ã‹ã‚‰ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã®æƒ…å ±ã‚’å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>Activityã€Fragmentã€Viewã«ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã™ã‚‹</title>
      <link>https://satoshun.github.io/2018/11/android_all_inject_ctor/</link>
      <pubDate>Fri, 16 Nov 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/11/android_all_inject_ctor/</guid>
      <description>Daggerãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã„ã€Androidãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒæä¾›ã™ã‚‹Activityãªã©ã®ã‚¯ãƒ©ã‚¹ã«ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã—ãŸã„ã€ ãã‚“ãªå¤¢ã‚’ã¿ãŸAndroidã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã¯æ•°å¤šãã„ã‚‹ã¨æ€ã„ã¾ã™ã€‚
ã“ã®è¨˜äº‹ã§ã¯ãã‚“ãªå¤¢ã‚’å¶ãˆã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚
ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ã“ã“ã«ã‚ã‚Šã¾ã™ã€‚
FragmentFactory Fragmentã«ä¾å­˜é–¢ä¿‚ã‚’æ³¨å…¥ã™ã‚‹æ™‚ã€æ™®é€šã«ã‚„ã‚‹ã¨ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã«ãªã‚‹ã¨æ€ã„ã¾ã™ã€‚
class MainFragment : Fragment() { @Inject lateinit var userHandler: UserHandler ... }  ã“ã‚Œã‚’ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã«ã—ãŸã„ã€‚
class MainFragment @Inject constructor( private val userHandler: UserHandler ) : Fragment() { ... }  androidx.fragment:fragment:1.1.0-alpha01ã‹ã‚‰ã€FragmentFactoryãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸ!! ã“ã‚Œã‚’ä½¿ã†ã“ã¨ã§ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚
MainFragmentã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã™ã‚‹FragmentFactoryã‚’ä½œæˆã—ã¾ã™ã€‚
class MainFragmentFactory @Inject constructor( private val fragment: Provider&amp;lt;MainFragment&amp;gt; ) : FragmentFactory() { override fun instantiate( classLoader: ClassLoader, className: String, args: Bundle? ): Fragment { if (className == MainFragment::class.java.name) { return fragment.get() } return super.</description>
    </item>
    
    <item>
      <title>Android: ãƒ‡ãƒãƒƒã‚°æ™‚ã«Moshiã€Daggerãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã„ãƒ“ãƒ«ãƒ‰æ™‚é–“ã‚’çŸ­ç¸®ã™ã‚‹</title>
      <link>https://satoshun.github.io/2018/11/debug_reflection/</link>
      <pubDate>Sat, 10 Nov 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/11/debug_reflection/</guid>
      <description>ãƒ“ãƒ«ãƒ‰æ™‚é–“ã®çŸ­ç¸®ã¯é–‹ç™ºåŠ¹ç‡ã‚’ä¸Šã’ã‚‹å¤§ããªè¦ç´ ã§ã™ã€‚ æ¥µåŠ›kaptï¼ˆã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ï¼‰ã‚’ä½¿ã‚ãªãã™ã‚‹ã“ã¨ã§ã€ãƒ“ãƒ«ãƒ‰æ™‚é–“ã‚’çŸ­ç¸®å‡ºæ¥ã¾ã™ã€‚ ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã‚’ä½¿ã£ãŸãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ã€ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã‚’ä½¿ã‚ãªã„ã€ ãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ç”¨ã„ãŸãƒ‡ãƒãƒƒã‚°ç”¨ã®æ©Ÿèƒ½ã‚’æä¾›ã—ã¦ã„ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚
ä»Šå›ã¯ã€Moshiã¨Daggerãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ç´¹ä»‹ã‚’ã—ã¾ã™ã€‚ Daggerãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã¯çµ¶è³›é–‹ç™ºä¸­ + å…¬å¼ã§ã¯ãªã„ã®ã§ã€æ©Ÿèƒ½ãŒã‹ãªã‚Šåˆ¶é™ã•ã‚Œã¦ã„ã‚‹ã€ã©ã†ã„ã†æœªæ¥ãŒå¾…ã£ã¦ã„ã‚‹ã‹ã‚ã‹ã‚‰ãªã„ç‚¹ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚
æ¤œè¨¼ã«ç”¨ã„ãŸã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ã“ã“ã«ã‚ã‚Šã¾ã™ã€‚
Moshiãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ Moshiã«ã¯moshi-codegenã¨å‘¼ã°ã‚Œã‚‹ã€ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã§ã‚³ãƒ¼ãƒ‰ç”Ÿæˆã—ã¦ãã‚Œã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚ã‚Šã¾ã™ã€‚ ã“ã‚Œã¯å®Ÿè¡Œæ™‚ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«ã¯å„ªã‚Œã¦ã„ã‚‹ã®ã§ã™ãŒã€ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã‚’ä½¿ã£ã¦ã„ã‚‹ãŸã‚ã€ãƒ“ãƒ«ãƒ‰ã«æ™‚é–“ãŒã‹ã‹ã£ã¦ã—ã¾ã„ã¾ã™ã€‚
ãã“ã§ã€Moshiã§ã¯moshi-reflectionã¨å‘¼ã°ã‚Œã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’æä¾›ã—ã¦ãŠã‚Šã€ã“ã‚Œã¯ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã‚’ä½¿ã†ã“ã¨ãªãã€ moshi-codegenã¨åŒç­‰ã®æ©Ÿèƒ½ã‚’æä¾›ã—ã¦ãã‚Œã¾ã™ã€‚ ãŸã ã—ã€moshi-reflectionã¯å†…éƒ¨ã§ãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½¿ã£ã¦ã„ã‚‹ãŸã‚ã€å®Ÿè¡Œæ™‚ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«ã¯å„ªã‚Œã¦ã„ã¾ã›ã‚“ã€‚ã‚ãã¾ã§ãƒ‡ãƒãƒƒã‚°ç”¨ã€ã¨ã„ã†ç«‹ã¡ä½ç½®ã ã¨æ€ã„ã¾ã™ã€‚
ãƒ‡ãƒãƒƒã‚°æ™‚ã«moshi-reflectionã‚’ä½¿ã„ã€ãƒªãƒªãƒ¼ã‚¹æ™‚ã«moshi-codegenã‚’ä½¿ã†ã“ã¨ã§ã€ãƒ“ãƒ«ãƒ‰é€Ÿåº¦ã¨å®ŸåŠ¹é€Ÿåº¦ã®å¤©ç§¤ã‚’å‹ã¡å–ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
å…·ä½“çš„ã«ã¯ã€ãƒ‡ãƒãƒƒã‚°æ™‚ã€ãƒªãƒªãƒ¼ã‚¹æ™‚ã«build.gradleã§æŒ‡å®šã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã€Moshiã«ç™»éŒ²ã™ã‚‹Adapterã‚’å¤‰æ›´ã—ã¾ã™ã€‚
// bulid.gradle implementation &amp;quot;com.squareup.moshi:moshi:1.8.0&amp;quot; debugImplementation &amp;quot;com.squareup.moshi:moshi-kotlin:1.8.0&amp;quot; kaptRelease &amp;quot;com.squareup.moshi:moshi-kotlin-codegen:1.8.0&amp;quot;  // debugæ™‚ fun createMoshiBuilder() = Moshi.Builder() .add(KotlinJsonAdapterFactory()) // KotlinJsonAdapterFactoryã‚’æŒ‡å®šã™ã‚‹ .build() // releaseæ™‚ fun createMoshiBuilder() = Moshi.Builder() .build()  ã“ã®ã‚ˆã†ã«æ›¸ãã“ã¨ã§ã€ãƒªãƒªãƒ¼ã‚¹æ™‚ã®ã¿kaptã‚’å®Ÿè¡Œã™ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
Daggerãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ ã“ã‚Œã¯SdkSearchå†…ã§é–‹ç™ºãŒè¡Œã‚ã‚Œã¦ã„ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚æœ‰åãªAndroidã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã§ã‚ã‚‹Jake Whartonã•ã‚“ãŒé–‹ç™ºã‚’ã—ã¦ã„ã¾ã™ã€‚
ã“ã‚Œã‚‚Moshiã¨åŒæ§˜ã«ã€ãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚ Daggerãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã§ã¯ã€å¿…è¦æœ€ä½é™ã®ã‚¯ãƒ©ã‚¹ã¯ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã§ä½œæˆã™ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚ ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã®å®Œå…¨é™¤å»ã¨ã„ã†ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ä¾‹ãˆã°ã€ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ãƒ—ãƒ­ã‚»ãƒƒã‚µãƒ¼ã§DaggerAppComponentã¯ä½œã‚‰ã‚Œã¾ã™ã€‚ ã—ã‹ã—ã€ã‹ãªã‚Šã®æ•°ã®ã‚¯ãƒ©ã‚¹ã‚’ä½œæˆã—ãªã„ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚
å…·ä½“çš„ãªã‚³ãƒ¼ãƒ‰ã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚ Mavenã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„ã®ã§ã€SdkSearchã‹ã‚‰ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ä½¿ã„ã¾ã™ã€‚
implementation &amp;quot;com.google.dagger:dagger:2.18&amp;quot; debugImplementation project(&#39;:dagger-reflect:reflect&#39;) // SdkSearchã‹ã‚‰ã‚³ãƒ”ãƒ¼ kaptDebug project(&#39;:dagger-reflect:reflect-compiler&#39;) // SdkSearchã‹ã‚‰ã‚³ãƒ”ãƒ¼ kaptRelease &amp;quot;com.google.dagger:dagger-compiler:2.18&amp;quot;  ãƒ‡ãƒãƒƒã‚°æ™‚ã«ã¯Daggerãƒªãƒ•ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã‚’ä½¿ã„ã€ãƒªãƒªãƒ¼ã‚¹æ™‚ã«ã¯dagger-compilerã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚ å¤‰æ›´å·®åˆ†ã¯build.gradleã®ã¿ã§ã™ã€‚ã‚³ãƒ¼ãƒ‰ã¯å…¨ãä¿®æ­£ã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</description>
    </item>
    
    <item>
      <title>Unitãƒ†ã‚¹ãƒˆã§ViewModelã®onClearedã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹</title>
      <link>https://satoshun.github.io/2018/10/unittest-viewodel_oncleared/</link>
      <pubDate>Sun, 14 Oct 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/10/unittest-viewodel_oncleared/</guid>
      <description>ãµã¨AACã®ViewModelã®onClearedãƒ¡ã‚½ãƒƒãƒ‰ã‚’ãƒ†ã‚¹ãƒˆã—ãŸããªã£ãŸã®ã§ã€ 3ã¤ã®ã‚„ã‚Šã‹ãŸã‚’ç´¹ä»‹ã—ã¾ã™ã€‚
ç’°å¢ƒã¯
&amp;quot;junit:junit:4.12&amp;quot; &amp;quot;androidx.test:rules:1.1.1&amp;quot; &amp;quot;androidx.test:runner:1.1.1&amp;quot; &amp;quot;androidx.test.ext:junit:1.1.0&amp;quot; &amp;quot;com.nhaarman:mockito-kotlin-kt1.1:1.5.0&amp;quot; &amp;quot;org.robolectric:robolectric:4.1&amp;quot;  ã«ãªã‚Šã¾ã™ã€‚
ã¾ãŸã€ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ satoshun-android-example/Testsã«ã‚ã‚‹ã®ã§ã€å‚è€ƒã—ã¦ãã ã•ã„ğŸ˜Š
1. ViewModelStoreã‚’ä½¿ã† ViewModelProviders.of(activity).get(class)ã‹ã‚‰ViewModelã‚’å–å¾—ã—ãŸã¨ãã«ã€å–å¾—ã—ãŸViewModelã¯ViewModelStoreã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚Œã¾ã™ã€‚ã“ã®ViewModelStoreã¯FragmentActivityã‹ã‚‰å–å¾—ã§ãã‚‹ã®ã§ã€æ¬¡ã®ã‚ˆã†ã«æ›¸ãã“ã¨ã§ViewModelã®onClearedã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
@RunWith(AndroidJUnit4::class) class BaseViewModelTest { @get:Rule val activityRule = ActivityTestRule(FragmentActivity::class.java) @Test fun `dispose a coroutine when finished lifecycle of ViewModel`() { activityRule.activity.viewModelStore.clear() // ViewModelãŒé–‹æ”¾ã•ã‚Œã‚‹ } }  ã“ã®ãƒ†ã‚¹ãƒˆã¯ã‚³ãƒ¼ãƒ‰çš„ã«ã¯ç°¡å˜ã§ã™ãŒã€ViewModelStoreãŒViewModelã‚’ç®¡ç†ã—ã¦ã„ã‚‹ã“ã¨ã‚’çŸ¥ã£ã¦ã„ã‚‹ã€å†…éƒ¨å®Ÿè£…ã®è©³ç´°ã¾ã§çŸ¥ã£ã¦ã„ã‚‹ãŸã‚ã€ãƒ†ã‚¹ãƒˆã¨ã—ã¦ãµã•ã‚ã—ããªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
ãªã®ã§ã€ç´ ç›´ã«onDestroyã‚’ã‚³ãƒ¼ãƒ«ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚‚æ›¸ã„ã¦ã¿ã¾ã™ã€‚
2. Instrumentation.callActivityOnDestroyã‚’ä½¿ã† Instrumentationã‚¯ãƒ©ã‚¹ã‚’ä½¿ã†ã“ã¨ã§Activityã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚ Instrumentationã¯InstrumentationRegistryã‚¯ãƒ©ã‚¹ã‹ã‚‰å–å¾—ã™ã‚‹ã“ã¨ãŒã§ãã€æ¬¡ã®ã‚ˆã†ã«æ›¸ãã“ã¨ã§ã€onDestroyã‚’ã‚³ãƒ¼ãƒ«ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
@Test fun `dispose a coroutine when finished lifecycle of ViewModel 2`() { // onDestroyãŒã‚³ãƒ¼ãƒ«ã•ã‚ŒViewModelãŒé–‹æ”¾ã•ã‚Œã‚‹ InstrumentationRegistry.getInstrumentation().callActivityOnDestroy(activityRule.activity) }  Activityã®onDestroyãŒã‚³ãƒ¼ãƒ«ã•ã‚Œã€ViewModelã®onClearedã‚‚ã‚³ãƒ¼ãƒ«ã•ã‚Œã¾ã™ï¼
ä»¥ä¸‹è¿½è¨˜
3. ActivityScenarioã‚’ä½¿ã† æ–°ã—ãè¿½åŠ ã•ã‚ŒãŸActivityScenarioã‚’ä½¿ã†ã¨ã‚ˆã‚Šã™ã£ãã‚Šã¨onDestroyã‚’è¡¨ç¾ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>Inline classesã¨Gsonã§primitiveå‹ã‚’ã‚¯ãƒ©ã‚¹ã§å—ã‘ã¨ã‚‹</title>
      <link>https://satoshun.github.io/2018/09/android-gson-inlineclasses/</link>
      <pubDate>Mon, 17 Sep 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/09/android-gson-inlineclasses/</guid>
      <description>ï¼ˆã“ã®è¨˜äº‹ã¯1.3-M2ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚ï¼‰
Kotlin 1.3ã§Inline classesãŒå…¥ã‚Šã¾ã™ã€‚ã“ã‚Œã¯ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«å½±éŸ¿ã‚’ä¸ãˆãšã«ã€å€¤ã®ãƒ©ãƒƒãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹ã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
ä¾‹ãˆã°ã€æ¬¡ã®ã‚ˆã†ã«æ›¸ãã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
inline class UserId(val id: String) { val url get() = &amp;quot;http://$id&amp;quot; } val userId = UserId(&amp;quot;user-dayo&amp;quot;) println(userId.url)  ã“ã®ã‚³ãƒ¼ãƒ‰ã¯ä¸€è¦‹ã€UserIdã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒç”Ÿæˆã•ã‚Œãã†ã§ã™ã€‚ ã—ã‹ã—ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ã§ã¯UserIdã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¯ç”Ÿæˆã•ã‚Œã¾ã›ã‚“ã€‚
public static final class UserId$Erased { ... @NotNull public static final String getUrl(String $this) { return &amp;quot;http://&amp;quot; + $this; } ... } String userId = &amp;quot;user-dayo&amp;quot;; String var1 = UserId$Erased.getUrl(userId); System.out.println(var1);  UserIdã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½œã‚‰ãšã«ã€Stringã‚’ãã®ã¾ã¾ä½¿ã£ã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚ãã—ã¦è‡ªå‹•ç”Ÿæˆã•ã‚ŒãŸUserId$Erasedã‚¯ãƒ©ã‚¹ã«ã‚ã‚‹staticãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã„ã¾ã™ã€‚Inline classesã§ã¯ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã›ãšã«staticãƒ¡ã‚½ãƒƒãƒ‰ã‚’ã‚³ãƒ¼ãƒ«ã™ã‚‹ã“ã¨ã§ã€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆã®ã‚³ã‚¹ãƒˆã‚’æŠ‘ãˆã¦ã„ã¾ã™ã€‚
ã“ã“ã‹ã‚‰ãŒæœ¬é¡Œã§ã™ã€‚ Inline classesãŒAndroidé–‹ç™ºã®ã©ã“ã§å½¹ç«‹ã¤ã®ã‹ã‚’è€ƒãˆãŸã¨ãã«ã€ Gsonãªã©ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã‚ˆã£ã¦deserialize/serializeã•ã‚Œã‚‹ã‚¯ãƒ©ã‚¹ã§æœ‰åŠ¹ä½¿ãˆã‚‹ã¨æ€ã„ã¾ã—ãŸã€‚
ä¾‹ãˆã°ã€æ¬¡ã®ã‚³ãƒ¼ãƒ‰ãŒã‚ã£ãŸã¨ã—ã¾ã™ã€‚
data class Response( @SerializedName(&amp;quot;user_id&amp;quot;) val userId: String, @SerializedName(&amp;quot;friend_id&amp;quot;) val friendId: String )  ã“ã‚Œã¯userIdã¨friendIdã‚’Stringã§å—ã‘å–ã£ã¦ãŠã‚Šã€ã“ã®StringãŒä½•ã®Stringã‹ã®æƒ…å ±ãŒæ¬ è½ã—ã¦ã„ã¾ã™ã€‚å‹ã«ã‚ˆã‚‹åˆ†é¡ãŒå‡ºæ¥ã¦ãªã„çŠ¶æ…‹ã§ã™ã€‚</description>
    </item>
    
    <item>
      <title>Daggerã§private valã§ä¾å­˜é–¢ä¿‚ã‚’å–å¾—ã—ãŸã‹ã£ãŸ</title>
      <link>https://satoshun.github.io/2018/09/android-dagger-simple-example/</link>
      <pubDate>Fri, 07 Sep 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/09/android-dagger-simple-example/</guid>
      <description>ã¿ãªã•ã‚“ã“ã‚“ã«ã¡ã¯
ä»Šå›ã¯Daggerã®è©±ã‚’ã—ã¾ã™ã€‚Dagger + Kotlinã®1ã¤æ°—ã«ãªã‚‹ç‚¹ã¨ã—ã¦@Inject lateinit var ã«ãªã£ã¦ã—ã¾ã†ã¨ã“ã‚ãŒã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚
class HogeActivity { @Inject lateinit var hoge: Hoge }  ã“ã‚Œã‚’ãªã‚“ã¨ã‹å‡ºæ¥ãªã„ã‹ãªã¨æ€ã£ã¦è€ƒãˆã¦ã¿ã¾ã—ãŸã€‚
çµè«–ã‹ã‚‰è¨€ã†ã¨æœ€çµ‚å½¢ã¯ã“ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
class HogeActivity { private val hoge: Hoge by inject() }  private valã«ãªã‚Šã¾ã—ãŸã€‚ã“ã‚Œã‚’ã©ã®ã‚ˆã†ã«å®Ÿç¾ã—ãŸã‹ã«ã¤ã„ã¦èª¬æ˜ã—ã¦ãã¾ã™ã€‚ã¡ãªã¿ã«ã§ã™ãŒã€ã“ã‚Œã¯ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ã«è€ãˆã‚Œã‚‹ã‚ˆã†ãªã‚³ãƒ¼ãƒ‰ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã”äº†æ‰¿ãã ã•ã„ã€‚
ä»Šå›ã¯IntoMapã‚’ä½¿ã£ã¦å®Ÿè£…ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚
IntoMapã¨ã¯ãã®åã®é€šã‚ŠMapã«ãƒã‚¤ãƒ³ãƒ‰ã™ã‚‹ãŸã‚ã®ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚ è©³ã—ãã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’è¦‹ã¦ãã ã•ã„ã€‚
ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã§èª¬æ˜ã—ã¦ã„ãã¾ã™ã€‚
ã¾ãšã¯IntoMapã‚’ä½¿ã„ã€Mapã¸ã®ãƒã‚¤ãƒ³ãƒ‰ã‚’Moduleã«å®šç¾©ã—ã¦ã„ãã¾ã™ã€‚
@Module interface HogeModule { @Binds @IntoMap @ClassKey(Hoge1::class) fun bindHoge1(hoge: Hoge1): Any @Binds @IntoMap @ClassKey(Hoge2::class) fun bindHoge2(hoge: Hoge2): Any } class Hoge1 @Inject constructor() class Hoge2 @Inject constructor() @MustBeDocumented @Retention(AnnotationRetention.RUNTIME) @MapKey annotation class ClassKey(val value: KClass&amp;lt;out Any&amp;gt;)  Mapã«ã¯å½“ç„¶ã€valueã«å¯¾å¿œã™ã‚‹keyãŒå¿…è¦ã«ãªã‚Šã¾ã™ã€‚Daggerã§ã¯MapKeyã‚’ä½¿ã†ã“ã¨ã§ã€valueã¨keyã‚’ç´ã¥ã‘ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>RxAndroidã®asyncãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è©¦ã—ã¦ã¿ãŸ</title>
      <link>https://satoshun.github.io/2018/08/rx-android-async-parameter/</link>
      <pubDate>Tue, 21 Aug 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/08/rx-android-async-parameter/</guid>
      <description>RxAndroid 2.1.0ã§æ–°ã—ãasyncãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚ã“ã‚Œã¯Message#setAsynchronousã‚’ä½¿ã†ã“ã¨ã§ã€UIã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Šã‚’ç‹™ã£ãŸæ©Ÿèƒ½ã§ã™ã€‚ ä¸‹ã®ãƒªãƒ³ã‚¯ã«è©³ç´°ãªå†…å®¹ãŒæ›¸ã‹ã‚Œã¦ã„ã¾ã™ã€‚
RxAndroidâ€™s New Async API
ã“ã®è¨˜äº‹ã§ã¯ã€asyncãŒfalseã®å ´åˆã¨trueã®å ´åˆã§ã©ã‚Œãã‚‰ã„ã®å·®ãŒå‡ºã‚‹ã‹ã‚’æ¤œè¨¼ã—ã¦ã¿ã¾ã—ãŸã€‚
æ¤œè¨¼ã«ä½¿ç”¨ã—ãŸã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ä»¥ä¸‹ã«ãªã‚Šã¾ã™ã€‚ https://github.com/satoshun-android-example/RxAndroidExample
ã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‹ã„ã¤ã¾ã‚“ã§èª¬æ˜ã—ã¾ã™ã€‚
ã¾ãš2ã¤ã®ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã‚’ä½œæˆã—ã€
private val mainScheduler = AndroidSchedulers.from(Looper.getMainLooper(), false) private val asyncMainScheduler = AndroidSchedulers.from(Looper.getMainLooper(), true)  ä½œã£ãŸã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã‚’ä½¿ã£ãŸã‚¹ãƒˆãƒªãƒ¼ãƒ ã§å®Ÿè¡Œå®Œäº†æ™‚é–“ã«å·®ãŒå‡ºã‚‹ã‹ã‚’è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚
// asyncãŒfalseã®å ´åˆ Observable .fromCallable { System.currentTimeMillis() } .delay(index, TimeUnit.MILLISECONDS) .observeOn(mainScheduler) .subscribe(...) // asyncãŒtrueã®å ´åˆ Observable .fromCallable { System.currentTimeMillis() } .delay(index, TimeUnit.MILLISECONDS) .observeOn(asyncMainScheduler) .subscribe(...)  ãƒ•ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹ã«ãªã‚Šã¾ã™ã€‚ https://github.com/satoshun-android-example/RxAndroidExample/blob/master/app/src/main/java/com/github/satoshun/example/rxandroidexample/MainActivity.kt
çµæœã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚
// API27 ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ main=130988ms, async=126713msã€€// forã§500å›ãƒ«ãƒ¼ãƒ—ã•ã›ãŸå®Ÿè¡Œæ™‚é–“ã®ç·å’Œ main=130857ms, async=126582ms main=131401ms, async=126909ms main=130763ms, async=126504ms main=132758ms, async=127972ms // API21 ã‚¨ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ main=129869ms, async=125795ms main=130050ms, async=125888ms main=129935ms, async=125853ms main=129908ms, async=125838ms main=129927ms, async=125824ms  asyncãŒtrueã®å ´åˆã€æ˜ã‚‰ã‹ã«å®Ÿè¡Œå®Œäº†æ™‚é–“ãŒçŸ­ããªã‚Šã¾ã—ãŸã€‚å°å…¥ã™ã‚‹ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚Šãã†ã§ã™ã€‚</description>
    </item>
    
    <item>
      <title>Android: Dagger 2.17ã®fastInitã‚’è©¦ã—ã¦ã¿ãŸ</title>
      <link>https://satoshun.github.io/2018/08/android-dagger__fastinit_mode/</link>
      <pubDate>Wed, 08 Aug 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/08/android-dagger__fastinit_mode/</guid>
      <description>Dagge 2.17ã§fastInitã‚ªãƒ—ã‚·ãƒ§ãƒ³ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚ https://google.github.io/dagger/compiler-options
ã“ã‚Œã¯ã€startup timeã‚’æ”¹å–„ã™ã‚‹ãŸã‚ã®æ©Ÿèƒ½ã§ã™ã€‚ã©ã‚Œãã‚‰ã„å·®ãŒã‚ã‚‹ã‹ã‚’æ‹…å½“ã‚¢ãƒ—ãƒªã§å®Ÿéš›ã«èª¿ã¹ã¦ã¿ã¾ã—ãŸã€‚
ç¢ºèªã«ä½¿ç”¨ã—ãŸç«¯æœ«ã¯Android8ç³»ã®Galaxyã¨ã€Android7ç³»ã®Xperiaã®è¨ˆ2å°ã«ãªã‚Šã¾ã™ã€‚
ç¢ºèªã«ä½¿ç”¨ã—ãŸã‚·ã‚§ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆ adb shellã‚³ãƒãƒ³ãƒ‰ã‹ã‚‰èµ·å‹•æ™‚é–“ã‚’èª¿ã¹ã‚‹ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚è¨ˆ11å›startup timeã‚’ç¢ºèªã™ã‚‹äº‹ãŒã§ãã¾ã™ã€‚
for i in {0..10} do adb shell am start -S -W jp.hoge/.ui.main.MainActivity -c android.intent.category.LAUNCHER -a android.intent.action.MAIN &amp;gt;&amp;gt; hoge.txt sleep 10 done  ä¸‹è¨˜ã‚’å‚è€ƒã«ã—ã¾ã—ãŸã€‚
 https://developer.android.com/topic/performance/vitals/launch-time  fastInitæœ‰åŠ¹ã®å ´åˆ ä¸‹è¨˜ã‚’build.gradleã«è¿½åŠ ã—ã¾ã™ã€‚
kapt { javacOptions { option(&amp;quot;-Adagger.fastInit=enabled&amp;quot;) } }  çµæœ:
å¹³å‡: 1609ms  fastInitç„¡åŠ¹ã®å ´åˆ çµæœ:
å¹³å‡: 1607ms  ã¾ã¨ã‚ ã»ã¼å¤‰ã‚ã‚‰ãªã„æ•°å­—ãŒå‡ºã¦ãã¦ã—ã¾ã„ã¾ã—ãŸã€‚æ‚²ã—ã„ã€‚ Daggerç”Ÿæˆã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã‚‹é™ã‚Šã ã¨ã€æœ€åˆã®Componentã®createã®ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ComponentãŒæŒã£ã¦ã„ã‚‹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®åˆæœŸåŒ–ãŒè¡Œã‚ã‚Œã¦ã„ãªã‹ã£ãŸã®ã§ã€æ—©ããªã‚Šãã†ã ãªã¨æ€ã£ãŸã‚“ã§ã™ãŒã€å®Ÿéš›ã«ã¯ã»ã¼å¤‰ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚
èŠ³ã—ããªã„çµæœã«ãªã£ãŸæ¨æ¸¬ã¨ã—ã¦
 æ‹…å½“ã‚¢ãƒ—ãƒªã®Daggerã®æ›¸ãæ–¹ãŒæ­£ã—ããªã„ã‹ã‚‰ã“ã®çµæœã«ãªã£ãŸ?  è¦èª¿æŸ»ã€ã—ã‹ã—ä¸€èˆ¬çš„ãªAndroid-Daggerã‚’ä½¿ã£ãŸæ›¸ãæ–¹ã‚’ã—ã¦ã„ã‚‹ã®ã§æ­£ã—ã„ã¯ãš  ç¢ºèªã«ä½¿ç”¨ã—ãŸã‚³ãƒãƒ³ãƒ‰ãŒè‰¯ããªã„ã®ã‹ã‚‚?  ãªã«ã‹åˆ†ã‹ã£ãŸã‚‰è¿½è¨˜ã—ã¾ã™ã€ã‚‚ã—ãã¯é–“é•ã£ã¦ã„ã‚‹ç‚¹ãŒã‚ã‚Œã°ã”æŒ‡æ‘˜ã„ãŸã ã‘ã‚Œã°å¹¸ã„ã§ã™ğŸ˜Š</description>
    </item>
    
    <item>
      <title>Kotlin: Inline Functionã ã‘ã§ã¯ãƒ¡ã‚½ãƒƒãƒ‰ã‚«ã‚¦ãƒ³ãƒˆã¯æ¸›ã‚‰ãªã„</title>
      <link>https://satoshun.github.io/2018/08/inline_function_decrease_method_count/</link>
      <pubDate>Thu, 02 Aug 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/08/inline_function_decrease_method_count/</guid>
      <description>çµè«–  R8/Proguardã‚’ã¡ã‚ƒã‚“ã¨ä½¿ã†  èƒŒæ™¯ Inline Functionã‚’ä½¿ã†ã¨ã€é–¢æ•°ãŒã‚¤ãƒ³ãƒ©ã‚¤ãƒ³åŒ–ã•ã‚Œã‚‹ã®ã§ã€è‡ªå‹•çš„ã«ãƒ¡ã‚½ãƒƒãƒ‰æ•°ãŒ1æ¸›ã‚‹ã¨æ€ã£ã¦ã„ã¾ã—ãŸã€‚ã‘ã©ã€ãã‚“ãªã“ã¨ã¯ãªã‹ã£ãŸã¨ã„ã†è©±ã§ã™ã€‚
å®Ÿéš›ã«å‹•ã‹ã—ã¦ç¢ºèªã—ã¦ã¿ã¾ã™ã€‚ä¸‹è¨˜ã®é–¢æ•°ã‚’è¿½åŠ ã—ã€Build APK â†’ Analyze APKã§classes.dexã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚«ã‚¦ãƒ³ãƒˆã‚’èª¿ã¹ã¦ã¿ã¾ã™ã€‚
ã¾ãšã¯ã€R8ç„¡ã—ã§èª¿ã¹ã¦ã¿ã¾ã™ã€‚
fun hoge() { println(&amp;quot;hogehoge&amp;quot;) }  å½“ç„¶ãƒ¡ã‚½ãƒƒãƒ‰ã‚«ã‚¦ãƒ³ãƒˆãŒ1å¢—ãˆã¦ã„ã¾ã™ã€‚
æ¬¡ã«ã€inlineã‚’ä»˜ã‘ã¦ã¿ã¾ã™ã€‚
inline fun hoge() { println(&amp;quot;hogehoge&amp;quot;) }  ã“ã¡ã‚‰ã‚‚ãƒ¡ã‚½ãƒƒãƒ‰ã‚«ã‚¦ãƒ³ãƒˆãŒ1å¢—ãˆã¾ã—ãŸã€‚ show Kotlin Bytecode â†’ Decompileã‚’ä½¿ã„ã€decompileã•ã‚ŒãŸJavaãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¦‹ã‚‹ã¨ã€inline hogeãƒ¡ã‚½ãƒƒãƒ‰ã«å¯¾å¿œã—ãŸãƒ¡ã‚½ãƒƒãƒ‰ãŒç”Ÿæˆã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚Šã¾ã—ãŸã€‚
@Metadata( mv = {1, 1, 10}, bv = {1, 0, 2}, k = 2, d1 = {&amp;quot;\u0000\b\n\u0000\n\u0002\u0010\u0002\n\u0000\u001a\t\u0010\u0000\u001a\u00020\u0001H\u0086\bÂ¨\u0006\u0002&amp;quot;}, d2 = {&amp;quot;hoge&amp;quot;, &amp;quot;&amp;quot;, &amp;quot;production sources for module app&amp;quot;} ) public final class MainActivityKt { public static final void hoge() { String var1 = &amp;quot;hogehoge&amp;quot;; System.</description>
    </item>
    
    <item>
      <title>Android: ContraintLayoutã§ãƒã‚¬ãƒ†ã‚£ãƒ–ãƒãƒ¼ã‚¸ãƒ³ã‚’å®Ÿç¾ã™ã‚‹</title>
      <link>https://satoshun.github.io/2018/07/constraintlayout-negative_margin/</link>
      <pubDate>Wed, 25 Jul 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/07/constraintlayout-negative_margin/</guid>
      <description>ConstraintLayoutã¯ãƒã‚¬ãƒ†ã‚£ãƒ–ãƒãƒ¼ã‚¸ãƒ³ã«å¯¾å¿œã—ã¦ã„ãªã„ãŸã‚ã€å°‘ã—ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ã‚’ä½¿ã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ ã“ã®è¨˜äº‹ã§ã¯Spaceã‚’ä½¿ã£ãŸãƒã‚¬ãƒ†ã‚£ãƒ–ãƒãƒ¼ã‚¸ãƒ³ã®å®Ÿç¾ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚
ä¾‹ ãƒã‚¬ãƒ†ã‚£ãƒ–ãƒãƒ¼ã‚¸ãƒ³ã¨åŒç­‰ã®å¤§ãã•ã‚’æŒã£ãŸSpaceã‚’å®šç¾©ã—ã¦ã€ãã“ã«Constraintã‚’è¨­å®šã™ã‚‹ã ã‘ã§ã™ã€‚
&amp;lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&amp;quot;http://schemas.android.com/apk/res/android&amp;quot; xmlns:app=&amp;quot;http://schemas.android.com/apk/res-auto&amp;quot; xmlns:tools=&amp;quot;http://schemas.android.com/tools&amp;quot; android:layout_width=&amp;quot;match_parent&amp;quot; android:layout_height=&amp;quot;match_parent&amp;quot; android:clipToPadding=&amp;quot;false&amp;quot; android:padding=&amp;quot;80dp&amp;quot;&amp;gt; &amp;lt;Space android:id=&amp;quot;@+id/negative&amp;quot; android:layout_width=&amp;quot;15dp&amp;quot; android:layout_height=&amp;quot;15dp&amp;quot; app:layout_constraintStart_toStartOf=&amp;quot;parent&amp;quot; app:layout_constraintTop_toTopOf=&amp;quot;parent&amp;quot; /&amp;gt; &amp;lt;ImageView android:id=&amp;quot;@+id/icon&amp;quot; android:layout_width=&amp;quot;30dp&amp;quot; android:layout_height=&amp;quot;30dp&amp;quot; android:contentDescription=&amp;quot;icon&amp;quot; app:layout_constraintBottom_toBottomOf=&amp;quot;@id/negative&amp;quot; app:layout_constraintEnd_toEndOf=&amp;quot;@id/negative&amp;quot; tools:src=&amp;quot;@tools:sample/avatars&amp;quot; /&amp;gt; &amp;lt;/androidx.constraintlayout.widget.ConstraintLayout&amp;gt;  ç°¡å˜ã«èª¬æ˜ã™ã‚‹ã¨ã€Spaceã«15pxã‚’æŒ‡å®šã—ã¦ã€bottom, endã«å¯¾ã—ã¦constraintã‚’æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€ãƒã‚¬ãƒ†ã‚£ãƒ–ãƒãƒ¼ã‚¸ãƒ³ã‚’é”æˆã—ã¦ã„ã¾ã™ã€‚ ä¸Šè¨˜ã®ä¾‹ã ã¨ã€
 android:layout_marginStart=&amp;quot;-15px&amp;quot; android:layout_marginTop=&amp;quot;-15px&amp;quot;  ã¨åŒç­‰ã®æŒ¯ã‚‹èˆã„ã‚’ã—ã¦ã„ã¾ã™ã€‚
ã¾ã¨ã‚ ConstraintLayoutã§ã¯ãƒã‚¤ãƒ†ã‚£ãƒ–ã§ãƒã‚¬ãƒ†ã‚£ãƒ–ãƒãƒ¼ã‚¸ãƒ³ã«å¯¾å¿œã—ã¦ã„ãªã„ãŸã‚ã€Spaceã‚’ä½¿ã£ãŸã€ã‚„ã‚„ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«ãªæ–¹æ³•ã§å®Ÿç¾ã™ã‚‹ã®ãŒè‰¯ã„ã¨æ€ã‚ã‚Œã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>Kotlin: typealiasã‚’ä½¿ã£ã¦ã‚ã‚“ã©ã†ãªã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’çœç•¥ã™ã‚‹</title>
      <link>https://satoshun.github.io/2018/07/typealias_omit_annotation/</link>
      <pubDate>Thu, 12 Jul 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/07/typealias_omit_annotation/</guid>
      <description>Kotlinã§ã¯typealiasã¨å‘¼ã°ã‚Œã‚‹ã€æ—¢å­˜ã®ã‚¿ã‚¤ãƒ—ã«å¯¾ã—ã¦åˆ¥åã‚’ã¤ã‘ã‚‹æ©Ÿèƒ½ãŒã‚ã‚Šã¾ã™ã€‚ https://kotlinlang.org/docs/reference/type-aliases.html
å…¸å‹çš„ãªä½¿ã„æ–¹ã¨ã—ã¦ã€ä¸‹ã®ã‚ˆã†ãªè¤‡é›‘ãªå‹ã«åå‰ã‚’ã¤ã‘ã‚‹ã¨å¯èª­æ€§ãŒé«˜ããªã‚Šã¾ã™ã€‚
typealias MyHandler = (Int, String, Any) -&amp;gt; Unit  ã•ã‚‰ã«typealiasã¯ã€ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã¤ã‘ã‚‹ã“ã¨ã‚‚å‡ºæ¥ã¾ã™ã€‚
typealias NonWildcardList&amp;lt;T&amp;gt; = List&amp;lt;@JvmSuppressWildcards T&amp;gt;  JvmSuppressWildcardsã¯Dagger(å‚è€ƒãƒªãƒ³ã‚¯)ã‚„retrofit(å‚è€ƒãƒªãƒ³ã‚¯)ã‚’ä½¿ã£ã¦ã„ã‚‹ã¨ã€ä½¿ã‚ã–ã‚‹ã‚’ãˆãªã„ã‚±ãƒ¼ã‚¹ãŒã‚ã‚‹ã®ã§ã€typealiasã§å®šç¾©ã—ã¦ã„ãŠã‘ã°å¯èª­æ€§é«˜ãã€æ¥½ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>Dagger-Androidã§UserScopeã®ã‚ˆã†ãªã‚«ã‚¹ã‚¿ãƒ ã®Scopeã‚’ä½¿ã„ã€ç‰¹å®šã®Activityé–“ã®ã¿ã§åŒä¸€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½¿ã†æ–¹æ³•</title>
      <link>https://satoshun.github.io/2018/06/dagger-android-with_custom_scope/</link>
      <pubDate>Tue, 26 Jun 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/06/dagger-android-with_custom_scope/</guid>
      <description>Daggerã‚’ä½¿ã„ã€è¤‡æ•°ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹é–“ã§åŒä¸€ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½¿ã†æ™‚ã¯ã€ã‚¹ã‚³ãƒ¼ãƒ—ã‚’ä½¿ã†ã“ã¨ã§å®Ÿç¾ã§ãã¾ã™ã€‚ Androidã§ã¯ã€ã™ã¹ã¦ã®Activityã§å…±é€šã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½¿ã†ã«ã¯ Singletonã‚¹ã‚³ãƒ¼ãƒ—ã¨AppComponentã‚’çµ„ã¿åˆã‚ã›ã¦ä½¿ã†æ–¹æ³•ãŒã‚ˆãçŸ¥ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚ ã—ã‹ã—ã€ç‰¹å®šã®Activityé–“ã§ã®ã¿å…±é€šã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½¿ã„ãŸã„å ´åˆã«ã¯ã“ã®æ–¹æ³•ã¯ä½¿ãˆã¾ã›ã‚“ã€‚Singletonã ã¨ã™ã¹ã¦ã®Activityé–“ã§å…±é€šã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒä½¿ãˆã¦ã—ã¾ã„ã¾ã™ã€‚
ã“ã®è¨˜äº‹ã§ã¯ã€Dagger-Androidã‚’ä½¿ã£ãŸã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã‚’ãƒ™ãƒ¼ã‚¹ã«ã€ã€Œç‰¹å®šã®Activityé–“ã®ã¿ã§åŒä¸€ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½¿ã†æ–¹æ³•ã€ã‚’èª¬æ˜ã—ã¾ã™ã€‚ ã¾ãŸã€åŸºæœ¬çš„ãªDaggerã®ä½¿ã„æ–¹ã¯çŸ¥ã£ã¦ã„ã‚‹å‰æã§èª¬æ˜ã—ã¦ã„ãã¾ã™ã€‚
ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã¯ã“ã¡ã‚‰ã«ãªã‚Šã¾ã™ã€‚ ã‚³ãƒ¼ãƒ‰ã‚’è¦‹ã‚‹ã¨ç†è§£ãŒã‚ˆã‚Šæ·±ã¾ã‚‹ã¨æ€ã†ã®ã§ã€ãœã²ã”è¦§ã«ãªã£ã¦ãã ã•ã„ğŸ˜Š
ã§ã¯èª¬æ˜ã—ã¦ã„ãã¾ã™ã€‚ä»Šå›ã®ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã®ç›®æŒ‡ã™ã¨ã“ã‚ã¯
 UserScopeã‚’å®šç¾©ã—ã€MainActivityã€UserScopedActivityã§åŒä¸€ã®UserManagerã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ä½¿ç”¨ã™ã‚‹  ã¨ã—ã¾ã™ã€‚
ã¾ãšæœ€åˆã«UserScopeã‚’å®šç¾©ã—ã¾ã™ã€‚
@Scope @MustBeDocumented @Retention(AnnotationRetention.RUNTIME) annotation class UserScope  æ¬¡ã«UserSubcomponentã‚’ä½œã‚Šã¾ã™ã€‚
@UserScope @Subcomponent interface UserSubcomponent { @Subcomponent.Builder interface Builder { fun build(): UserSubcomponent } val activityInjector: DispatchingAndroidInjector&amp;lt;Activity&amp;gt; }  ã“ã“ã§ã¯ã€UserSubcomponentã«UserScopeã‚¹ã‚³ãƒ¼ãƒ—ã‚’æŒãŸã›ã¦ã„ã¾ã™ã€‚ ã“ã®ã‚ˆã†ã«æ›¸ãã“ã¨ã§ã€Subcomponentã¨Scopeã‚’çµã³ã¤ã‘ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
æ¬¡ã«AppComponentã‚’ä½œã‚Šã¾ã™ã€‚
@Singleton @Component( modules = [ AndroidSupportInjectionModule::class ] ) interface AppComponent : AndroidInjector&amp;lt;App&amp;gt; { @Component.Builder interface Builder { @BindsInstance fun application(application: App): Builder fun build(): AppComponent } override fun inject(app: App) // AppComponentã¨UserSubcomponentã‚’çµã³ã¤ã‘ã‚‹ val userComponentBuilder: UserSubcomponent.</description>
    </item>
    
    <item>
      <title>Android: Navigationã®safeargs Gradle pluginã ã‘ã‚’ä½¿ã£ã¦ã‚‚ã„ã„ã‹ã‚‚ã—ã‚Œãªã„</title>
      <link>https://satoshun.github.io/2018/05/navigation-only_use_safe_args/</link>
      <pubDate>Sun, 20 May 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/05/navigation-only_use_safe_args/</guid>
      <description>Google I/O 2018ã§JetpackãŒç™»å ´ã—ã€æ–°ãŸã«Navigationãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒå°å…¥ã•ã‚Œã¾ã—ãŸã€‚ ã–ã£ãã‚Šã¨èª¬æ˜ã™ã‚‹ã¨ã€ç”»é¢ã®é·ç§»ã®å®Ÿè£…ã‚’åŠ©ã‘ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ãªã£ã¦ã„ã¾ã™ã€‚å®Ÿè£…çš„ã«ã¯ã€FragmentTransactionã‚’ç›´æ¥ã„ã˜ã‚‹ã“ã¨ãŒãªããªã‚‹ã¨ã„ã£ãŸãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚Šã¾ã™ã€‚
ã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ©Ÿèƒ½ã«ã€safeargsã¨ã„ã†ã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚ã“ã‚ŒãŒä¾¿åˆ©ã§ã€æœ€åˆã¯ã“ã®æ©Ÿèƒ½ã ã‘ã‚’ä½¿ã†ã®ã‚‚ã„ã„ã®ã§ã¯? ã¨æ€ã£ã¦ã„ã‚‹ã®ã§ãã®ç´¹ä»‹ã§ã™ã€‚
safeargsã‚’ä½¿ã£ã¦ã¿ã‚‹ ä¸€èˆ¬çš„ã«Fragmentã«é©å½“ãªå€¤ã‚’æ¸¡ã™ã¨ãã¯Bundleã‚’é€šã—ã¦æ¸¡ã—ã¾ã™ã€‚
// å‘¼ã³å‡ºã—å´ val bundle = Bundle() bundle.putInt(&amp;quot;step&amp;quot;, 10) // å‘¼ã³å‡ºã•ã‚Œå´ val step = arguments?.getInt(&amp;quot;step&amp;quot;)  ã“ã‚Œã®å•é¡Œç‚¹ã¨ã—ã¦ã¯ã€typesafeã§ç„¡ã„ã¨ã“ã‚ã§ã™ã€‚ä¾‹ãˆã°ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ãªã©ã§ã€ç‰‡æ–¹ã®æ–‡å­—åˆ—ã‚’&amp;quot;step2&amp;quot;ã«ã—ã¦ã—ã¾ã†ã¨ã€ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚
ã“ã‚Œã‚’è§£æ±ºã«ã™ã‚‹ãŸã‚ã«Navigationã§ã¯safe argsã¨ã„ã†æ©Ÿèƒ½ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚ ã“ã‚Œã¯ã€DataBindingã®ã‚ˆã†ã«ã€ã‚¯ãƒ©ã‚¹ã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ã§typesafeã‚’å®Ÿç¾ã—ã¾ã™ã€‚
&amp;lt;navigation xmlns:android=&amp;quot;http://schemas.android.com/apk/res/android&amp;quot; xmlns:app=&amp;quot;http://schemas.android.com/apk/res-auto&amp;quot; xmlns:tools=&amp;quot;http://schemas.android.com/tools&amp;quot;&amp;gt; &amp;lt;fragment android:name=&amp;quot;com.example.android.codelabs.navigation.HogeFragment&amp;quot; android:label=&amp;quot;Hoge&amp;quot;&amp;gt; &amp;lt;argument android:name=&amp;quot;step&amp;quot; app:type=&amp;quot;integer&amp;quot; android:defaultValue=&amp;quot;1&amp;quot;/&amp;gt; &amp;lt;/fragment&amp;gt; &amp;lt;/navigation&amp;gt;  ã¨navigationã‚’è¨˜è¿°ã™ã‚‹ã¨ã€
public class HogeFragmentArgs { private int step = 1; private HogeFragmentArgs() { } public static HogeFragmentArgs fromBundle(Bundle bundle) { HogeFragmentArgs result = new HogeFragmentArgs(); if (bundle.containsKey(&amp;quot;step&amp;quot;)) { result.</description>
    </item>
    
    <item>
      <title>Android: æ‹¡å¼µé–¢æ•°ã§LiveDataã®Single Eventã‚’æ‰±ã†</title>
      <link>https://satoshun.github.io/2018/05/singlelivedata/</link>
      <pubDate>Sat, 19 May 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/05/singlelivedata/</guid>
      <description>LiveDataã¯æœ€æ–°ã®å€¤ã‚’ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã™ã‚‹ãŸã‚ã€ã‚¨ãƒ©ãƒ¼å€¤ã®å–æ‰±ãªã©ã«å›°ã‚‹ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚ é©å½“ãªã‚¯ãƒ©ã‚¹ã‚’ä½œã‚‹ã®ã‚‚ã„ã„ã®ã§ã™ãŒã€æ‹¡å¼µé–¢æ•°ã§è¡¨ç¾ã™ã‚‹ã“ã¨ã‚‚å‡ºæ¥ã‚‹ã®ã§ãã®ç´¹ä»‹ã§ã™ã€‚
å®šç¾©ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
fun &amp;lt;T&amp;gt; singleLiveData(): MutableLiveData&amp;lt;T&amp;gt; { // skipç”¨ã®åˆæœŸå€¤ã‚’å…¥ã‚Œã¦ãŠã return MutableLiveData&amp;lt;T&amp;gt;().also { it.value = null } } fun &amp;lt;T&amp;gt; LiveData&amp;lt;T&amp;gt;.observeSingle(owner: LifecycleOwner, observer: ((T?) -&amp;gt; Unit)) { // æœ€åˆã®å€¤ã¯å¸¸ã«skipã™ã‚‹ã“ã¨ã§ã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ç„¡è¦–ã™ã‚‹ val firstIgnore = AtomicBoolean(true) this.observe(owner, Observer { if (firstIgnore.getAndSet(false)) return@Observer observer(it) }) }  ä½¿ã†æ™‚ã¯ã“ã‚“ãªæ„Ÿã˜ã§ä½¿ã„ã¾ã™ã€‚
// TestViewModel.kt class TestViewModel: ViewModel() { val errorEvent = singleLiveData&amp;lt;String&amp;gt;() } // TestActivity.kt testViewModel = ViewModelProviders.of(this).get(TestViewModel::class.java) testViewModel.errorEvent.observeSingle(activity) { Log.d(&amp;quot;one&amp;quot;, it.toString()) }  ãƒ¡ãƒªãƒƒãƒˆã¯ã‚µãƒ–ã‚¯ãƒ©ã‚¹ã‚’ä½œã‚‰ãšã«æ¸ˆã‚€ã¨ã“ã‚ã§ã™ã€‚
å‚è€ƒ  https://github.</description>
    </item>
    
    <item>
      <title>CoroutineBindingãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½œã‚Šã¾ã—ãŸ</title>
      <link>https://satoshun.github.io/2018/05/coroutinebinding-intro/</link>
      <pubDate>Sat, 19 May 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/05/coroutinebinding-intro/</guid>
      <description> CoroutineBindingãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½œã£ãŸã®ã§ãã®ç´¹ä»‹ã§ã™ã€‚ https://github.com/satoshun/CoroutineBinding
Androidé–‹ç™ºã§Coroutineã®æµã‚ŒãŒæ¥ã¦ã„ã‚‹ã¨æ€ã£ã¦ã„ã¦ã€RxBindingã®ã‚ˆã†ãªæ„Ÿã˜ã§ã€ Coroutineãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ã«Viewã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’å—ã‘å–ã‚ŒãŸã‚‰ä¾¿åˆ©ãã†ã ãªã¨æ€ã„ä½œã‚Šã¾ã—ãŸã€‚
ä½¿ã„æ–¹ ä¾‹ãˆã°clickã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’å—ã‘å–ã‚ŠãŸã„ã¨ã—ã¾ã™ã€‚ CoroutineBindingã§ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ãã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
val root = findViewById&amp;lt;ViewGroup&amp;gt;(R.id.root) launch(UI) { for (click in root.clicks()) { Log.d(&amp;quot;clicked&amp;quot;, click.toString()) } }  RxBindingã®ã‚ˆã†ã«ä½¿ã†ã“ã¨ãŒå‡ºæ¥ã¾ã™! ä»–ã®APIã«é–¢ã—ã¦ã‚‚RxBindingã«æº–æ‹ ã—ã¦ã„ã‚‹ãŸã‚ã€RxBindingã‚’ä½¿ã£ãŸã“ã¨ãŒã‚ã‚‹äººã¯è‡ªç„¶ã«ä½¿ãˆã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚
ã¾ã¨ã‚  Coroutineã‚’ä½¿ã£ã¦ã„ã‚‹äººãªã‚‰ä¾¿åˆ©ã«ä½¿ãˆã‚‹ã¨æ€ã†ã®ã§ã€ãœã²ä½¿ã£ã¦ä¸‹ã•ã„! https://github.com/satoshun/CoroutineBinding ä½•ã‹ã‚ã‚Œã°issueã‚„ã€PRã‚’è²°ãˆã‚‹ã¨å¬‰ã—ã„ã§ã™  </description>
    </item>
    
    <item>
      <title>Kotlin: ãƒ­ãƒ¼ã‚«ãƒ«ã§æ˜ç¤ºçš„ã«å‹ã‚’å®£è¨€ã™ã‚‹ã“ã¨ã«ã¤ã„ã¦</title>
      <link>https://satoshun.github.io/2018/04/about_writing_type_in_kotlin/</link>
      <pubDate>Mon, 16 Apr 2018 22:50:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/04/about_writing_type_in_kotlin/</guid>
      <description> ãƒã‚¨ãƒ ã§ã™ã€‚
çµè«– åŸºæœ¬çš„ã«ãƒ­ãƒ¼ã‚«ãƒ«ã§æ˜ç¤ºçš„ã«å‹ã‚’å®£è¨€ã™ã‚‹ã®ã¯å¥½ã¾ã—ããªã„
å•é¡Œ Kotlinã§ã¯val(var)ã§å¤‰æ•°å®šç¾©ã™ã‚‹ã“ã¨ãŒã§ãã€å‹å®£è¨€ã‚’çœç•¥ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™ã€‚
val userName = dataSource.getUserName()  å‹å®£è¨€ã™ã‚‹ã®ã¨ã€çœç•¥ã™ã‚‹ã®ã©ã¡ã‚‰ãŒè‰¯ã„ã®ã‹è€ƒãˆã‚‹ã¨ã€å¤šãã®å ´åˆã€å‹å®£è¨€ã‚’ã—ãªã„ã»ã†ãŒå„ªã‚Œã¦ã„ã‚‹ã¨æ€ã„ã¾ã™ã€‚ãªãœã‹ã¨ã„ã†ã¨ã€å‹å®£è¨€ãŒå¿…è¦ã¨ã„ã†ã“ã¨ã¯ã€å‹å®£è¨€ã‚’ã—ãªã„ã¨äººé–“ãŒç†è§£ã§ããªã„ã»ã©è¤‡é›‘ãªã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ã‚‹ã“ã¨ã‚’æ„å‘³ã™ã‚‹ã‹ã‚‰ã§ã™ã€‚é©åˆ‡ãªãƒ¡ã‚½ãƒƒãƒ‰ã€é©åˆ‡ãªã‚¯ãƒ©ã‚¹ãŒæ¬ ã‘ã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚
Kotlinã«ãŠã„ã¦å‹å®£è¨€ã‚’æ›¸ãã“ã¨ã¯ã‚³ãƒ¡ãƒ³ãƒˆã‚’æ›¸ãã“ã¨ã«ç­‰ã—ã„ã¨æ€ã„ã¾ã™ã€‚å¤šãã®å ´åˆã¯å†—é•·ã§ã™ã€‚
ã¾ã¨ã‚  ãƒ­ãƒ¼ã‚«ãƒ«ã§å‹å®£è¨€ãŒæ¬²ã—ããªã‚‹ã‚³ãƒ¼ãƒ‰ãŒã‚ã£ãŸã‚‰ã€ãã‚Œã¯è¤‡é›‘ã™ãã‚‹ã‚³ãƒ¼ãƒ‰ã®åŒ‚ã„ãŒã™ã‚‹  </description>
    </item>
    
    <item>
      <title>Android: Data Bindingã‚’ä½¿ã£ã¦ã„ã‚‹ã¨æœ¬å½“ã®ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ãŒå‡ºãªã„è©± &#43; å¯¾å‡¦æ³•</title>
      <link>https://satoshun.github.io/2018/04/android_improve-error-log/</link>
      <pubDate>Thu, 12 Apr 2018 07:10:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/04/android_improve-error-log/</guid>
      <description>å•é¡Œ Androidé–‹ç™ºã§Data Bindingã‚’ä½¿ã£ã¦ã„ã¦ã€ã•ã‚‰ã«Daggerãªã©ã®kaptã‚’å¿…è¦ã¨ã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã£ã¦ã„ã‚‹ã¨ã€ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ãŒéå¸¸ã«è¦‹ã«ãã„ or ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã«æœ¬å½“ã®å•é¡ŒãŒå‡ºã¦ã“ãªã„ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚
ç†ç”±ã¨ã—ã¦ã¯ã€Data Bindingã®ç”ŸæˆãŒå¤±æ•—ã™ã‚‹ã¨ã€MainActivityBindingã¿ãŸã„ãªã‚¯ãƒ©ã‚¹ãŒç”Ÿæˆã•ã‚Œãªã„ã®ã§ã€ã„ãŸã‚‹ã¨ã“ã‚ã§Binding ã‚¯ãƒ©ã‚¹ã®å‚ç…§ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã™ã€‚ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã‚¨ãƒ©ãƒ¼ã‚’100è¡Œ?ã—ã‹å‡ºã•ãªã„ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ãŸã‚ã€å‚ç…§ã‚¨ãƒ©ãƒ¼ã ã‘ã§ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚¨ãƒ©ãƒ¼è¡Œæ•°ã‚’è¶…ãˆã¦ã—ã¾ã„ã€æœ¬å½“ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºåŠ›ã•ã‚Œãªã„ã‚±ãƒ¼ã‚¹ãŒã‚ã‚Šã¾ã™ã€‚(å¤§è¦æ¨¡ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã ã¨èµ·ã“ã‚ŠãŒã¡ã ã¨æ€ã„ã¾ã™)
è§£æ±ºæ³• å…¨ã¦ã®ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ãŒæ¬²ã—ã„æ™‚ã¯ã€build.gradleã«ä»¥ä¸‹ã®è¨˜è¿°ã‚’ã™ã‚Œã°è‰¯ã„ã§ã™
kapt { javacOptions { option(&amp;quot;-Xmaxerrs&amp;quot;, 5000) } }  ã“ã‚Œã¯ã€ã‚¨ãƒ©ãƒ¼ã®è¡Œæ•°ã‚’å¢—ã‚„ã™ãŸã‚ã®è¨­å®šã§ã™ã€‚5000ã¯ã¨ã‚Šã‚ãˆãšã§ã‹ã„å€¤ã‚’å…¥ã‚Œã¦ãŠã‘ã°å¤§ä¸ˆå¤«ã ã‚ã†ã¨ã„ã†è€ƒãˆã§ã™ã€‚
ã“ã‚Œã‚’å…¥ã‚ŒãŸã“ã¨ã§ã€å¼Šãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã§ã¯Support libraryã‚’27.1.1ã«ä¸Šã’ã‚‹ã“ã¨ã«è‹¦åŠ´ã—ã¦ã„ãŸã®ã§ã™ãŒã€è§£æ±ºã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã—ãŸã€‚
before(ä¸€éƒ¨ãƒ­ã‚°ä¿®æ­£ã—ã¦ã„ã¾ã™)
... // é•·ã„ã‚¨ãƒ©ãƒ¼ãƒ­ã‚° ... ... symbol: class DataBindingComponent location: class ActivityMainBinding e: ActivityMainBinding.java:91: error: cannot find symbol @Nullable ViewGroup root, boolean attachToRoot, @Nullable DataBindingComponent component) { ^ symbol: class DataBindingComponent location: class ActivityMainBinding e: ActivityMainBinding.java:102: error: cannot find symbol @Nullable DataBindingComponent component) { ^ symbol: class DataBindingComponent location: class ActivityMainBinding :app:kaptProductDebugKotlin FAILED  after</description>
    </item>
    
    <item>
      <title>Activityã‚„Fragmentã«ã‚³ãƒ¡ãƒ³ãƒˆã‚’æ›¸ãã“ã¨ã«ã¤ã„ã¦</title>
      <link>https://satoshun.github.io/2018/04/about_writing_comment/</link>
      <pubDate>Thu, 05 Apr 2018 00:10:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/04/about_writing_comment/</guid>
      <description>ãƒã‚¨ãƒ ã§ã™ã€‚æœ€è¿‘(2018å¹´4æœˆç¾åœ¨)æ€ã£ã¦ã„ã‚‹ã“ã¨ãªã®ã§ã€ä»Šå¾Œè€ƒãˆãŒå¤‰ã‚ã‚‹å¯èƒ½æ€§ã¯å¤§ã„ã«ã‚ã‚Šã¾ã™ã€‚
ä¾‹ãˆã°ä»¥ä¸‹ã®ã‚ˆã†ãªActivityãŒã‚ã‚‹ã¨ã—ã¾ã™ã€‚
class HogeActivity : Activity() { ... ... private fun isHeavyUser(loginCount: Int, firstAccess: Boolean) : Boolean() { return firstAccess || (loginCount &amp;gt;= 10 &amp;amp;&amp;amp; loginCount &amp;lt;= 100) } }  ã“ã‚Œã‚’è¦‹ãŸæ™‚ã€ã€Œãªã‚“ã§ loginCount &amp;lt;= 100ã«ã—ã¦ã„ã‚‹ã®? 100å›ä»¥ä¸Šãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã‚‹ã‚“ã ã‹ã‚‰ãƒ˜ãƒ“ãƒ¼ãƒ¦ãƒ¼ã‚¶ã‚„ã‚“?ã€ ã£ã¦æ€ã†å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ ã—ãŸããªã‚Šã¾ã™ã€‚
class HogeActivity : Activity() { private fun isHeavyUser(loginCount: Int, firstAccess: Boolean) : Boolean() { // 100å›ä»¥ä¸Šãƒ­ã‚°ã‚¤ãƒ³ã—ãŸå ´åˆã¯è¶…ãƒ˜ãƒ“ãƒ¼ãƒ¦ãƒ¼ã‚¶ãªã®ã§100ä»¥ä¸Šã¯heavy userã§ã¯ãªã„ return firstAccess || (loginCount &amp;gt;= 10 &amp;amp;&amp;amp; loginCount &amp;lt;= 100) } }  ã€Œè¶…ãƒ˜ãƒ“ãƒ¼ãƒ¦ãƒ¼ã‚¶ã£ã¦ã„ã†ã®ãŒã„ã¦ã€ãã‚Œã«ãƒ˜ãƒ“ãƒ¼ãƒ¦ãƒ¼ã‚¶ã¯å«ã¾ã‚Œã¦ã„ãªã„ã®ã­ã€‚ã€ã¨ã„ã†ã®ãŒã‚³ãƒ¡ãƒ³ãƒˆã‹ã‚‰ç†è§£ã§ãã¾ã™ã€‚
ãŸã ã€è‡ªåˆ†ã®è€ƒãˆã§ã¯ä¸Šè¨˜ã®ã‚³ãƒ¼ãƒ‰ã¯æ ¹æœ¬çš„ã«é–“é•ã£ã¦ã„ã‚‹ã¨æ€ã£ã¦ã„ã¦ã€ãã‚‚ãã‚‚Activityã§ã‚³ãƒ¡ãƒ³ãƒˆãŒå¿…è¦ãªã»ã©è¤‡é›‘ãªã“ã¨ã‚’ã—ã¦ã„ã‚‹ã®ãŒå•é¡Œã ã¨æ€ã„ã¾ã™ã€‚ ãªã‚“ã§Activityã§è¤‡é›‘ãªã“ã¨ã‚’ã—ã¦ã¯ã„ã‘ãªã„ã‹ã¨ã„ã†ã¨ã€Activtyã¯Contextã«ã‚¢ã‚¯ã‚»ã‚¹ã§ããŸã‚Šã¨ã€ãªã‚“ã§ã‚‚å‡ºæ¥ã‚‹ã‹ã‚‰ã§ã™ã€‚ãªã‚“ã§ã‚‚å‡ºæ¥ã‚‹å±¤ã§ã„ã‚ã„ã‚ã‚„ã£ã¦ã—ã¾ã†ã¨ã€ ã„ã‚ã‚†ã‚‹fat activityå•é¡ŒãŒèµ·ã“ã£ã¦ã—ã¾ã„ã¾ã™ã€‚</description>
    </item>
    
    <item>
      <title>æ„Ÿæƒ³: Androidã‚¢ãƒ—ãƒªè¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³å…¥é–€</title>
      <link>https://satoshun.github.io/2018/03/android-architecture-started/</link>
      <pubDate>Fri, 02 Mar 2018 00:28:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/03/android-architecture-started/</guid>
      <description> Androidã‚¢ãƒ—ãƒªè¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³å…¥é–€ã‚’èª­ã‚“ã ã®ã§ã–ã£ãã‚Šã¨æ„Ÿæƒ³ã€‚
https://peaks.cc/books/architecture_patterns
æ„Ÿæƒ³  MVP  PresenterãŒViewã¨Modelã¸ã®ä»²ä»‹å½¹ãªã®ã§ã€Presenterã¯ã©ã†ã—ã¦ã‚‚fatã«ãªã‚Šãã†  Presenterã§Viewã€ModelãŒä½•ã‚’å‡ºæ¥ã‚‹ã‹ã‚’çŸ¥ã‚‰ãªã‘ã‚Œã°ãªã‚‰ãªã„  Contractã¿ãŸã„ãªã‚¤ãƒ³ã‚¿ãƒ•ã‚§ãƒ¼ã‚¹ã‚’åˆ‡ã‚‹ã®ã¯å¥½ã  ãã‚Œã‚’è¦‹ãŸã ã‘ã§ä½•ã‚’ãã®ãƒšãƒ¼ã‚¸ã§ã‚„ã£ã¦ã„ã‚‹ã®ã‹ãŒæ´ã‚ã‚‹ã®ã§  Presenterã¯Contextã‚’çŸ¥ã‚‰ãªãè‰¯ã„ã€Pure Javaãªã®ã§ãƒ†ã‚¹ã‚¿ãƒ–ãƒ«ã ã—ç¶ºéº—ã«ãªã‚Šãã†  MVVM  å€‹äººçš„ã«ã¯MVPã‚ˆã‚Šå¥½ã  ViewModelãŒViewã®å‚ç…§ã‚’æŒãŸãªãã¦è‰¯ã„ã®ã§å°‘ã—ã‚¹ãƒƒã‚­ãƒªã™ã‚‹  ãŸã Viewã¸ã®å‚ç…§ãŒãªã„ã ã‘ã§ã€LiveDataãªã‚ŠObservableFieldã«å€¤ã‚’æ›¸ãå‡ºã™ã®ã§å®Ÿè³ªçš„ã«ã¯ViewãŒã©ã‚“ãªã“ã¨ã‚’ã—ãŸã„ã‹çŸ¥ã£ã¦ã„ã‚‹ã‹ã‚‰åŒç­‰ã¨ã„ãˆã°åŒç­‰   Viewã¸ã®å‚ç…§ã‚’æŒãŸãªã„ã®ã§ã€AACã®ViewModelã¸ã®é©åˆæ€§ã¯é«˜ã„ã¨æ€ã†  DataBindingã®ObservableFieldã¨ã‹ã‚’ä½¿ã‚ãªã„å‰æã€‚ä½¿ã†ã¨Viewã¸ã®å‚ç…§ã‚’æŒã£ã¦ãƒ¡ãƒ¢ãƒªãƒªãƒ¼ã‚¯ã—ã¡ã‚ƒã†   Flux  å˜ä¸€æ–¹å‘ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ã¯å‡„ã„è‰¯ã„ã¨æ€ã†  å˜ä¸€æ–¹å‘ã¯Fluxã ã‘ã«é™ã‚‰ãªã„ã‘ã©ã€Fluxã‚’è±¡å¾´ã™ã‚‹1ã¤ã®ç‰¹å¾´  ViewModelã¨ã‹Presenterã£ã¦å‡¦ç†ãŒé›†ä¸­ã™ã‚‹å‚¾å‘ã«ã‚ã‚‹ã¨æ„Ÿã˜ã¦ã„ã¦ã€Fluxã ã¨Storeã€ActionCreatorã£ã¦å½¢ã§åˆ‡ã‚Šå‡ºã›ã‚‹ã‹ã‚‰è‰¯ã„ Fluxã‚‚AACã¨ã®ç›¸æ€§ã¯è‰¯ã„ã¨æ€ã†  è² å‚µã®è©±  è² å‚µã«å¯¾ã™ã‚‹è§£æ±ºç­–ã®1ã¤ã¨ã—ã¦React Nativeã‚’å‡ºã™ã®ã¯ç™ºæƒ³ã¨ã—ã¦å‡„ã„ã¨æ€ã£ãŸã—ã€ãã†ã„ã†è§£æ±ºæ–¹æ³•ã‚‚ã‚ã‚‹ã®ã‹ã¨æ€ã£ãŸ  ãƒ¡ãƒ¢  ãƒ‡ãƒ¼ã‚¿å±¤ã®æŠ½è±¡åŒ–ã«é–¢ã—ã¦ã¯Repositoryçš„ãªã‚‚ã®ã‚’ä½œã‚‹ã§è‰¯ã•ãã† ãƒ‡ãƒ¼ã‚¿å´ã¯Rxã€UIå´ã«åæ˜ ã™ã‚‹æ™‚ã¯LiveDataãŒè‰¯ã•ãã†   </description>
    </item>
    
    <item>
      <title>DroidKaigi2018ã§ã€Œãªã‚“ã¨ãªãå‹•ã„ã¦ã„ã‚‹Proguardã‹ã‚‰è„±å‡ºã™ã‚‹ãŸã‚ã«ã€ã¨ã„ã†ãƒ†ãƒ¼ãƒã§ç™ºè¡¨ã—ã¾ã—ãŸ</title>
      <link>https://satoshun.github.io/2018/02/droidkaigi-2018/</link>
      <pubDate>Fri, 09 Feb 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/02/droidkaigi-2018/</guid>
      <description>DroidKaigi2018ã§ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒæ¡æŠã•ã‚ŒãŸã®ã§ç™ºè¡¨ã—ã¾ã—ãŸã€‚
 https://goo.gl/S95MJs
æ­£ç›´ã€Proguardã¯ç›®æ–°ã—ã„ãƒˆãƒ”ãƒƒã‚¯ã§ãªã„ã®ã§ãã‚“ãªã«èãã«æ¥ã¦ãã‚Œãªã„ã ã‚ã†ãªã¨æ€ã£ã¦ã„ã¾ã—ãŸã€‚ ã—ã‹ã—ã€Room3ã¨ã„ã†åºƒã„éƒ¨å±‹ãŒå‰²ã‚Šå½“ã¦ã‚‰ã‚Œã¦ã€ã•ã‚‰ã«å½“æ—¥ã¯ã‹ãªã‚Šã®äººãŒèãã«æ¥ã¦ãã‚Œã¾ã—ãŸã€‚æœ¬å½“ã«èãã«æ¥ã¦ãã‚ŒãŸäººã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ğŸ˜ŠğŸ˜ŠğŸ˜Š
Twitterã®åå¿œã‚’è¦‹ã‚‹é™ã‚Šã ã¨ã€åˆ†ã‹ã‚Šã‚„ã™ã„ã¨è¨€ã£ã¦ã„ã‚‹äººãŒå¤šãã„ãŸã®ã§å¬‰ã—ã‹ã£ãŸã§ã™ã€‚ Proguardã¯è‹¦æ‰‹æ„è­˜ã‚’æŒã£ã¦ã„ã‚‹äººãŒå¤šã„ã¨æ€ã£ã¦ã„ã¦ã€ãªã®ã§step by stepã§é †åºè‰¯ãèã‘ã‚‹ã‚ˆã†ãªç™ºè¡¨ã‚’å¿ƒæ›ã‘ãŸã®ã§ãã®åŠ¹æœãŒå°‘ã—ã¯å‡ºãŸã®ã‹ãªã¨æ€ã£ã¦ã„ã¾ã™ã€‚
åçœç‚¹ã¨ã—ã¦ã¯ã€è‡ªåˆ†ãŒæƒ³å®šã—ãŸã‚ˆã‚Šæ™‚é–“ã«ä½™è£•ãŒã‚ã£ãŸã®ã§ä½•ã‹é¢ç™½ã„ã“ã¨ã‚’å–‹ã‚ã†ã¨ã—ãŸã‚‰ä½•ã‚‚æ€ã„ã¤ã‹ãªã„ã§ãƒ•ã‚¬ãƒ•ã‚¬ã—ã¦ã—ã¾ã£ãŸã¨ã“ã‚ã§ã™ã€‚ ä»Šå¾Œã¯ãƒ•ã‚¬ãƒ•ã‚¬ã›ãšã«ã€ã‚¢ãƒ‰ãƒªãƒ–åŠ›ã¿ãŸã„ãªã‚‚ã®ã‚’èº«ã«ã¤ã‘ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™!
ã‚ã¨ã€ã‚‚ã†ä¸€ã¤åçœç‚¹ã¨ã—ã¦ã™ã¹ã‚‹ã®ãŒæ€–ãã¦ç©æ¥µçš„ã«ãƒã‚¿ã¿ãŸã„ãªã‚‚ã®ã‚’ã‚¹ãƒ©ã‚¤ãƒ‰ã«å…¥ã‚Œã‚‰ã‚Œãªã‹ã£ãŸã“ã¨ã§ã™ã€‚ä¸€å¿œè€ƒãˆã¦ã„ãŸã‚‚ã®ã¯
 ã€ŒSelf-Styled Proguardã‚¨ãƒãƒ³ã‚¸ã‚§ãƒªã‚¹ãƒˆã§ã™ã€ã¨è‡ªå·±ç´¹ä»‹ã—ã‚ˆã†ã¨ã—ãŸã€‚ åƒ•ã®ç™ºè¡¨è³‡æ–™ã¯Proguardã«å¤±æ•—ã—ã¦ã‚„ã‚„å†—é•·ã«ãªã£ã¦ã—ã¾ã„ã¾ã—ãŸã‘ã©ã€ã¿ãªã•ã‚“ã®APKã‚µã‚¤ã‚ºã¯Proguardã«æˆåŠŸã—ã¦å°ã•ããªã‚‹ã“ã¨ã‚’æœŸå¾…ã—ã¦ã„ã¾ã™ã€‚ã¿ãŸã„ãªã“ã¨ã‚’è¨€ãŠã†ã¨ã—ãŸã€‚  ã¿ãŸã„ãªã“ã¨ã‚’è¨€ã£ã¦ç¬‘ã„ã‚’å–ã‚ŠãŸã‹ã£ãŸãªã¨å¾Œæ‚”ã—ã¦ã„ã¾ã™(ç¬‘ã„ã‚’å–ã‚Œã‚‹ã¨ã¯è¨€ã£ã¦ã„ãªã„)ã€‚
æ¥å¹´ã‚‚DroidKaigiã‚ã‚‹ã¨ã—ãŸã‚‰CfPå‡ºã—ã¦ã¾ãŸç™»å£‡ã§ãã‚‹ã‚ˆã†ã«é ‘å¼µã‚Šã¾ã™ã€‚ ãã—ã¦é‹å–¶ã®çš†ã•ã‚“æœ¬å½“ã«ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚å‡„ã„æ¥½ã—ã‹ã£ãŸã§ã™(â€¢Ó©â€¢)â™¡</description>
    </item>
    
    <item>
      <title>Android: ViewãŒã©ã®Fragmentã«å±ã—ã¦ã„ã‚‹ã‹ã‚’Viewã‹ã‚‰å–å¾—ã™ã‚‹</title>
      <link>https://satoshun.github.io/2018/01/android-how_to_get_fragment_from_view/</link>
      <pubDate>Sun, 28 Jan 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/01/android-how_to_get_fragment_from_view/</guid>
      <description>ViewãŒã©ã®Fragmentã«å±ã—ã¦ã„ã‚‹ã‹ã‚’å–å¾—ã™ã‚‹æ–¹æ³•ã®ç´¹ä»‹ã«ãªã‚Šã¾ã™ã€‚ å‰ã€…ã‹ã‚‰tagã€idä»¥å¤–ã®ä»•çµ„ã¿ã§å–å¾—å‡ºæ¥ãªã„ã‹ãªã¨è€ƒãˆã¦ã„ãŸã‚‰ã€Glideã§Viewã‹ã‚‰Fragmentã‚’å–å¾—ã™ã‚‹ã‚³ãƒ¼ãƒ‰ãŒã‚ã‚Šã¾ã—ãŸã€‚
@Nullable private Fragment findSupportFragment(@NonNull View target, @NonNull FragmentActivity activity) { tempViewToSupportFragment.clear(); findAllSupportFragmentsWithViews( activity.getSupportFragmentManager().getFragments(), tempViewToSupportFragment); Fragment result = null; View activityRoot = activity.findViewById(android.R.id.content); View current = target; while (!current.equals(activityRoot)) { result = tempViewToSupportFragment.get(current); if (result != null) { break; } if (current.getParent() instanceof View) { current = (View) current.getParent(); } else { break; } } tempViewToSupportFragment.clear(); return result; } private static void findAllSupportFragmentsWithViews( @Nullable Collection&amp;lt;Fragment&amp;gt; topLevelFragments, @NonNull Map&amp;lt;View, Fragment&amp;gt; result) { if (topLevelFragments == null) { return; } for (Fragment fragment : topLevelFragments) { // getFragment()s in the support FragmentManager may contain null values, see #1991.</description>
    </item>
    
    <item>
      <title>Kotlin: æ‹¡å¼µé–¢æ•°ã‹ã‚‰protectedãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹</title>
      <link>https://satoshun.github.io/2018/01/extension-function-with-protected/</link>
      <pubDate>Sun, 07 Jan 2018 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2018/01/extension-function-with-protected/</guid>
      <description> LiveDataã®onActiveãƒ¡ã‚½ãƒƒãƒ‰ã§èª¬æ˜ã—ã¾ã™ã€‚onActiveãƒ¡ã‚½ãƒƒãƒ‰ã¯ä»¥ä¸‹ã§å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚
package android.arch.lifecycle; public abstract class LiveData&amp;lt;T&amp;gt; { protected void onActive() { } }  onActiveã¯protectedã§å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚åŒä¸€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å†…ã§æ‹¡å¼µé–¢æ•°ã‚’å®šç¾©ã™ã‚‹ã“ã¨ã§ã€onActiveãƒ¡ã‚½ãƒƒãƒ‰ã«æ‹¡å¼µé–¢æ•°å†…ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹äº‹ãŒã§ãã¾ã™ã€‚
package android.arch.lifecycle fun &amp;lt;T&amp;gt; LiveData&amp;lt;T&amp;gt;.accessOnActive() { onActive() // LiveDataã‚¯ãƒ©ã‚¹ã¨åŒä¸€ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§å®šç¾©ã™ã‚‹ã“ã¨ã§ã€protectedãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ }  åŒä¸€ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã§å®šç¾©ã—ã¦ã„ãªã„å ´åˆã¯protectedãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ã¯å‡ºæ¥ãšã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚
package android.arch fun &amp;lt;T&amp;gt; LiveData&amp;lt;T&amp;gt;.accessOnActive() { onActive() // ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ &amp;quot;Cannot access &#39;onActive&#39;: it is protected in &#39;LiveData&#39;&amp;quot; }  ãªãœã‹ã“ã®ã‚ˆã†ãªæŒ™å‹•ã«ãªã‚‹ã‹? protectedãƒ¡ã‚½ãƒƒãƒ‰ã¯åŒä¸€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å†…ã§ã‚ã‚Œã°ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã®ã§ã€æ‹¡å¼µé–¢æ•°ã‚’åŒä¸€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å†…ã§å®šç¾©ã™ã‚‹ã“ã¨ã§protectedãƒ¡ã‚½ãƒƒãƒ‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚Javaã§ã‚‚åŒæ§˜ã®ãƒ«ãƒ¼ãƒ«ã§ã™ã€‚
ã¾ã¨ã‚ protectedãªãƒ¡ã‚½ãƒƒãƒ‰ã«æ‹¡å¼µé–¢æ•°å†…ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã®ã¯è¡Œå„€çš„ã«ã¯è‰¯ããªã„ã¨æ€ã†ã®ã§ã€å¥¥ã®æ‰‹æ®µã¨ã—ã¦ä½¿ã†ã®ãŒè‰¯ã•ãã†
å‚è€ƒ  https://medium.com/@dpreussler/unit-testing-activity-lifecycle-4e740f71e68a  </description>
    </item>
    
    <item>
      <title>Android: MVP, Dagger2, Retrofitãªã©ãªã©ã§ã‚¢ãƒ—ãƒªã‚’ä½œã‚Šã¾ã—ãŸ</title>
      <link>https://satoshun.github.io/2015/09/android-app-events/</link>
      <pubDate>Sun, 06 Sep 2015 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2015/09/android-app-events/</guid>
      <description>ã‚¤ãƒ™ãƒ³ãƒˆã‚’æ¤œç´¢ã™ã‚‹Androidã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ãŸã®ã§, ä½¿ã£ãŸæŠ€è¡“ã®ã¾ã¨ã‚ã§ã™.
ã‚¢ãƒ—ãƒªã®æŠ€è¡“çš„æ©Ÿèƒ½, ç‰¹å¾´ã¯ä»¥ä¸‹ã«ãªã‚Šã¾ã™.
 HTTPã‚’ä»‹ã—ã¦ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹  æ¤œç´¢å¯¾è±¡ã®ã‚µãƒ¼ãƒã¯è¤‡æ•°ã‚ã‚‹ãŸã‚(ä»Šå›ã¯3ã¤), ã©ã“ã‹ã§ãã‚Œã‚‰ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‡ãƒ¼ã‚¿ã‚’åŒæœŸã™ã‚‹å¿…è¦ãŒã‚ã‚‹ ãã‚Œã‚‰è¤‡æ•°ã®ã‚µãƒ¼ãƒãƒ¼ã¯JSONã‚’è¿”ã™ãŒ, å¾®å¦™ã«JSONã®æ§‹é€ ãŒç•°ãªã‚‹  Data-Bindingãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã† MVP(Model-View-Presenter)ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½¿ã†  Activity(Fragment)ã«æ©Ÿèƒ½ãŒé›†ä¸­ã—ãªã„ã‚ˆã†ã«ã—ãŸã„!   ä¸Šè¨˜ã‚’ä¸­å¿ƒã«ã©ã®ã‚ˆã†ã«å®Ÿè£…ã‚’ã—ãŸã‹ã‚’èª¬æ˜ã‚’ã—ã¦ã„ãã¾ã™.
ãƒ•ãƒ«ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ã“ã“ã«ã‚ã‚Šã¾ã™. https://github.com/satoshun/AndroidEvents
HTTPã‚’ä»‹ã—ã¦ã‚¤ãƒ™ãƒ³ãƒˆã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹ connpass, Atnd, Zusaarã®3ã¤ã®APIã‚’ä½¿ã†ã“ã¨ã«ã—ã¾ã—ãŸ. Retrofitã§APIã‚’å®šç¾©ã—, JSONã®ãƒ‘ãƒ¼ã‚¹ã«ã¯Gson, ãƒ‡ãƒ¼ã‚¿ã®å‡¦ç†ã«ã¯RxJavaã‚’ä½¿ã„ã¾ã—ãŸ.
ä¾‹ãˆã°, connpass APIã¯ä»¥ä¸‹ã®ã‚ˆã†ã«å®šç¾©ã—ã¾ã—ãŸ.
/** Get data from Conpass */ public interface Connpass { @GET(&amp;quot;/v1/event&amp;quot;) Observable&amp;lt;ConnpassResponse&amp;gt; search( @Query(&amp;quot;ymd&amp;quot;) List&amp;lt;String&amp;gt; ymds); @GET(&amp;quot;/v1/event&amp;quot;) Observable&amp;lt;ConnpassResponse&amp;gt; search( @Query(&amp;quot;keyword&amp;quot;) String keyword, @Query(&amp;quot;ymd&amp;quot;) List&amp;lt;String&amp;gt; ymds); }  keywordã¨ymdã‚’æŒ‡å®šã—ã¦ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ç”Ÿæˆã—ã¾ã™. ã€Œ2015/12/31ã®Androidã®ã‚¤ãƒ™ãƒ³ãƒˆã€ã®ã‚ˆã†ã«ä½¿ã†æƒ³å®šã§ã™. Retrofitã‚’ä½¿ã†ã¨, ã“ã®ã‚ˆã†ã«interfaceã¨ã—ã¦, APIã‚’å®šç¾©ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™. (https://github.com/satoshun/AndroidEvents/blob/master/app/src/main/java/com/github/satoshun/events/network/Connpass.java#L10)
æ¬¡ã«, RxJavaã®èª¬æ˜ã‚’ã—ã¾ã™. RxJava(Observable)ã‚’ä½¿ã†ã¨, éåŒæœŸã«ãƒ‡ãƒ¼ã‚¿ãŒæ‰±ã„ã‚„ã™ããªã‚Šã¾ã™. ã¾ãŸãƒ‡ãƒ¼ã‚¿ã®ãƒãƒ¼ã‚¸(merge)ã‚„, ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°(filter)ãªã©ã‚’ç°¡å˜ã«è¡Œã†ã“ã¨ãŒå‡ºæ¥ã¾ã™.</description>
    </item>
    
    <item>
      <title>Improving Android: åˆ—æŒ™ã«ã¯enumã§ã¯ãªãIntDef, StringDef annotationã‚’ä½¿ã†</title>
      <link>https://satoshun.github.io/2015/08/improve-android-performance1/</link>
      <pubDate>Tue, 11 Aug 2015 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2015/08/improve-android-performance1/</guid>
      <description>enumã®å…¸å‹çš„ãªä½¿ã„æ–¹ã¨ã—ã¦, æœˆ(month)ã‚„, ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ—ãƒ­ã‚³ãƒˆãƒ«ãªã©ã®, ç‰¹å®šã®ç¨®é¡ã‚’åˆ—æŒ™ã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã¾ã™.
åˆ—æŒ™å‹ã¨ã—ã¦ã®enumã¯, ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ãã“ã¨ãŒå‡ºæ¥ã¾ã™.
enum Month { JANUARY, FEBRUARY, MARCH, APRIL, MAY, JUNE, JULY, AUGUST, SEPTEMBER, OCTOBER, NOVEMBER, DECEMBER } /** æŒ‡å®šã—ãŸæœˆãŒä½•æ—¥ã¾ã§ã‚ã‚‹ã‹ã‚’è¿”ã™ */ int getDate(Month month) { //// }  ã¾ãŸ, enumã§ã¯ãªãå®šæ•°ã‚’ä½¿ã†ã¨ã—ãŸã‚‰ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ãã“ã¨ãŒå‡ºæ¥ã¾ã™.
static final int JANUARY = 1; static final int FEBRUARY = 2; static final int MARCH = 3; static final int APRIL = 4; ... static final int NOVEMBER = 11; static final int DECEMBER = 12; /** æŒ‡å®šã—ãŸæœˆãŒä½•æ—¥ã¾ã§ã‚ã‚‹ã‹ã‚’è¿”ã™ */ int getDate(int month) { //// }  å®šæ•°ã‚’ä½¿ã†ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã ã¨, getDate(int)ã®ãŸã‚, äºˆæœŸã›ã¬å€¤ãŒå…¥ã£ã¦ãã¦ã—ã¾ã†å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™.</description>
    </item>
    
    <item>
      <title>Android: Picassoã§ä½¿ã‚ã‚Œã¦ã„ã‚‹ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³</title>
      <link>https://satoshun.github.io/2015/06/reading_picasso/</link>
      <pubDate>Fri, 12 Jun 2015 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2015/06/reading_picasso/</guid>
      <description>Picassoã§ä½¿ã‚ã‚Œã¦ã„ã‚‹ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç´¹ä»‹ã™ã‚‹è¨˜äº‹ã§ã™.
Singletonãƒ‘ã‚¿ãƒ¼ãƒ³ Singletonãƒ‘ã‚¿ãƒ¼ãƒ³ã¯, ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ç”Ÿæˆã‚’1ã¤ã«åˆ¶é™ã™ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ãªã‚Šã¾ã™.
https://github.com/square/picasso/blob/d35058278cff55874d133cfd63286dd0f1ff0d50/picasso/src/main/java/com/squareup/picasso/Picasso.java#L672
public static Picasso with(Context context) { if (singleton == null) { synchronized (Picasso.class) { if (singleton == null) { singleton = new Builder(context).build(); } } } return singleton; }  Picasso#withã¯, ã™ã§ã«Picassoã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ singleton ãŒç”Ÿæˆã•ã‚Œã¦ã„ã‚Œã°ãã‚Œã‚’è¿”ã—, ç”Ÿæˆã•ã‚Œã¦ã„ãªã‘ã‚Œã°, ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’ç”Ÿæˆã—ã¦è¿”ã—ã¾ã™.
ã“ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ãƒ¡ãƒªãƒƒãƒˆã¯, ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’å¤šãã¦ã‚‚1ã¤ã—ã‹ä½œã‚‰ãªã„ã®ã§ãƒ¡ãƒ¢ãƒªçš„ã«æœ‰åˆ©ãªç‚¹ã§ã™(ä½¿ã„å›ã›ã‚‹) ã—ã‹ã—, singletonãªã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¯, è¤‡æ•°ã®ã‚¯ãƒ©ã‚¹ã‹ã‚‰ä½¿ã‚ã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã®ã§, ã‚¹ãƒ¬ãƒƒãƒ‰ã‚»ãƒ¼ãƒ•ã§ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™.
ã‚¹ãƒ¬ãƒƒãƒ‰ã‚»ãƒ¼ãƒ•ã«ã™ã‚‹ãŸã‚ã«ã¯, å…¨ã¦ã®fieldã®å€¤ã‚’finalã«ã™ã‚‹. æ’ä»–çš„åˆ¶å¾¡ã‚’å…¥ã‚Œã‚‹ãªã©ã®æ–¹æ³•ãŒã‚ã‚Šã¾ã™.
Builderãƒ‘ã‚¿ãƒ¼ãƒ³ Builderãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ç”Ÿæˆæ™‚ã«å¤šæ•°ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒå¿…è¦ãªã¨ãã«ä¾¿åˆ©ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã™.
https://github.com/square/picasso/blob/d35058278cff55874d133cfd63286dd0f1ff0d50/picasso/src/main/java/com/squareup/picasso/Picasso.java#L702
public static class Builder { private final Context context; private Downloader downloader; private ExecutorService service; private Cache cache; private Listener listener; private RequestTransformer transformer; private List&amp;lt;RequestHandler&amp;gt; requestHandlers; private Bitmap.</description>
    </item>
    
    <item>
      <title>Android: Dagger2ã§DIã‚’ã™ã‚‹. u2020ã‹ã‚‰èª­ã¿è§£ãç·¨ Part2</title>
      <link>https://satoshun.github.io/2015/05/dagger2_2/</link>
      <pubDate>Sun, 24 May 2015 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2015/05/dagger2_2/</guid>
      <description>æ¦‚è¦ ã“ã®è¨˜äº‹ã§ã¯, JakeWhartonã•ã‚“ã®u2020ã‹ã‚‰, Androidã§Dagger2ã‚’ä½¿ã†ã¨ãã®å®Ÿè·µçš„ãªæ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã™. u2020ã¯Dagger1ã‚’ä½¿ã£ã¦ã„ã¾ã™ãŒ, Dagger2ã«ãŠã„ã¦ã‚‚åŒæ§˜ã«ä½¿ãˆã‚‹ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯ãªã®ã§, u2020ã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ã¦èª¬æ˜ã—ã¾ã™.
DI, Dagger2ã®åŸºæœ¬ã«ã¤ã„ã¦çŸ¥ã‚ŠãŸã„æ–¹ã¯, Part1ã‚’è¦‹ã¦ä¸‹ã•ã„.
ç›®æ¬¡
 debugã¨productionã§Moduleã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ Debugå°‚ç”¨ã®Viewã‚’ä½œã‚‹ Mockãƒ¢ãƒ¼ãƒ‰ã®å®šç¾© -ã€€ã¾ã¨ã‚  debugã¨productionã§Moduleã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ gradleã¯, productFlavorsã‚’è¨­å®šã™ã‚‹ã“ã¨ã§, ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰, ãƒ“ãƒ«ãƒ‰è¨­å®šã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™. u2020ã§ã¯, production, internalã®flavorãŒã‚ã‚Šã¾ã™. ãã—ã¦, u2020ã¯flavorã®ç¨®é¡ã«ã‚ˆã£ã¦, DIã™ã‚‹å¯¾è±¡ã‚’åˆ‡ã‚Šæ›¿ãˆã¦ã„ã¾ã™. productionç”¨ã®Componentã¨debugç”¨ã®Componentã‚’ä½œæˆã™ã‚‹ã“ã¨ã§ãã‚Œã‚’å®Ÿç¾ã—ã¦ã„ã¾ã™. å…·ä½“çš„ã«ã¯,
 /src/production/java/com/jakewharton/u2020/Modules.java /src/internalDebug/java/com/jakewharton/u2020/Modules.java /src/internalRelease/java/com/jakewharton/u2020/Modules.javaã«  ãã‚Œãã‚ŒModuleã‚’å®šç¾©ã—, ãã‚Œã‚’Applicationã‚¯ãƒ©ã‚¹ã‹ã‚‰èª­ã¿è¾¼ã‚€ã‚ˆã†ã«ã—ã¦ã„ã¾ã™. ã“ã‚Œã§, flavorã”ã¨ã«injectã™ã‚‹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™.
ã“ã†ã™ã‚‹ã¨ä½•ãŒå¬‰ã—ã„ã‚“ã§ã—ã‚‡ã†ã‹? ä¾‹ãˆã°ä»¥ä¸‹ã®ã“ã¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã™.
 Debugã®ã¿ãƒ­ã‚°ã‚’æœ‰åŠ¹ã«ã—ãŸã„ APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’å¤‰ãˆãŸã„ debugå°‚ç”¨ã®Viewã‚’å‡ºã—ãŸã„ Testç”¨ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’injectã—ãŸã„ etc, etc&amp;hellip;  ä»¥ä¸‹ã§ã¯, ã‚ˆã‚Šç´°ã‹ãèª¬æ˜ã—ã¦ã„ãã¾ã™.
Debugå°‚ç”¨ã®Viewã‚’ä½œã‚‹ u2020ã§ã¯, Debugå°‚ç”¨ã®View DebugAppContainerãŒã‚ã‚Šã¾ã™. Debugå°‚ç”¨ã®View ã¯ã“ã‚“ãªæ„Ÿã˜ã§ã™. Debugãƒ“ãƒ«ãƒ‰ã®æ™‚ã¯, ã“ã®Containerã‚’injectã—ã¦ã„ã¾ã™.
DebugAppContainerã¯ç°¡å˜ã«ã„ãˆã°, DrawerLayoutã‚’1ã¤å®Ÿè£…ã—, ãã®ä¸­ã«ã€Œãƒ‡ãƒ¼ã‚¿ã‚’ãƒ¢ãƒƒã‚¯ã«å¤‰æ›´ã™ã‚‹ã€, ã€Œsocialæ©Ÿèƒ½ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã€ãªã©ã‚’è¨­å®šå‡ºæ¥ã‚‹Viewã‚’ãŠã„ã¦ã„ã¾ã™.
Mockãƒ¢ãƒ¼ãƒ‰ã®å®šç¾© u2020ã§ã¯Mockãƒ¢ãƒ¼ãƒ‰ãŒã‚ã‚Š, Mockãƒ‡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºæ©Ÿèƒ½ãŒã‚ã‚Šã¾ã™.
public final class DebugDataModule { .</description>
    </item>
    
    <item>
      <title>Android: Dagger2ã§DIã‚’ã™ã‚‹. åŸºæœ¬ç·¨ Part1</title>
      <link>https://satoshun.github.io/2015/05/dagger2/</link>
      <pubDate>Fri, 08 May 2015 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2015/05/dagger2/</guid>
      <description>æ¦‚è¦ ã“ã®è¨˜äº‹ã§ã¯, æœ€åˆã«DIã¨ã¯ä½•ã‹ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™. DIã‚’ç†è§£ã—ãŸå¾Œã«Dagger2ã®åŸºæœ¬çš„ãªä½¿ã„æ–¹ã‚’ç´¹ä»‹ã—ã¾ã™. Dagger2ã¯DI(Dependency Injection)ã‚’ã™ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™.
DIã¨ã¯? DIã¨ã¯Dependency Injectionã®ç•¥ã§, è¨³ã™ã¨ã€Œä¾å­˜æ€§ã®æ³¨å…¥ã€ã§ã™. ã“ã“ã§ã„ã†ä¾å­˜ã¨ã¯ ã‚¯ãƒ©ã‚¹åŒå£«ã®ä¾å­˜é–¢ä¿‚ã®ã“ã¨ã‚’è¡¨ã—ã¾ã™. ã‚¯ãƒ©ã‚¹åŒå£«ã®ä¾å­˜é–¢ä¿‚ã¯, å§”è­²ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ™‚ã«ç¾ã‚Œã¾ã™.
ä¾‹ãˆã°, ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ãŒã‚ã£ãŸã¨ã—ã¾ã™.
class Blogger { public Blogger() { } public void post(String title) { // ä½•ã‹ãƒ¡ã‚¤ãƒ³ã®å‡¦ç† // ... // fileã«logã‚’å–ã‚‹ FileLogger logger = new FileLogger(title); logger.logging(); } } class FileLogger implements Logger { @Override public void logging(String... messages) { // fileã«messagesã‚’æ›¸ãå‡ºã™ File file = new File(&amp;quot;hoge.txt&amp;quot;); ... } } interface Logger { void logging(String messgae); }  ã‚¯ãƒ©ã‚¹Bloggerã¯ã‚¯ãƒ©ã‚¹FileLoggerã«ä¾å­˜ã—ã¦ã„ã‚‹.</description>
    </item>
    
    <item>
      <title>Android: AndroidKaigiã¾ã¨ã‚</title>
      <link>https://satoshun.github.io/2015/04/droid-kaigi/</link>
      <pubDate>Sat, 25 Apr 2015 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2015/04/droid-kaigi/</guid>
      <description>AndroidKaigiã®è¨˜äº‹ã¾ã¨ã‚ã§ã™.
DroidKaigi - Welcome talk   DroidKaigi - Welcome talk  from mhidaka
ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã®ãŸã‚ã®å‹‰å¼·ä¼šã‚’ã‚„ã‚‹ã‚ˆ!ã¿ãŸã„ãªå†…å®¹
Activity, Fragment, CustomView ã®ä½¿ã„åˆ†ã‘ - ãƒãƒƒãƒãƒ§ãªActivityã«ã•ã‚ˆãªã‚‰ã™ã‚‹æ–¹æ³•   Activity, Fragment, CustomView ã®ä½¿ã„åˆ†ã‘ - ãƒãƒƒãƒãƒ§ãªActivityã«ã•ã‚ˆãªã‚‰ã™ã‚‹æ–¹æ³• -  from Yuki Anzai 
Cardboardã®UXã‚’ã‚«ãƒ¡ãƒ©ã§å‘ä¸Šã™ã‚‹   Cardboardã®UXã‚’ã‚«ãƒ¡ãƒ©ã§å‘ä¸Šã™ã‚‹ (droidkaigi 2015&amp;frasl;04)  from Kenichi Takahashi 
çµ¶å¯¾è½ã¡ãªã„ã‚¢ãƒ—ãƒªã®ä½œã‚Šæ–¹ ã‚ã‚‹ã‚²ãƒ¼ãƒ ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ§‹æˆã¨ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚µã‚¤ã‚¯ãƒ«   ã‚ã‚‹ã‚²ãƒ¼ãƒ ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ§‹æˆã¨ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚µã‚¤ã‚¯ãƒ«  from Kentaro Iizuka 
é–‹ç™ºã‚’åŠ¹ç‡çš„ã«é€²ã‚ã‚‹ã‚‰ã‚Œã‚‹ã¾ã§ã®é“ç¨‹   é–‹ç™ºã‚’åŠ¹ç‡çš„ã«é€²ã‚ã‚‹ã‚‰ã‚Œã‚‹ã¾ã§ã®é“ç¨‹  from Takao Sumitomo 
ã‚¢ãƒ—ãƒªã®ä¼ç”»ã€ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã‹ã‚‰ãƒªãƒªãƒ¼ã‚¹ã«è‡³ã‚‹ã¾ã§   åˆå­¦è€…ã«å¬‰ã—ã„Androidé–‹ç™ºç’°å¢ƒ   ã€DroidKaigi2015ã€‘åˆå­¦è€…ã«å¬‰ã—ã„Androidé–‹ç™ºç’°å¢ƒ(ã‚ã¨MVCã¨ã‹)  from Hiroyuki Kusu</description>
    </item>
    
    <item>
      <title>Android: FragmentPagerAdapterã§ãƒãƒã£ãŸè©±</title>
      <link>https://satoshun.github.io/2015/03/android-fragment_pager_adapter/</link>
      <pubDate>Wed, 18 Mar 2015 00:00:00 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2015/03/android-fragment_pager_adapter/</guid>
      <description>ãƒãƒã£ãŸã®ã§ãƒ¡ãƒ¢. ä»¥ä¸‹ã®ã“ã¨ã‚’ã—ãŸã‹ã£ãŸ.
 ãƒ‡ãƒ¼ã‚¿å–å¾—ã™ã‚‹ã¾ã§, Fragmentå†…ã§Progress Barã‚’å‡ºåŠ› ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—, Fragmentå†…ã«ã‚ã‚‹Adapterã®ãƒ‡ãƒ¼ã‚¿æ›´æ–° UIã«åæ˜   notifyDataSetChangedãƒ¡ã‚½ãƒƒãƒ‰ãŒåŠ¹ã‹ãªã„ ãƒ‡ãƒ¼ã‚¿ãŒæ›´æ–°ã—ãŸå¾Œã« FragmentPagerAdapter#notifyDataSetChangedãƒ¡ã‚½ãƒƒãƒ‰ã‚’å©ã‘ã°FramentãŒå†ç”Ÿæˆã•ã‚Œã‚‹ã‚“ã§ã—ã‚‡?ã¨æ€ã£ã¦ã„ãŸæ™‚æœŸãŒåƒ•ã«ã‚‚ã‚ã‚Šã¾ã—ãŸ. notifyDataSetChangedãƒ¡ã‚½ãƒƒãƒ‰ã‚’å©ã„ã¦ã‚‚, ãƒ‡ãƒ¼ã‚¿ãŒUIã«åæ˜ ã•ã‚Œãš, ProgressBarãŒè¡¨ç¤ºã•ã‚ŒãŸã¾ã¾ã§ã—ãŸ.
FragmentPagerAdapterã§ã¯, åŸºæœ¬çš„ã«ä¸€åº¦ä½œã‚‰ã‚ŒãŸFragmentã¯å‰Šé™¤ã•ã‚Œãš, notifyDataSetChangedãƒ¡ã‚½ãƒƒãƒ‰ã§ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°ã—ãŸã‚ˆãƒ¼ã¨çŸ¥ã‚‰ã›ã¦ã‚‚, Fragmentã‚’å†ç”Ÿæˆã—ã¦ãã‚Œã¾ã›ã‚“.(ä»•æ§˜é€šã‚Š)
ã“ã‚Œã¯ã©ã†ã—ãŸã‚‚ã®ã‹ã¨æ€ã£ã¦ã„ã‚ã„ã‚èª¿ã¹ãŸã¨ã“ã‚, FragmentStatePagerAdapterã‚¯ãƒ©ã‚¹ã«ã„ãã¤ãã¾ã—ãŸ.
FragmentStatePagerAdapterã‚’ä½¿ã† FragmentPagerAdapterã§ãªãã¦, FragmentStatePagerAdapterã‚’ä½¿ãˆã°UIã«ãƒ‡ãƒ¼ã‚¿ãŒåæ˜ ã•ã‚Œã¾ã—ãŸ.
ä»¥ä¸‹, å®Ÿè£…ä¾‹ã«ãªã‚Šã¾ã™. ã¾ãšã¯, ãƒ€ãƒ¡ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã™. FragmentPagerAdapterã‚¯ãƒ©ã‚¹ã‚’ä½¿ã„, Activityã§ãƒ‡ãƒ¼ã‚¿ã‚’å—ã‘å–ã£ãŸã‚‰, refreshãƒ¡ã‚½ãƒƒãƒ‰ã‚’å©ãã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™.
public class PagerAdapter extends FragmentPagerAdapter { ... ... public void refresh() { notifyDataSetChanged(); } }  FragmentPagerAdapterãŒã‚¹ãƒ¼ãƒ‘ãƒ¼ã‚¯ãƒ©ã‚¹ã«ãªã£ã¦ã„ã‚‹ãŸã‚, notifyDataSetChangedã‚’ä½•åº¦å©ã„ã¦ã‚‚, FragmentãŒå†ç”Ÿæˆã•ã‚Œã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“. ã¤ã¾ã‚Š, ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°ã—ãŸå¾Œã«UIã«ãƒ‡ãƒ¼ã‚¿ãŒåæ˜ ã•ã‚Œã¾ã›ã‚“.
æ¬¡ã«OKãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã™. FragmentStatePagerAdapterã‚’ä½¿ã„, getItemPositionã‚’Overrideã™ã‚‹ã®ãŒãƒã‚¤ãƒ³ãƒˆã§ã™.
public class PagerAdapter extends FragmentStatePagerAdapter { private List&amp;lt;Fragment&amp;gt; mFragments; ... ... @Override public int getItemPosition(Object object) { Fragment target = (Fragment) object; if (mFragments.</description>
    </item>
    
    <item>
      <title>Android: strings.xmlã®ã¾ã¨ã‚</title>
      <link>https://satoshun.github.io/2015/02/android-resource_string/</link>
      <pubDate>Sun, 22 Feb 2015 04:10:23 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2015/02/android-resource_string/</guid>
      <description>res/values/strings.xmlã¯, æ–‡å­—åˆ—é–¢é€£ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’ç®¡ç†ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã§ã™. æ–‡å­—åˆ—ã‚’ãƒ—ãƒ­ã‚°ãƒ©ãƒ å¤–ã§å®šç¾©ã™ã‚‹ã“ã¨ã§, å¤šå›½èªã®å¯¾å¿œ, ãƒ‡ãƒãƒƒã‚°ãƒ–ãƒ«ãƒ‰ã®æ™‚ã«ã‚µãƒ¼ãƒã®URLã‚’å¤‰æ›´ã™ã‚‹ç­‰ãŒ, ã‚³ãƒ¼ãƒ‰ã‚’ã„ã˜ã‚‰ãšã«å®¹æ˜“ã«è¡Œãˆã¾ã™.
ã¾ãŸ, æ„å¤–ã¨ã„ã‚ã„ã‚ãªæ©Ÿèƒ½ãŒã‚ã£ãŸã®ã§, ç´¹ä»‹ã—ãŸã„ã¨æ€ã„ã¾ã™.
åŸºæœ¬çš„ãªä½¿ã„æ–¹ &amp;lt;string name=&amp;quot;app_name&amp;quot;&amp;gt;Application&amp;lt;/string&amp;gt;  ã®ã‚ˆã†ã«è¨˜è¿°ã—ã¦ä½¿ã„ã¾ã™. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å´ã§ã¯, ä¸‹ã®ã‚ˆã†ã«å–å¾—ã—ã¾ã™.
getString(R.string.app_name); or context.getString(R.string.app_name);  ç‰¹ã«, èª¬æ˜ã¯ã„ã‚‰ãªã„ã¨æ€ã„ã¾ã™.
arrayã®å®šç¾© strings.xmlã§ã¯å˜ç´”ãªkey-valueã ã‘ã§ãªã, arrayã‚‚å®šç¾©ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™.
string-arrayè¦ç´ ã§å®šç¾©ã—ã¦ã‚ã’ã¾ã™.
&amp;lt;string-array name=&amp;quot;sports&amp;quot;&amp;gt; &amp;lt;item&amp;gt;ãƒãƒ©ã‚½ãƒ³&amp;lt;/item&amp;gt; &amp;lt;item&amp;gt;é‡çƒ&amp;lt;/item&amp;gt; &amp;lt;item&amp;gt;ã‚µãƒƒã‚«ãƒ¼&amp;lt;/item&amp;gt; &amp;lt;item&amp;gt;å“çƒ&amp;lt;/item&amp;gt; &amp;lt;/string-array&amp;gt;  ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å´ã§ã¯ä¸‹ã®ã‚ˆã†ã«å–å¾—ã—ã¾ã™.
getResources().getStringArray(R.array.sports) or context.getResources().getStringArray(R.array.sports)  Contextã‹ã‚‰ç›´æ¥å–å¾—ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ãªã„ã®ã§, ä¸€æ—¦Resourcesã‚’å–å¾—ã—, ãã“ã‹ã‚‰arrayã‚’å–ã‚Šå‡ºã—ã¾ã™.
å€¤å±•é–‹ strings.xmlã§ã¯, æ–‡å­—åˆ—å±•é–‹ã™ã‚‹ã“ã¨ãŒå‡ºæ¥ã¾ã™. printf formatã®ã‚ˆã†ã«ä½¿ã„ã¾ã™.
&amp;lt;!-- %1: å¼•æ•°1, $d: æ•°å­— --&amp;gt; &amp;lt;string name=&amp;quot;hoge&amp;quot;&amp;gt;Hello %1$d&amp;lt;/string&amp;gt; &amp;lt;!-- %1: å¼•æ•°1, %2: å¼•æ•°2, $s: æ–‡å­—åˆ— --&amp;gt; &amp;lt;string name=&amp;quot;hogestr&amp;quot;&amp;gt;%1$s %2$d %1$s&amp;lt;/string&amp;gt;  ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å´ã§ã¯, ä¸‹ã®ã‚ˆã†ã«æŒ‡å®šã—ã¾ã™.</description>
    </item>
    
    <item>
      <title>Android: Pull to Refreshã®å®Ÿè£…(SwipeRefreshLayout)</title>
      <link>https://satoshun.github.io/2015/02/android-pull_to_refresh/</link>
      <pubDate>Sun, 22 Feb 2015 04:09:23 +0000</pubDate>
      
      <guid>https://satoshun.github.io/2015/02/android-pull_to_refresh/</guid>
      <description>Androidã§Pull to Refreshã®å®Ÿè£…æ–¹æ³•ã§ã™. ListViewãªã©ã‚’ä¸‹æ–¹å‘ã«å¼•ã£å¼µã‚‹ã¨, ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°ã™ã‚‹ã‚ˆã†ã«å‡ºæ¥ã¾ã™. Gmailã¨ã‹ã§ä½¿ã‚ã‚Œã¦ã„ã‚‹ã‚ã‚Œã§ã™.
å…·ä½“çš„ã«ã¯, SwipeRefreshLayoutã‚’ä½¿ã£ã¦å®Ÿè£…ã—ã¾ã™. ä»¥ä¸‹ã§ã‚³ãƒ¼ãƒ‰ã§èª¬æ˜ã—ã¦ã„ãã¾ã™.
XMLå´ã®è¨˜è¿° ListViewã«è¦†ã„ã‹ã¶ã•ã‚‹ã‚ˆã†ã«å®šç¾©ã—ã¾ã™.
&amp;lt;android.support.v4.widget.SwipeRefreshLayout android:id=&amp;quot;@+id/refresh&amp;quot; android:layout_width=&amp;quot;match_parent&amp;quot; android:layout_height=&amp;quot;match_parent&amp;quot; &amp;gt; &amp;lt;ListView android:id=&amp;quot;@android:id/list&amp;quot; android:layout_width=&amp;quot;match_parent&amp;quot; android:layout_height=&amp;quot;match_parent&amp;quot; /&amp;gt; &amp;lt;/android.support.v4.widget.SwipeRefreshLayout&amp;gt;  XMLå´ã¯ã“ã‚Œã§å®Œäº†ã§ã™. ã“ã‚Œã§, ListViewã‚’å¼•ã£å¼µã‚‹ã¨ã€ŒPull to Refreshã€ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãŒèµ·ã“ã‚Šã¾ã™.
Activityå´ã®è¨˜è¿° Pull to Refreshã‚’ã—ãŸæ™‚ã«, ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºç”Ÿã™ã‚‹ã®ã§Listenerã‚’è¨˜è¿°ã—ã¾ã™.
å®Ÿè£…ä¾‹ã§ã™. setOnRefreshListenerã§Listenerã‚’ç™»éŒ²ã—ã¾ã™.
private SwipeRefreshLayout mSwipe; @Override protected void onCreate(Bundle savedInstanceState) { ... mSwipe = (SwipeRefreshLayout) findViewById(R.id.refresh); // Callbackç™»éŒ² mSwipe.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() { @Override public void onRefresh() { /* ã“ã“ã«é©å½“ãªå‡¦ç†ã‚’æ›¸ã */ mSwipe.setRefreshing(false); } }); }  ListViewã‚’å¼•ã£å¼µã‚‹ã¨, setOnRefreshListenerãƒ¡ã‚½ãƒƒãƒ‰ãŒã‚³ãƒ¼ãƒ«ã•ã‚Œã¾ã™. setOnRefreshListenerã®æœ€å¾Œã«, setRefreshing(false)ã‚’ã‚³ãƒ¼ãƒ«ã—ã¾ã™.</description>
    </item>
    
  </channel>
</rss>